[package]
name = "tears"
version = "0.5.1"
authors = ["Teamon"]
edition = "2021"
license = "MIT"
repository = "https://github.com/Teamon9161/teapy"
description = "Wrapper of NdArray"
# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[features]
default = ["lazy", "window_func", "time", "blas", "arw", "option_dtype"]
# default = []
option_dtype = ["tea-dtype/option_dtype"]
time = ["tea-dtype/time"]
lazy = ["ops"]
srd = ["tea-dtype/srd"]
window_func = []
ops = []
blas = ["ndarray/blas", "lazy", "stat", "lapack-sys", "intel-mkl"]
npy = ["ndarray-npy"]
stat = ["statrs"]
arw = ["arrow", "memmap"]

# blas choices
openblas  = ["openblas-static"]
intel-mkl = ["intel-mkl-static"]

openblas-static = ["openblas-src/static"]
openblas-system = ["openblas-src/system"]

intel-mkl-static = ["intel-mkl-src/mkl-static-lp64-seq"]
intel-mkl-system = ["intel-mkl-src/mkl-dynamic-lp64-seq"]

[dependencies]
tea-dtype = { path = "../tea-dtype", default-features = false}
tea-utils = { path = "../tea-utils" }
num = "0.4"
regex = "1"
once_cell = "1.18"
ndarray = {features=['rayon', 'serde'], version="0.15"}
ahash = { version = "0.8", features = ["std", "runtime-rng"]}
numpy = "0.20.0"
rayon = "1.5"
libc = "0.2"
serde = { version = "1.0", features = ["derive", "rc"] }
pyo3 = {version = "0.20.0", features = ["extension-module", "abi3-py38", "macros", "serde"]}
parking_lot = "0.12"
chrono = {version = "0.4.31", features = ["serde"]}
# serde_with = { workspace=true }
lapack-sys = { version="0.14.0", optional=true }
intel-mkl-src = { version = "0.8.1", default-features = false, optional = true }
openblas-src = { version = "0.10.4", optional = true, default-features = false, features = ["cblas"] }
statrs = { version = "0.16", optional=true }
ndarray-npy = { version = "0.8.1", optional=true }
# arrow = {version = "46.0", optional = true, default-features = false, features = ["ipc"]}
arrow = {package = "arrow2", version = "0.18.0", optional = true, default-features = false, features = ["io_ipc", "io_ipc_compression"]}
memmap = { package = "memmap2", version = "0.9.0", optional = true }
# serde_regex = "1.1"