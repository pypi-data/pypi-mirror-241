import{S as I,i as Z,s as F,B as se,d as A,m as O,n as y,o as H,q as S,z as ae,A as fe,C as ce,c as M,D as ne,h as m,E as ue,F as _e,G as P,H as U,p as g,e as v,f as c,j as k,M as T,L as q,a5 as Y,U as G,ad as B,t as z,k as E,l as V,P as de,g as D}from"./routes-7e4fc71d.js";import{g as me}from"./color-cae9f2b8.js";import{B as ge}from"./BlockLabel-67cbdf2f.js";import"./index-ebb97cb7.js";import"./useReport-3eabe4cc.js";function he(i){let e,n,l;return{c(){e=q("svg"),n=q("path"),l=q("path"),c(n,"fill","currentColor"),c(n,"d","M12 15H5a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5V5a1 1 0 0 0-1-1H3V2h6a3 3 0 0 1 3 3zM5 9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h5V9zm15 14v2a1 1 0 0 0 1 1h5v-4h-5a1 1 0 0 0-1 1z"),c(l,"fill","currentColor"),c(l,"d","M2 30h28V2Zm26-2h-7a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5v-2a1 1 0 0 0-1-1h-6v-2h6a3 3 0 0 1 3 3Z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),c(e,"aria-hidden","true"),c(e,"role","img"),c(e,"class","iconify iconify--carbon"),c(e,"width","100%"),c(e,"height","100%"),c(e,"preserveAspectRatio","xMidYMid meet"),c(e,"viewBox","0 0 32 32")},m(o,r){m(o,e,r),k(e,n),k(e,l)},p:T,i:T,o:T,d(o){o&&g(e)}}}class oe extends I{constructor(e){super(),Z(this,e,null,he,F,{})}}function J(i,e,n){const l=i.slice();return l[15]=e[n][0],l[22]=e[n][1],l}function K(i,e,n){const l=i.slice();return l[15]=e[n][0],l[16]=e[n][1],l}function Q(i,e,n){const l=i.slice();return l[16]=e[n][0],l[19]=e[n][1],l[21]=n,l}function be(i){let e,n,l=i[1]&&W(),o=i[0],r=[];for(let t=0;t<o.length;t+=1)r[t]=X(J(i,o,t));return{c(){l&&l.c(),e=M(),n=v("div");for(let t=0;t<r.length;t+=1)r[t].c();c(n,"class","textfield p-2 bg-white dark:bg-gray-800 rounded box-border max-w-full break-word leading-7"),c(n,"data-testid","highlighted-text:textfield")},m(t,s){l&&l.m(t,s),m(t,e,s),m(t,n,s);for(let a=0;a<r.length;a+=1)r[a].m(n,null)},p(t,s){if(t[1]?l||(l=W(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),s&1){o=t[0];let a;for(a=0;a<o.length;a+=1){const d=J(t,o,a);r[a]?r[a].p(d,s):(r[a]=X(d),r[a].c(),r[a].m(n,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=o.length}},d(t){l&&l.d(t),t&&g(e),t&&g(n),G(r,t)}}}function pe(i){let e,n,l=i[1]&&x(i),o=i[0],r=[];for(let t=0;t<o.length;t+=1)r[t]=le(K(i,o,t));return{c(){l&&l.c(),e=M(),n=v("div");for(let t=0;t<r.length;t+=1)r[t].c();c(n,"class","textfield bg-white dark:bg-transparent rounded-sm text-sm box-border max-w-full break-word leading-7 mt-7"),c(n,"data-testid","highlighted-text:textfield")},m(t,s){l&&l.m(t,s),m(t,e,s),m(t,n,s);for(let a=0;a<r.length;a+=1)r[a].m(n,null)},p(t,s){if(t[1]?l?l.p(t,s):(l=x(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),s&15){o=t[0];let a;for(a=0;a<o.length;a+=1){const d=K(t,o,a);r[a]?r[a].p(d,s):(r[a]=le(d),r[a].c(),r[a].m(n,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=o.length}},d(t){l&&l.d(t),t&&g(e),t&&g(n),G(r,t)}}}function W(i){let e;return{c(){e=v("div"),e.innerHTML=`<span>-1</span> 
			<span>0</span> 
			<span>+1</span>`,c(e,"class","color_legend flex px-2 py-1 justify-between rounded mb-3 font-semibold mt-7"),c(e,"data-testid","highlighted-text:color-legend"),B(e,"background","-webkit-linear-gradient(to right,#8d83d6,(255,255,255,0),#eb4d4b)"),B(e,"background","linear-gradient(to right,#8d83d6,rgba(255,255,255,0),#eb4d4b)")},m(n,l){m(n,e,l)},d(n){n&&g(e)}}}function X(i){let e,n,l=i[15]+"",o,r,t;return{c(){e=v("span"),n=v("span"),o=z(l),r=M(),c(n,"class","text dark:text-white"),c(e,"class","textspan p-1 mr-0.5 bg-opacity-20 dark:bg-opacity-80 rounded-sm"),c(e,"style",t="background-color: rgba("+(i[22]<0?"141, 131, 214,"+-i[22]:"235, 77, 75,"+i[22])+")")},m(s,a){m(s,e,a),k(e,n),k(n,o),k(e,r)},p(s,a){a&1&&l!==(l=s[15]+"")&&E(o,l),a&1&&t!==(t="background-color: rgba("+(s[22]<0?"141, 131, 214,"+-s[22]:"235, 77, 75,"+s[22])+")")&&c(e,"style",t)},d(s){s&&g(e)}}}function x(i){let e,n=Object.entries(i[2]),l=[];for(let o=0;o<n.length;o+=1)l[o]=$(Q(i,n,o));return{c(){e=v("div");for(let o=0;o<l.length;o+=1)l[o].c();c(e,"class","category-legend flex flex-wrap gap-1 mb-2 text-black mt-7"),c(e,"data-testid","highlighted-text:category-legend")},m(o,r){m(o,e,r);for(let t=0;t<l.length;t+=1)l[t].m(e,null)},p(o,r){if(r&100){n=Object.entries(o[2]);let t;for(t=0;t<n.length;t+=1){const s=Q(o,n,t);l[t]?l[t].p(s,r):(l[t]=$(s),l[t].c(),l[t].m(e,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=n.length}},d(o){o&&g(e),G(l,o)}}}function $(i){let e,n=i[16]+"",l,o,r,t,s;function a(){return i[8](i[16])}function d(){return i[9](i[16])}return{c(){e=v("div"),l=z(n),o=M(),c(e,"class","category-label px-2 rounded-sm font-semibold cursor-pointer"),c(e,"style",r="background-color:"+i[19].secondary)},m(u,p){m(u,e,p),k(e,l),k(e,o),t||(s=[V(e,"mouseover",a),V(e,"focus",d),V(e,"mouseout",i[10]),V(e,"blur",i[11])],t=!0)},p(u,p){i=u,p&4&&n!==(n=i[16]+"")&&E(l,n),p&4&&r!==(r="background-color:"+i[19].secondary)&&c(e,"style",r)},d(u){u&&g(e),t=!1,de(s)}}}function ee(i){let e,n,l=i[16]+"",o,r;return{c(){e=z("Â "),n=v("span"),o=z(l),r=M(),c(n,"class","label mr-[-4px] font-bold uppercase text-xs inline-category text-white rounded-sm px-[0.325rem] mt-[0.05rem] py-[0.05rem] transition-colors svelte-o4yfdm"),B(n,"background-color",i[16]===null||i[3]&&i[3]!==i[16]?"":i[2][i[16]].primary,!1)},m(t,s){m(t,e,s),m(t,n,s),k(n,o),m(t,r,s)},p(t,s){s&1&&l!==(l=t[16]+"")&&E(o,l),s&13&&B(n,"background-color",t[16]===null||t[3]&&t[3]!==t[16]?"":t[2][t[16]].primary,!1)},d(t){t&&g(e),t&&g(n),t&&g(r)}}}function le(i){let e,n,l=i[15]+"",o,r,t=!i[1]&&i[16]!==null&&ee(i);return{c(){e=v("span"),n=v("span"),o=z(l),r=M(),t&&t.c(),c(n,"class","text "),c(e,"class","textspan rounded-sm px-1 transition-colors text-black pb-[0.225rem] pt-[0.15rem] svelte-o4yfdm"),D(e,"dark:text-white",i[16]===null||i[3]&&i[3]!==i[16]),D(e,"hl",i[16]!==null),B(e,"background-color",i[16]===null||i[3]&&i[3]!==i[16]?"":i[2][i[16]].secondary,!1)},m(s,a){m(s,e,a),k(e,n),k(n,o),k(e,r),t&&t.m(e,null)},p(s,a){a&1&&l!==(l=s[15]+"")&&E(o,l),!s[1]&&s[16]!==null?t?t.p(s,a):(t=ee(s),t.c(),t.m(e,null)):t&&(t.d(1),t=null),a&9&&D(e,"dark:text-white",s[16]===null||s[3]&&s[3]!==s[16]),a&1&&D(e,"hl",s[16]!==null),a&13&&B(e,"background-color",s[16]===null||s[3]&&s[3]!==s[16]?"":s[2][s[16]].secondary,!1)},d(s){s&&g(e),t&&t.d()}}}function ke(i){let e;function n(r,t){return r[4]==="categories"?pe:be}let l=n(i),o=l(i);return{c(){o.c(),e=ne()},m(r,t){o.m(r,t),m(r,e,t)},p(r,[t]){l===(l=n(r))&&o?o.p(r,t):(o.d(1),o=l(r),o&&(o.c(),o.m(e.parentNode,e)))},i:T,o:T,d(r){o.d(r),r&&g(e)}}}function ve(i,e,n){const l=typeof document<"u";let{value:o=[]}=e,{show_legend:r=!1}=e,{color_map:t={}}=e,s,a={},d="";function u(h,w){if(!s){var j=document.createElement("canvas");s=j.getContext("2d")}s.fillStyle=h,s.fillRect(0,0,1,1);const[R,re,ie]=s.getImageData(0,0,1,1).data;return s.clearRect(0,0,1,1),`rgba(${R}, ${re}, ${ie}, ${255/w})`}let p;function _(h){n(3,d=h)}function C(){n(3,d="")}const f=h=>_(h),b=h=>_(h),L=()=>C(),N=()=>C();return i.$$set=h=>{"value"in h&&n(0,o=h.value),"show_legend"in h&&n(1,r=h.show_legend),"color_map"in h&&n(7,t=h.color_map)},i.$$.update=()=>{if(i.$$.dirty&129){let h=function(){for(const w in t){const j=t[w].trim();j in Y?n(2,a[w]=Y[j],a):n(2,a[w]={primary:l?u(t[w],1):t[w],secondary:l?u(t[w],.5):t[w]},a)}};if(t||n(7,t={}),o.length>0){for(let[w,j]of o)if(j!==null)if(typeof j=="string"){if(n(4,p="categories"),!(j in t)){let R=me(Object.keys(t).length);n(7,t[j]=R,t)}}else n(4,p="scores")}h()}},[o,r,a,d,p,_,C,t,f,b,L,N]}class we extends I{constructor(e){super(),Z(this,e,ve,ke,F,{value:0,show_legend:1,color_map:7})}}function te(i){let e,n;return e=new ge({props:{Icon:oe,label:i[5],disable:typeof i[0].container=="boolean"&&!i[0].container}}),{c(){A(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const r={};o&32&&(r.label=l[5]),o&1&&(r.disable=typeof l[0].container=="boolean"&&!l[0].container),e.$set(r)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){H(e.$$.fragment,l),n=!1},d(l){S(e,l)}}}function ye(i){let e,n,l,o;return l=new oe({}),{c(){e=v("div"),n=v("div"),A(l.$$.fragment),c(n,"class","h-5 dark:text-white opacity-50"),c(e,"class","h-full min-h-[6rem] flex justify-center items-center")},m(r,t){m(r,e,t),k(e,n),O(l,n,null),o=!0},p:T,i(r){o||(y(l.$$.fragment,r),o=!0)},o(r){H(l.$$.fragment,r),o=!1},d(r){r&&g(e),S(l)}}}function je(i){let e,n;return e=new we({props:{value:i[3],show_legend:i[4],color_map:i[0].color_map}}),{c(){A(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const r={};o&8&&(r.value=l[3]),o&16&&(r.show_legend=l[4]),o&1&&(r.color_map=l[0].color_map),e.$set(r)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){H(e.$$.fragment,l),n=!1},d(l){S(e,l)}}}function He(i){let e,n,l,o,r,t,s;const a=[i[6]];let d={};for(let f=0;f<a.length;f+=1)d=fe(d,a[f]);e=new ce({props:d});let u=i[5]&&te(i);const p=[je,ye],_=[];function C(f,b){return f[3]?0:1}return o=C(i),r=_[o]=p[o](i),{c(){A(e.$$.fragment),n=M(),u&&u.c(),l=M(),r.c(),t=ne()},m(f,b){O(e,f,b),m(f,n,b),u&&u.m(f,b),m(f,l,b),_[o].m(f,b),m(f,t,b),s=!0},p(f,b){const L=b&64?ue(a,[_e(f[6])]):{};e.$set(L),f[5]?u?(u.p(f,b),b&32&&y(u,1)):(u=te(f),u.c(),y(u,1),u.m(l.parentNode,l)):u&&(P(),H(u,1,1,()=>{u=null}),U());let N=o;o=C(f),o===N?_[o].p(f,b):(P(),H(_[N],1,1,()=>{_[N]=null}),U(),r=_[o],r?r.p(f,b):(r=_[o]=p[o](f),r.c()),y(r,1),r.m(t.parentNode,t))},i(f){s||(y(e.$$.fragment,f),y(u),y(r),s=!0)},o(f){H(e.$$.fragment,f),H(u),H(r),s=!1},d(f){S(e,f),f&&g(n),u&&u.d(f),f&&g(l),_[o].d(f),f&&g(t)}}}function Me(i){let e,n;return e=new se({props:{test_id:"highlighted-text",visible:i[2],elem_id:i[1],disable:typeof i[0].container=="boolean"&&!i[0].container,$$slots:{default:[He]},$$scope:{ctx:i}}}),{c(){A(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,[o]){const r={};o&4&&(r.visible=l[2]),o&2&&(r.elem_id=l[1]),o&1&&(r.disable=typeof l[0].container=="boolean"&&!l[0].container),o&633&&(r.$$scope={dirty:o,ctx:l}),e.$set(r)},i(l){n||(y(e.$$.fragment,l),n=!0)},o(l){H(e.$$.fragment,l),n=!1},d(l){S(e,l)}}}function Ce(i,e,n){let{elem_id:l=""}=e,{visible:o=!0}=e,{value:r}=e,{show_legend:t}=e,{color_map:s={}}=e,{label:a}=e,{style:d={}}=e,{loading_status:u}=e;const p=ae();return i.$$set=_=>{"elem_id"in _&&n(1,l=_.elem_id),"visible"in _&&n(2,o=_.visible),"value"in _&&n(3,r=_.value),"show_legend"in _&&n(4,t=_.show_legend),"color_map"in _&&n(7,s=_.color_map),"label"in _&&n(5,a=_.label),"style"in _&&n(0,d=_.style),"loading_status"in _&&n(6,u=_.loading_status)},i.$$.update=()=>{i.$$.dirty&129&&!d.color_map&&Object.keys(s).length&&n(0,d.color_map=s,d),i.$$.dirty&8&&p("change")},[d,l,o,r,t,a,u,s]}class Te extends I{constructor(e){super(),Z(this,e,Ce,Me,F,{elem_id:1,visible:2,value:3,show_legend:4,color_map:7,label:5,style:0,loading_status:6})}}var Se=Te;const Ve=["static"],De=i=>({type:"Array<[string, string | number]>",description:"list of text spans and corresponding label / value"});export{Se as Component,De as document,Ve as modes};
