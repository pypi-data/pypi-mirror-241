import{c as ye,r as W,w as ge,o as pt,g as gt,e as Ot,s as Nt,n as Be,V as _t}from"./vue.esm.01cc5dc9.js";import{h as ue,V as yt}from"./moment.a3085614.js";import{_ as ne}from"./lodash.b33de59f.js";import{n as Fe}from"./plugin-vue2_normalizer.ed7092a9.js";import"./_commonjsHelpers.04e31c8c.js";const U={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},it=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],nt=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],st=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"],V=typeof window<"u"&&typeof window.document<"u"?window.document:{},K="fullscreenEnabled"in V&&Object.keys(U)||it[0]in V&&it||nt[0]in V&&nt||st[0]in V&&st||[],Mt={requestFullscreen:e=>e[K[U.requestFullscreen]](),requestFullscreenFunction:e=>e[K[U.requestFullscreen]],get exitFullscreen(){return V[K[U.exitFullscreen]].bind(V)},addEventListener:(e,t,a)=>V.addEventListener(K[U[e]],t,a),removeEventListener:(e,t,a)=>V.removeEventListener(K[U[e]],t,a),get fullscreenEnabled(){return Boolean(V[K[U.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return V[K[U.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return V[`on${K[U.fullscreenchange]}`.toLowerCase()]},set onfullscreenchange(e){return V[`on${K[U.fullscreenchange]}`.toLowerCase()]=e},get onfullscreenerror(){return V[`on${K[U.fullscreenerror]}`.toLowerCase()]},set onfullscreenerror(e){return V[`on${K[U.fullscreenerror]}`.toLowerCase()]=e}};window.fscreen=Mt;/**
 * @license
 * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var Pt=function(e,t,a,r,i,n){var o=function(l){return l==="logscale"?!1:r(l)};return oe(e,t,a,o,i,n)},oe=function(e,t,a,r,i,n){var o=r("pixelsPerLabel"),l=[],s,h,c,u;if(n)for(s=0;s<n.length;s++)l.push({v:n[s]});else{if(r("logscale")){u=Math.floor(a/o);var f=Me(e,Le,1),p=Me(t,Le,-1);f==-1&&(f=0),p==-1&&(p=Le.length-1);var d=null;if(p-f>=u/4){for(var v=p;v>=f;v--){var _=Le[v],b=Math.log(_/e)/Math.log(t/e)*a,m={v:_};d===null?d={tickValue:_,pixel_coord:b}:Math.abs(b-d.pixel_coord)>=o?d={tickValue:_,pixel_coord:b}:m.label="",l.push(m)}l.reverse()}}if(l.length===0){var w=r("labelsKMG2"),C,S;w?(C=[1,2,4,8,16,32,64,128,256],S=16):(C=[1,2,5,10,20,50,100],S=10);var R=Math.ceil(a/o),y=Math.abs(t-e)/R,A=Math.floor(Math.log(y)/Math.log(S)),L=Math.pow(S,A),x,T,I,X;for(h=0;h<C.length&&(x=L*C[h],T=Math.floor(e/x)*x,I=Math.ceil(t/x)*x,u=Math.abs(I-T)/x,X=a/u,!(X>o));h++);for(T>I&&(x*=-1),s=0;s<=u;s++)c=T+s*x,l.push({v:c})}}var Y=r("axisLabelFormatter");for(s=0;s<l.length;s++)l[s].label===void 0&&(l[s].label=Y.call(i,l[s].v,0,r,i));return l},me=function(e,t,a,r,i,n){var o=Rt(e,t,a,r);return o>=0?mt(e,t,o,r,i):[]},D={MILLISECONDLY:0,TWO_MILLISECONDLY:1,FIVE_MILLISECONDLY:2,TEN_MILLISECONDLY:3,FIFTY_MILLISECONDLY:4,HUNDRED_MILLISECONDLY:5,FIVE_HUNDRED_MILLISECONDLY:6,SECONDLY:7,TWO_SECONDLY:8,FIVE_SECONDLY:9,TEN_SECONDLY:10,THIRTY_SECONDLY:11,MINUTELY:12,TWO_MINUTELY:13,FIVE_MINUTELY:14,TEN_MINUTELY:15,THIRTY_MINUTELY:16,HOURLY:17,TWO_HOURLY:18,SIX_HOURLY:19,DAILY:20,TWO_DAILY:21,WEEKLY:22,MONTHLY:23,QUARTERLY:24,BIANNUAL:25,ANNUAL:26,DECADAL:27,CENTENNIAL:28,NUM_GRANULARITIES:29},O={DATEFIELD_Y:0,DATEFIELD_M:1,DATEFIELD_D:2,DATEFIELD_HH:3,DATEFIELD_MM:4,DATEFIELD_SS:5,DATEFIELD_MS:6,NUM_DATEFIELDS:7},N=[];N[D.MILLISECONDLY]={datefield:O.DATEFIELD_MS,step:1,spacing:1};N[D.TWO_MILLISECONDLY]={datefield:O.DATEFIELD_MS,step:2,spacing:2};N[D.FIVE_MILLISECONDLY]={datefield:O.DATEFIELD_MS,step:5,spacing:5};N[D.TEN_MILLISECONDLY]={datefield:O.DATEFIELD_MS,step:10,spacing:10};N[D.FIFTY_MILLISECONDLY]={datefield:O.DATEFIELD_MS,step:50,spacing:50};N[D.HUNDRED_MILLISECONDLY]={datefield:O.DATEFIELD_MS,step:100,spacing:100};N[D.FIVE_HUNDRED_MILLISECONDLY]={datefield:O.DATEFIELD_MS,step:500,spacing:500};N[D.SECONDLY]={datefield:O.DATEFIELD_SS,step:1,spacing:1e3*1};N[D.TWO_SECONDLY]={datefield:O.DATEFIELD_SS,step:2,spacing:1e3*2};N[D.FIVE_SECONDLY]={datefield:O.DATEFIELD_SS,step:5,spacing:1e3*5};N[D.TEN_SECONDLY]={datefield:O.DATEFIELD_SS,step:10,spacing:1e3*10};N[D.THIRTY_SECONDLY]={datefield:O.DATEFIELD_SS,step:30,spacing:1e3*30};N[D.MINUTELY]={datefield:O.DATEFIELD_MM,step:1,spacing:1e3*60};N[D.TWO_MINUTELY]={datefield:O.DATEFIELD_MM,step:2,spacing:1e3*60*2};N[D.FIVE_MINUTELY]={datefield:O.DATEFIELD_MM,step:5,spacing:1e3*60*5};N[D.TEN_MINUTELY]={datefield:O.DATEFIELD_MM,step:10,spacing:1e3*60*10};N[D.THIRTY_MINUTELY]={datefield:O.DATEFIELD_MM,step:30,spacing:1e3*60*30};N[D.HOURLY]={datefield:O.DATEFIELD_HH,step:1,spacing:1e3*3600};N[D.TWO_HOURLY]={datefield:O.DATEFIELD_HH,step:2,spacing:1e3*3600*2};N[D.SIX_HOURLY]={datefield:O.DATEFIELD_HH,step:6,spacing:1e3*3600*6};N[D.DAILY]={datefield:O.DATEFIELD_D,step:1,spacing:1e3*86400};N[D.TWO_DAILY]={datefield:O.DATEFIELD_D,step:2,spacing:1e3*86400*2};N[D.WEEKLY]={datefield:O.DATEFIELD_D,step:7,spacing:1e3*604800};N[D.MONTHLY]={datefield:O.DATEFIELD_M,step:1,spacing:1e3*7200*365.2524};N[D.QUARTERLY]={datefield:O.DATEFIELD_M,step:3,spacing:1e3*21600*365.2524};N[D.BIANNUAL]={datefield:O.DATEFIELD_M,step:6,spacing:1e3*43200*365.2524};N[D.ANNUAL]={datefield:O.DATEFIELD_Y,step:1,spacing:1e3*86400*365.2524};N[D.DECADAL]={datefield:O.DATEFIELD_Y,step:10,spacing:1e3*864e3*365.2524};N[D.CENTENNIAL]={datefield:O.DATEFIELD_Y,step:100,spacing:1e3*864e4*365.2524};var Le=function(){for(var e=[],t=-39;t<=39;t++)for(var a=Math.pow(10,t),r=1;r<=9;r++){var i=a*r;e.push(i)}return e}(),Rt=function(e,t,a,r){for(var i=r("pixelsPerLabel"),n=0;n<D.NUM_GRANULARITIES;n++){var o=Ft(e,t,n);if(a/o>=i)return n}return-1},Ft=function(e,t,a){var r=N[a].spacing;return Math.round(1*(t-e)/r)},mt=function(e,t,a,r,i){var n=r("axisLabelFormatter"),o=r("labelsUTC"),l=o?Je:Qe,s=N[a].datefield,h=N[a].step,c=N[a].spacing,u=new Date(e),f=[];f[O.DATEFIELD_Y]=l.getFullYear(u),f[O.DATEFIELD_M]=l.getMonth(u),f[O.DATEFIELD_D]=l.getDate(u),f[O.DATEFIELD_HH]=l.getHours(u),f[O.DATEFIELD_MM]=l.getMinutes(u),f[O.DATEFIELD_SS]=l.getSeconds(u),f[O.DATEFIELD_MS]=l.getMilliseconds(u);var p=f[s]%h;a==D.WEEKLY&&(p=l.getDay(u)),f[s]-=p;for(var d=s+1;d<O.NUM_DATEFIELDS;d++)f[d]=d===O.DATEFIELD_D?1:0;var v=[],_=l.makeDate.apply(null,f),b=_.getTime();if(a<=D.HOURLY)for(b<e&&(b+=c,_=new Date(b));b<=t;)v.push({v:b,label:n.call(i,_,a,r,i)}),b+=c,_=new Date(b);else for(b<e&&(f[s]+=h,_=l.makeDate.apply(null,f),b=_.getTime());b<=t;)(a>=D.DAILY||l.getHours(_)%h===0)&&v.push({v:b,label:n.call(i,_,a,r,i)}),f[s]+=h,_=l.makeDate.apply(null,f),b=_.getTime();return v};/**
 * @license
 * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var ce=10,kt=Math.log(ce),F=function(e){return Math.log(e)/kt},De=function(e,t,a){var r=F(e),i=F(t),n=r+a*(i-r),o=Math.pow(ce,n);return o},It=[7,3],Ht=[7,2,2,2],Te=1,Oe=2,Ne=function(e){return e.getContext("2d")},pe=function(t,a,r){t.addEventListener(a,r,!1)};function q(e,t,a){e.removeEventListener(t,a,!1)}function te(e){return e=e||window.event,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1}function Xt(e,t,a){var r,i,n;if(t===0)r=a,i=a,n=a;else{var o=Math.floor(e*6),l=e*6-o,s=a*(1-t),h=a*(1-t*l),c=a*(1-t*(1-l));switch(o){case 1:r=h,i=a,n=s;break;case 2:r=s,i=a,n=c;break;case 3:r=s,i=h,n=a;break;case 4:r=c,i=s,n=a;break;case 5:r=a,i=s,n=h;break;case 6:case 0:r=a,i=c,n=s;break}}return r=Math.floor(255*r+.5),i=Math.floor(255*i+.5),n=Math.floor(255*n+.5),"rgb("+r+","+i+","+n+")"}function be(e){var t=e.getBoundingClientRect(),a=window,r=document.documentElement;return{x:t.left+(a.pageXOffset||r.scrollLeft),y:t.top+(a.pageYOffset||r.scrollTop)}}function ke(e){return!e.pageX||e.pageX<0?0:e.pageX}function Ie(e){return!e.pageY||e.pageY<0?0:e.pageY}function He(e,t){return ke(e)-t.px}function Xe(e,t){return Ie(e)-t.py}function Wt(e){return!!e&&!isNaN(e)}function _e(e,t){return!(!e||e.yval===null||e.x===null||e.x===void 0||e.y===null||e.y===void 0||isNaN(e.x)||!t&&isNaN(e.y))}function bt(e,t){var a=Math.min(Math.max(1,t||2),21);return Math.abs(e)<.001&&e!==0?e.toExponential(a-1):e.toPrecision(a)}function se(e){return e<10?"0"+e:""+e}var Qe={getFullYear:e=>e.getFullYear(),getMonth:e=>e.getMonth(),getDate:e=>e.getDate(),getHours:e=>e.getHours(),getMinutes:e=>e.getMinutes(),getSeconds:e=>e.getSeconds(),getMilliseconds:e=>e.getMilliseconds(),getDay:e=>e.getDay(),makeDate:function(e,t,a,r,i,n,o){return new Date(e,t,a,r,i,n,o)}},Je={getFullYear:e=>e.getUTCFullYear(),getMonth:e=>e.getUTCMonth(),getDate:e=>e.getUTCDate(),getHours:e=>e.getUTCHours(),getMinutes:e=>e.getUTCMinutes(),getSeconds:e=>e.getUTCSeconds(),getMilliseconds:e=>e.getUTCMilliseconds(),getDay:e=>e.getUTCDay(),makeDate:function(e,t,a,r,i,n,o){return new Date(Date.UTC(e,t,a,r,i,n,o))}};function ze(e,t,a,r){var i=se(e)+":"+se(t);if(a&&(i+=":"+se(a),r)){var n=""+r;i+="."+("000"+n).substring(n.length)}return i}function wt(e,t){var a=t?Je:Qe,r=new Date(e),i=a.getFullYear(r),n=a.getMonth(r),o=a.getDate(r),l=a.getHours(r),s=a.getMinutes(r),h=a.getSeconds(r),c=a.getMilliseconds(r),u=""+i,f=se(n+1),p=se(o),d=l*3600+s*60+h+.001*c,v=u+"/"+f+"/"+p;return d&&(v+=" "+ze(l,s,h,c)),v}function Ue(e,t){var a=Math.pow(10,t);return Math.round(e*a)/a}function Me(e,t,a,r,i){if((r==null||i===null||i===void 0)&&(r=0,i=t.length-1),r>i)return-1;a==null&&(a=0);var n=function(h){return h>=0&&h<t.length},o=parseInt((r+i)/2,10),l=t[o],s;return l==e?o:l>e?a>0&&(s=o-1,n(s)&&t[s]<e)?o:Me(e,t,a,r,o-1):l<e?a<0&&(s=o+1,n(s)&&t[s]>e)?o:Me(e,t,a,o+1,i):-1}function xt(e){var t,a;if((e.search("-")==-1||e.search("T")!=-1||e.search("Z")!=-1)&&(a=Ee(e),a&&!isNaN(a)))return a;if(e.search("-")!=-1){for(t=e.replace("-","/","g");t.search("-")!=-1;)t=t.replace("-","/");a=Ee(t)}else e.length==8?(t=e.substr(0,4)+"/"+e.substr(4,2)+"/"+e.substr(6,2),a=Ee(t)):a=Ee(e);return(!a||isNaN(a))&&console.error("Couldn't parse "+e+" as a date"),a}function Ee(e){return new Date(e).getTime()}function Q(e,t){if(typeof t<"u"&&t!==null)for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}function je(e,t){function a(i){return typeof Node=="object"?i instanceof Node:typeof i=="object"&&typeof i.nodeType=="number"&&typeof i.nodeName=="string"}if(typeof t<"u"&&t!==null)for(var r in t)t.hasOwnProperty(r)&&(t[r]===null?e[r]=null:de(t[r])?e[r]=t[r].slice():a(t[r])?e[r]=t[r]:typeof t[r]=="object"?((typeof e[r]!="object"||e[r]===null)&&(e[r]={}),je(e[r],t[r])):e[r]=t[r]);return e}function de(e){var t=typeof e;return!(t!="object"&&!(t=="function"&&typeof e.item=="function")||e===null||typeof e.length!="number"||e.nodeType===3)}function At(e){return!(typeof e!="object"||e===null||typeof e.getTime!="function")}function Ct(e){for(var t=[],a=0;a<e.length;a++)de(e[a])?t.push(Ct(e[a])):t.push(e[a]);return t}function Pe(){return document.createElement("canvas")}function $e(e){try{var t=window.devicePixelRatio,a=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t!==void 0?t/a:1}catch{return 1}}function St(e,t,a,r){t=t||0,a=a||e.length,this.hasNext=!0,this.peek=null,this.start_=t,this.array_=e,this.predicate_=r,this.end_=Math.min(e.length,t+a),this.nextIdx_=t-1,this.next()}St.prototype.next=function(){if(!this.hasNext)return null;for(var e=this.peek,t=this.nextIdx_+1,a=!1;t<this.end_;){if(!this.predicate_||this.predicate_(this.array_,t)){this.peek=this.array_[t],a=!0;break}t++}return this.nextIdx_=t,a||(this.hasNext=!1,this.peek=null),e};function et(e,t,a,r){return new St(e,t,a,r)}var Zt=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function Lt(e,t,a,r){var i=0,n,o=new Date().getTime();if(e(i),t==1){r();return}var l=t-1;(function s(){i>=t||Zt.call(window,function(){var h=new Date().getTime(),c=h-o;n=i,i=Math.floor(c/a);var u=i-n,f=i+u>l;f||i>=l?(e(l),r()):(u!==0&&e(i),s())})})()}var ot={annotationClickHandler:!0,annotationDblClickHandler:!0,annotationMouseOutHandler:!0,annotationMouseOverHandler:!0,axisLineColor:!0,axisLineWidth:!0,clickCallback:!0,drawCallback:!0,drawHighlightPointCallback:!0,drawPoints:!0,drawPointCallback:!0,drawGrid:!0,fillAlpha:!0,gridLineColor:!0,gridLineWidth:!0,hideOverlayOnMouseOut:!0,highlightCallback:!0,highlightCircleSize:!0,interactionModel:!0,labelsDiv:!0,labelsKMB:!0,labelsKMG2:!0,labelsSeparateLines:!0,labelsShowZeroValues:!0,legend:!0,panEdgeFraction:!0,pixelsPerYLabel:!0,pointClickCallback:!0,pointSize:!0,rangeSelectorPlotFillColor:!0,rangeSelectorPlotFillGradientColor:!0,rangeSelectorPlotStrokeColor:!0,rangeSelectorBackgroundStrokeColor:!0,rangeSelectorBackgroundLineWidth:!0,rangeSelectorPlotLineWidth:!0,rangeSelectorForegroundStrokeColor:!0,rangeSelectorForegroundLineWidth:!0,rangeSelectorAlpha:!0,showLabelsOnHighlight:!0,showRoller:!0,strokeWidth:!0,underlayCallback:!0,unhighlightCallback:!0,zoomCallback:!0};function Yt(e,t){var a={};if(e)for(var r=1;r<e.length;r++)a[e[r]]=!0;var i=function(s){for(var h in s)if(s.hasOwnProperty(h)&&!ot[h])return!0;return!1};for(var n in t)if(!!t.hasOwnProperty(n)){if(n=="highlightSeriesOpts"||a[n]&&!t.series){if(i(t[n]))return!0}else if(n=="series"||n=="axes"){var o=t[n];for(var l in o)if(o.hasOwnProperty(l)&&i(o[l]))return!0}else if(!ot[n])return!0}return!1}var tt={DEFAULT:function(e,t,a,r,i,n,o){a.beginPath(),a.fillStyle=n,a.arc(r,i,o,0,2*Math.PI,!1),a.fill()}};function Et(e){for(var t=0;t<e.length;t++){var a=e.charAt(t);if(a==="\r")return t+1<e.length&&e.charAt(t+1)===`
`?`\r
`:a;if(a===`
`)return t+1<e.length&&e.charAt(t+1)==="\r"?`
\r`:a}return null}function lt(e,t){if(t===null||e===null)return!1;for(var a=e;a&&a!==t;)a=a.parentNode;return a===t}function ht(e,t){return t<0?1/Math.pow(e,-t):Math.pow(e,t)}var Vt=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([01](?:\.\d+)?))?\)$/;function ut(e){var t=Vt.exec(e);if(!t)return null;var a=parseInt(t[1],10),r=parseInt(t[2],10),i=parseInt(t[3],10);return t[4]?{r:a,g:r,b:i,a:parseFloat(t[4])}:{r:a,g:r,b:i}}function We(e){var t=ut(e);if(t)return t;var a=document.createElement("div");a.style.backgroundColor=e,a.style.visibility="hidden",document.body.appendChild(a);var r=window.getComputedStyle(a,null).backgroundColor;return document.body.removeChild(a),ut(r)}function Gt(e){try{var t=e||document.createElement("canvas");t.getContext("2d")}catch{return!1}return!0}function ae(e,t,a){var r=parseFloat(e);if(!isNaN(r))return r;if(/^ *$/.test(e))return null;if(/^ *nan *$/i.test(e))return NaN;var i="Unable to parse '"+e+"' as a number";return a!==void 0&&t!==void 0&&(i+=" on line "+(1+(t||0))+" ('"+a+"') of CSV."),console.error(i),null}var Bt=["K","M","B","T","Q"],Ut=["k","M","G","T","P","E","Z","Y"],zt=["m","u","n","p","f","a","z","y"];function Ke(e,t){var a=t("sigFigs");if(a!==null)return bt(e,a);var r=t("digitsAfterDecimal"),i=t("maxNumberWidth"),n=t("labelsKMB"),o=t("labelsKMG2"),l;if(e!==0&&(Math.abs(e)>=Math.pow(10,i)||Math.abs(e)<Math.pow(10,-r))?l=e.toExponential(r):l=""+Ue(e,r),n||o){var s,h=[],c=[];n&&(s=1e3,h=Bt),o&&(n&&console.warn("Setting both labelsKMB and labelsKMG2. Pick one!"),s=1024,h=Ut,c=zt);for(var u=Math.abs(e),f=ht(s,h.length),p=h.length-1;p>=0;p--,f/=s)if(u>=f){l=Ue(e/f,r)+h[p];break}if(o){var d=String(e.toExponential()).split("e-");d.length===2&&d[1]>=3&&d[1]<=24&&(d[1]%3>0?l=Ue(d[0]/ht(10,d[1]%3),r):l=Number(d[0]).toFixed(2),l+=c[Math.floor(d[1]/3)-1])}}return l}function qe(e,t,a){return Ke.call(this,e,a)}var ct=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function we(e,t,a){var r=a("labelsUTC"),i=r?Je:Qe,n=i.getFullYear(e),o=i.getMonth(e),l=i.getDate(e),s=i.getHours(e),h=i.getMinutes(e),c=i.getSeconds(e),u=i.getMilliseconds(e);if(t>=D.DECADAL)return""+n;if(t>=D.MONTHLY)return ct[o]+"&#160;"+n;var f=s*3600+h*60+c+.001*u;if(f===0||t>=D.DAILY)return se(l)+"&#160;"+ct[o];if(t<D.SECONDLY){var p=""+u;return se(c)+"."+("000"+p).substring(p.length)}else return t>D.MINUTELY?ze(s,h,c,0):ze(s,h,c,u)}function Ze(e,t){return wt(e,t("labelsUTC"))}/**
 * @license
 * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var H=function(e){this.dygraph_=e,this.points=[],this.setNames=[],this.annotations=[],this.yAxes_=null,this.xTicks_=null,this.yTicks_=null};H.prototype.addDataset=function(e,t){this.points.push(t),this.setNames.push(e)};H.prototype.getPlotArea=function(){return this.area_};H.prototype.computePlotArea=function(){var e={x:0,y:0};e.w=this.dygraph_.width_-e.x-this.dygraph_.getOption("rightGap"),e.h=this.dygraph_.height_;var t={chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(a){var r={x:e.x,y:e.y,w:a,h:e.h};return e.x+=a,e.w-=a,r},reserveSpaceRight:function(a){var r={x:e.x+e.w-a,y:e.y,w:a,h:e.h};return e.w-=a,r},reserveSpaceTop:function(a){var r={x:e.x,y:e.y,w:e.w,h:a};return e.y+=a,e.h-=a,r},reserveSpaceBottom:function(a){var r={x:e.x,y:e.y+e.h-a,w:e.w,h:a};return e.h-=a,r},chartRect:function(){return{x:e.x,y:e.y,w:e.w,h:e.h}}};this.dygraph_.cascadeEvents_("layout",t),this.area_=e};H.prototype.setAnnotations=function(e){this.annotations=[];for(var t=this.dygraph_.getOption("xValueParser")||function(i){return i},a=0;a<e.length;a++){var r={};if(!e[a].xval&&e[a].x===void 0){console.error("Annotations must have an 'x' property");return}if(e[a].icon&&!(e[a].hasOwnProperty("width")&&e[a].hasOwnProperty("height"))){console.error("Must set width and height when setting annotation.icon property");return}Q(r,e[a]),r.xval||(r.xval=t(r.x)),this.annotations.push(r)}};H.prototype.setXTicks=function(e){this.xTicks_=e};H.prototype.setYAxes=function(e){this.yAxes_=e};H.prototype.evaluate=function(){this._xAxis={},this._evaluateLimits(),this._evaluateLineCharts(),this._evaluateLineTicks(),this._evaluateAnnotations()};H.prototype._evaluateLimits=function(){var e=this.dygraph_.xAxisRange();this._xAxis.minval=e[0],this._xAxis.maxval=e[1];var t=e[1]-e[0];this._xAxis.scale=t!==0?1/t:1,this.dygraph_.getOptionForAxis("logscale","x")&&(this._xAxis.xlogrange=F(this._xAxis.maxval)-F(this._xAxis.minval),this._xAxis.xlogscale=this._xAxis.xlogrange!==0?1/this._xAxis.xlogrange:1);for(var a=0;a<this.yAxes_.length;a++){var r=this.yAxes_[a];r.minyval=r.computedValueRange[0],r.maxyval=r.computedValueRange[1],r.yrange=r.maxyval-r.minyval,r.yscale=r.yrange!==0?1/r.yrange:1,this.dygraph_.getOption("logscale")&&(r.ylogrange=F(r.maxyval)-F(r.minyval),r.ylogscale=r.ylogrange!==0?1/r.ylogrange:1,(!isFinite(r.ylogrange)||isNaN(r.ylogrange))&&console.error("axis "+a+" of graph at "+r.g+" can't be displayed in log scale for range ["+r.minyval+" - "+r.maxyval+"]"))}};H.calcXNormal_=function(e,t,a){return a?(F(e)-F(t.minval))*t.xlogscale:(e-t.minval)*t.scale};H.calcYNormal_=function(e,t,a){if(a){var r=1-(F(t)-F(e.minyval))*e.ylogscale;return isFinite(r)?r:NaN}else return 1-(t-e.minyval)*e.yscale};H.prototype._evaluateLineCharts=function(){for(var e=this.dygraph_.getOption("stackedGraph"),t=this.dygraph_.getOptionForAxis("logscale","x"),a=0;a<this.points.length;a++){for(var r=this.points[a],i=this.setNames[a],n=this.dygraph_.getOption("connectSeparatedPoints",i),o=this.dygraph_.axisPropertiesForSeries(i),l=this.dygraph_.attributes_.getForSeries("logscale",i),s=0;s<r.length;s++){var h=r[s];h.x=H.calcXNormal_(h.xval,this._xAxis,t);var c=h.yval;e&&(h.y_stacked=H.calcYNormal_(o,h.yval_stacked,l),c!==null&&!isNaN(c)&&(c=h.yval_stacked)),c===null&&(c=NaN,n||(h.yval=NaN)),h.y=H.calcYNormal_(o,c,l)}this.dygraph_.dataHandler_.onLineEvaluated(r,o,l)}};H.prototype._evaluateLineTicks=function(){var e,t,a,r,i,n;for(this.xticks=[],e=0;e<this.xTicks_.length;e++)t=this.xTicks_[e],a=t.label,n=!("label_v"in t),i=n?t.v:t.label_v,r=this.dygraph_.toPercentXCoord(i),r>=0&&r<1&&this.xticks.push({pos:r,label:a,has_tick:n});for(this.yticks=[],e=0;e<this.yAxes_.length;e++)for(var o=this.yAxes_[e],l=0;l<o.ticks.length;l++)t=o.ticks[l],a=t.label,n=!("label_v"in t),i=n?t.v:t.label_v,r=this.dygraph_.toPercentYCoord(i,e),r>0&&r<=1&&this.yticks.push({axis:e,pos:r,label:a,has_tick:n})};H.prototype._evaluateAnnotations=function(){var e,t={};for(e=0;e<this.annotations.length;e++){var a=this.annotations[e];t[a.xval+","+a.series]=a}if(this.annotated_points=[],!(!this.annotations||!this.annotations.length))for(var r=0;r<this.points.length;r++){var i=this.points[r];for(e=0;e<i.length;e++){var n=i[e],o=n.xval+","+n.name;o in t&&(n.annotation=t[o],this.annotated_points.push(n))}}};H.prototype.removeAllDatasets=function(){delete this.points,delete this.setNames,delete this.setPointsLengths,delete this.setPointsOffsets,this.points=[],this.setNames=[],this.setPointsLengths=[],this.setPointsOffsets=[]};/**
 * @license
 * Copyright 2006 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var M=function(e,t,a,r){if(this.dygraph_=e,this.layout=r,this.element=t,this.elementContext=a,this.height=e.height_,this.width=e.width_,!Gt(this.element))throw"Canvas is not supported.";this.area=r.getPlotArea();var i=this.dygraph_.canvas_ctx_;i.beginPath(),i.rect(this.area.x,this.area.y,this.area.w,this.area.h),i.clip(),i=this.dygraph_.hidden_ctx_,i.beginPath(),i.rect(this.area.x,this.area.y,this.area.w,this.area.h),i.clip()};M.prototype.clear=function(){this.elementContext.clearRect(0,0,this.width,this.height)};M.prototype.render=function(){this._updatePoints(),this._renderLineChart()};M._getIteratorPredicate=function(e){return e?M._predicateThatSkipsEmptyPoints:null};M._predicateThatSkipsEmptyPoints=function(e,t){return e[t].yval!==null};M._drawStyledLine=function(e,t,a,r,i,n,o){var l=e.dygraph,s=l.getBooleanOption("stepPlot",e.setName);de(r)||(r=null);var h=l.getBooleanOption("drawGapEdgePoints",e.setName),c=e.points,u=e.setName,f=et(c,0,c.length,M._getIteratorPredicate(l.getBooleanOption("connectSeparatedPoints",u))),p=r&&r.length>=2,d=e.drawingContext;d.save(),p&&d.setLineDash&&d.setLineDash(r);var v=M._drawSeries(e,f,a,o,i,h,s,t);M._drawPointsOnLine(e,v,n,t,o),p&&d.setLineDash&&d.setLineDash([]),d.restore()};M._drawSeries=function(e,t,a,r,i,n,o,l){var s=null,h=null,c=null,u,f,p=[],d=!0,v=e.drawingContext;v.beginPath(),v.strokeStyle=l,v.lineWidth=a;for(var _=t.array_,b=t.end_,m=t.predicate_,w=t.start_;w<b;w++){if(f=_[w],m){for(;w<b&&!m(_,w);)w++;if(w==b)break;f=_[w]}if(f.canvasy===null||f.canvasy!=f.canvasy)o&&s!==null&&(v.moveTo(s,h),v.lineTo(f.canvasx,h)),s=h=null;else{if(u=!1,n||s===null){t.nextIdx_=w,t.next(),c=t.hasNext?t.peek.canvasy:null;var C=c===null||c!=c;u=s===null&&C,n&&(!d&&s===null||t.hasNext&&C)&&(u=!0)}s!==null?a&&(o&&(v.moveTo(s,h),v.lineTo(f.canvasx,h)),v.lineTo(f.canvasx,f.canvasy)):v.moveTo(f.canvasx,f.canvasy),(i||u)&&p.push([f.canvasx,f.canvasy,f.idx]),s=f.canvasx,h=f.canvasy}d=!1}return v.stroke(),p};M._drawPointsOnLine=function(e,t,a,r,i){for(var n=e.drawingContext,o=0;o<t.length;o++){var l=t[o];n.save(),a.call(e.dygraph,e.dygraph,e.setName,n,l[0],l[1],r,i,l[2]),n.restore()}};M.prototype._updatePoints=function(){for(var e=this.layout.points,t=e.length;t--;)for(var a=e[t],r=a.length;r--;){var i=a[r];i.canvasx=this.area.w*i.x+this.area.x,i.canvasy=this.area.h*i.y+this.area.y}};M.prototype._renderLineChart=function(e,t){var a=t||this.elementContext,r,i=this.layout.points,n=this.layout.setNames,o;this.colors=this.dygraph_.colorsMap_;var l=this.dygraph_.getOption("plotter"),s=l;de(s)||(s=[s]);var h={};for(r=0;r<n.length;r++){o=n[r];var c=this.dygraph_.getOption("plotter",o);c!=l&&(h[o]=c)}for(r=0;r<s.length;r++)for(var u=s[r],f=r==s.length-1,p=0;p<i.length;p++)if(o=n[p],!(e&&o!=e)){var d=i[p],v=u;if(o in h)if(f)v=h[o];else continue;var _=this.colors[o],b=this.dygraph_.getOption("strokeWidth",o);a.save(),a.strokeStyle=_,a.lineWidth=b,v({points:d,setName:o,drawingContext:a,color:_,strokeWidth:b,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(o),plotArea:this.area,seriesIndex:p,seriesCount:i.length,singleSeriesName:e,allSeriesPoints:i}),a.restore()}};M._Plotters={linePlotter:function(e){M._linePlotter(e)},fillPlotter:function(e){M._fillPlotter(e)},errorPlotter:function(e){M._errorPlotter(e)}};M._linePlotter=function(e){var t=e.dygraph,a=e.setName,r=e.strokeWidth,i=t.getNumericOption("strokeBorderWidth",a),n=t.getOption("drawPointCallback",a)||tt.DEFAULT,o=t.getOption("strokePattern",a),l=t.getBooleanOption("drawPoints",a),s=t.getNumericOption("pointSize",a);i&&r&&M._drawStyledLine(e,t.getOption("strokeBorderColor",a),r+2*i,o,l,n,s),M._drawStyledLine(e,e.color,r,o,l,n,s)};M._errorPlotter=function(e){var t=e.dygraph,a=e.setName,r=t.getBooleanOption("errorBars")||t.getBooleanOption("customBars");if(!!r){var i=t.getBooleanOption("fillGraph",a);i&&console.warn("Can't use fillGraph option with error bars");var n=e.drawingContext,o=e.color,l=t.getNumericOption("fillAlpha",a),s=t.getBooleanOption("stepPlot",a),h=e.points,c=et(h,0,h.length,M._getIteratorPredicate(t.getBooleanOption("connectSeparatedPoints",a))),u,f=NaN,p=NaN,d=[-1,-1],v=We(o),_="rgba("+v.r+","+v.g+","+v.b+","+l+")";n.fillStyle=_,n.beginPath();for(var b=function(w){return w==null||isNaN(w)};c.hasNext;){var m=c.next();if(!s&&b(m.y)||s&&!isNaN(p)&&b(p)){f=NaN;continue}u=[m.y_bottom,m.y_top],s&&(p=m.y),isNaN(u[0])&&(u[0]=m.y),isNaN(u[1])&&(u[1]=m.y),u[0]=e.plotArea.h*u[0]+e.plotArea.y,u[1]=e.plotArea.h*u[1]+e.plotArea.y,isNaN(f)||(s?(n.moveTo(f,d[0]),n.lineTo(m.canvasx,d[0]),n.lineTo(m.canvasx,d[1])):(n.moveTo(f,d[0]),n.lineTo(m.canvasx,u[0]),n.lineTo(m.canvasx,u[1])),n.lineTo(f,d[1]),n.closePath()),d=u,f=m.canvasx}n.fill()}};M._fastCanvasProxy=function(e){var t=[],a=null,r=null,i=1,n=2,o=0,l=function(c){if(!(t.length<=1)){for(var u=t.length-1;u>0;u--){var f=t[u];if(f[0]==n){var p=t[u-1];p[1]==f[1]&&p[2]==f[2]&&t.splice(u,1)}}for(var u=0;u<t.length-1;){var f=t[u];f[0]==n&&t[u+1][0]==n?t.splice(u,1):u++}if(t.length>2&&!c){var d=0;t[0][0]==n&&d++;for(var v=null,_=null,u=d;u<t.length;u++){var f=t[u];if(f[0]==i)if(v===null&&_===null)v=u,_=u;else{var b=f[2];b<t[v][2]?v=u:b>t[_][2]&&(_=u)}}var m=t[v],w=t[_];t.splice(d,t.length-d),v<_?(t.push(m),t.push(w)):(v>_&&t.push(w),t.push(m))}}},s=function(c){l(c);for(var u=0,f=t.length;u<f;u++){var p=t[u];p[0]==i?e.lineTo(p[1],p[2]):p[0]==n&&e.moveTo(p[1],p[2])}t.length&&(r=t[t.length-1][1]),o+=t.length,t=[]},h=function(c,u,f){var p=Math.round(u);if(a===null||p!=a){var d=a-r>1,v=p-a>1,_=d||v;s(_),a=p}t.push([c,u,f])};return{moveTo:function(c,u){h(n,c,u)},lineTo:function(c,u){h(i,c,u)},stroke:function(){s(!0),e.stroke()},fill:function(){s(!0),e.fill()},beginPath:function(){s(!0),e.beginPath()},closePath:function(){s(!0),e.closePath()},_count:function(){return o}}};M._fillPlotter=function(e){if(!e.singleSeriesName&&e.seriesIndex===0){for(var t=e.dygraph,a=t.getLabels().slice(1),r=a.length;r>=0;r--)t.visibility()[r]||a.splice(r,1);var i=function(){for(var he=0;he<a.length;he++)if(t.getBooleanOption("fillGraph",a[he]))return!0;return!1}();if(!!i)for(var n=e.plotArea,o=e.allSeriesPoints,l=o.length,s=t.getBooleanOption("stackedGraph"),h=t.getColors(),c={},u,f,p=function(he,Dt,Tt,at){if(he.lineTo(Dt,Tt),s)for(var Ge=at.length-1;Ge>=0;Ge--){var rt=at[Ge];he.lineTo(rt[0],rt[1])}},d=l-1;d>=0;d--){var v=e.drawingContext,_=a[d];if(!!t.getBooleanOption("fillGraph",_)){var b=t.getNumericOption("fillAlpha",_),m=t.getBooleanOption("stepPlot",_),w=h[d],C=t.axisPropertiesForSeries(_),S=1+C.minyval*C.yscale;S<0?S=0:S>1&&(S=1),S=n.h*S+n.y;var R=o[d],y=et(R,0,R.length,M._getIteratorPredicate(t.getBooleanOption("connectSeparatedPoints",_))),A=NaN,L=[-1,-1],x,T=We(w),I="rgba("+T.r+","+T.g+","+T.b+","+b+")";v.fillStyle=I,v.beginPath();var X,Y=!0;(R.length>2*t.width_||g.FORCE_FAST_PROXY)&&(v=M._fastCanvasProxy(v));for(var B=[],P;y.hasNext;){if(P=y.next(),!Wt(P.y)&&!m){p(v,A,L[1],B),B=[],A=NaN,P.y_stacked!==null&&!isNaN(P.y_stacked)&&(c[P.canvasx]=n.h*P.y_stacked+n.y);continue}if(s){if(!Y&&X==P.xval)continue;Y=!1,X=P.xval,u=c[P.canvasx];var j;u===void 0?j=S:f?j=u[0]:j=u,x=[P.canvasy,j],m?L[0]===-1?c[P.canvasx]=[P.canvasy,S]:c[P.canvasx]=[P.canvasy,L[0]]:c[P.canvasx]=P.canvasy}else isNaN(P.canvasy)&&m?x=[n.y+n.h,S]:x=[P.canvasy,S];isNaN(A)?(v.moveTo(P.canvasx,x[1]),v.lineTo(P.canvasx,x[0])):(m&&v.lineTo(P.canvasx,L[0]),v.lineTo(P.canvasx,x[0]),s&&(B.push([A,L[1]]),f&&u?B.push([P.canvasx,u[1]]):B.push([P.canvasx,x[1]]))),L=x,A=P.canvasx}f=m,x&&P&&(p(v,P.canvasx,x[1],B),B=[]),v.fill()}}}};/**
 * @license
 * Copyright 2011 Robert Konigsberg (konigsberg@google.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var $t=100,E={};E.maybeTreatMouseOpAsClick=function(e,t,a){a.dragEndX=He(e,a),a.dragEndY=Xe(e,a);var r=Math.abs(a.dragEndX-a.dragStartX),i=Math.abs(a.dragEndY-a.dragStartY);r<2&&i<2&&t.lastx_!==void 0&&t.lastx_!=-1&&E.treatMouseOpAsClick(t,e,a),a.regionWidth=r,a.regionHeight=i};E.startPan=function(e,t,a){var r,i;a.isPanning=!0;var n=t.xAxisRange();if(t.getOptionForAxis("logscale","x")?(a.initialLeftmostDate=F(n[0]),a.dateRange=F(n[1])-F(n[0])):(a.initialLeftmostDate=n[0],a.dateRange=n[1]-n[0]),a.xUnitsPerPixel=a.dateRange/(t.plotter_.area.w-1),t.getNumericOption("panEdgeFraction")){var o=t.width_*t.getNumericOption("panEdgeFraction"),l=t.xAxisExtremes(),s=t.toDomXCoord(l[0])-o,h=t.toDomXCoord(l[1])+o,c=t.toDataXCoord(s),u=t.toDataXCoord(h);a.boundedDates=[c,u];var f=[],p=t.height_*t.getNumericOption("panEdgeFraction");for(r=0;r<t.axes_.length;r++){i=t.axes_[r];var d=i.extremeRange,v=t.toDomYCoord(d[0],r)+p,_=t.toDomYCoord(d[1],r)-p,b=t.toDataYCoord(v,r),m=t.toDataYCoord(_,r);f[r]=[b,m]}a.boundedValues=f}for(a.is2DPan=!1,a.axes=[],r=0;r<t.axes_.length;r++){i=t.axes_[r];var w={},C=t.yAxisRange(r),S=t.attributes_.getForAxis("logscale",r);S?(w.initialTopValue=F(C[1]),w.dragValueRange=F(C[1])-F(C[0])):(w.initialTopValue=C[1],w.dragValueRange=C[1]-C[0]),w.unitsPerPixel=w.dragValueRange/(t.plotter_.area.h-1),a.axes.push(w),i.valueRange&&(a.is2DPan=!0)}};E.movePan=function(e,t,a){a.dragEndX=He(e,a),a.dragEndY=Xe(e,a);var r=a.initialLeftmostDate-(a.dragEndX-a.dragStartX)*a.xUnitsPerPixel;a.boundedDates&&(r=Math.max(r,a.boundedDates[0]));var i=r+a.dateRange;if(a.boundedDates&&i>a.boundedDates[1]&&(r=r-(i-a.boundedDates[1]),i=r+a.dateRange),t.getOptionForAxis("logscale","x")?t.dateWindow_=[Math.pow(ce,r),Math.pow(ce,i)]:t.dateWindow_=[r,i],a.is2DPan)for(var n=a.dragEndY-a.dragStartY,o=0;o<t.axes_.length;o++){var l=t.axes_[o],s=a.axes[o],h=n*s.unitsPerPixel,c=a.boundedValues?a.boundedValues[o]:null,u=s.initialTopValue+h;c&&(u=Math.min(u,c[1]));var f=u-s.dragValueRange;c&&f<c[0]&&(u=u-(f-c[0]),f=u-s.dragValueRange),t.attributes_.getForAxis("logscale",o)?l.valueRange=[Math.pow(ce,f),Math.pow(ce,u)]:l.valueRange=[f,u]}t.drawGraph_(!1)};E.endPan=E.maybeTreatMouseOpAsClick;E.startZoom=function(e,t,a){a.isZooming=!0,a.zoomMoved=!1};E.moveZoom=function(e,t,a){a.zoomMoved=!0,a.dragEndX=He(e,a),a.dragEndY=Xe(e,a);var r=Math.abs(a.dragStartX-a.dragEndX),i=Math.abs(a.dragStartY-a.dragEndY);a.dragDirection=r<i/2?Oe:Te,t.drawZoomRect_(a.dragDirection,a.dragStartX,a.dragEndX,a.dragStartY,a.dragEndY,a.prevDragDirection,a.prevEndX,a.prevEndY),a.prevEndX=a.dragEndX,a.prevEndY=a.dragEndY,a.prevDragDirection=a.dragDirection};E.treatMouseOpAsClick=function(e,t,a){for(var r=e.getFunctionOption("clickCallback"),i=e.getFunctionOption("pointClickCallback"),n=null,o=-1,l=Number.MAX_VALUE,s=0;s<e.selPoints_.length;s++){var h=e.selPoints_[s],c=Math.pow(h.canvasx-a.dragEndX,2)+Math.pow(h.canvasy-a.dragEndY,2);!isNaN(c)&&(o==-1||c<l)&&(l=c,o=s)}var u=e.getNumericOption("highlightCircleSize")+2;if(l<=u*u&&(n=e.selPoints_[o]),n){var p={cancelable:!0,point:n,canvasx:a.dragEndX,canvasy:a.dragEndY},f=e.cascadeEvents_("pointClick",p);if(f)return;i&&i.call(e,t,n)}var p={cancelable:!0,xval:e.lastx_,pts:e.selPoints_,canvasx:a.dragEndX,canvasy:a.dragEndY};e.cascadeEvents_("click",p)||r&&r.call(e,t,e.lastx_,e.selPoints_)};E.endZoom=function(e,t,a){t.clearZoomRect_(),a.isZooming=!1,E.maybeTreatMouseOpAsClick(e,t,a);var r=t.getArea();if(a.regionWidth>=10&&a.dragDirection==Te){var i=Math.min(a.dragStartX,a.dragEndX),n=Math.max(a.dragStartX,a.dragEndX);i=Math.max(i,r.x),n=Math.min(n,r.x+r.w),i<n&&t.doZoomX_(i,n),a.cancelNextDblclick=!0}else if(a.regionHeight>=10&&a.dragDirection==Oe){var o=Math.min(a.dragStartY,a.dragEndY),l=Math.max(a.dragStartY,a.dragEndY);o=Math.max(o,r.y),l=Math.min(l,r.y+r.h),o<l&&t.doZoomY_(o,l),a.cancelNextDblclick=!0}a.dragStartX=null,a.dragStartY=null};E.startTouch=function(e,t,a){e.preventDefault(),e.touches.length>1&&(a.startTimeForDoubleTapMs=null);for(var r=[],i=0;i<e.touches.length;i++){var n=e.touches[i];r.push({pageX:n.pageX,pageY:n.pageY,dataX:t.toDataXCoord(n.pageX),dataY:t.toDataYCoord(n.pageY)})}if(a.initialTouches=r,r.length==1)a.initialPinchCenter=r[0],a.touchDirections={x:!0,y:!0};else if(r.length>=2){a.initialPinchCenter={pageX:.5*(r[0].pageX+r[1].pageX),pageY:.5*(r[0].pageY+r[1].pageY),dataX:.5*(r[0].dataX+r[1].dataX),dataY:.5*(r[0].dataY+r[1].dataY)};var o=180/Math.PI*Math.atan2(a.initialPinchCenter.pageY-r[0].pageY,r[0].pageX-a.initialPinchCenter.pageX);o=Math.abs(o),o>90&&(o=90-o),a.touchDirections={x:o<90-45/2,y:o>45/2}}a.initialRange={x:t.xAxisRange(),y:t.yAxisRange()}};E.moveTouch=function(e,t,a){a.startTimeForDoubleTapMs=null;var r,i=[];for(r=0;r<e.touches.length;r++){var n=e.touches[r];i.push({pageX:n.pageX,pageY:n.pageY})}var o=a.initialTouches,l,s=a.initialPinchCenter;i.length==1?l=i[0]:l={pageX:.5*(i[0].pageX+i[1].pageX),pageY:.5*(i[0].pageY+i[1].pageY)};var h={pageX:l.pageX-s.pageX,pageY:l.pageY-s.pageY},c=a.initialRange.x[1]-a.initialRange.x[0],u=a.initialRange.y[0]-a.initialRange.y[1];h.dataX=h.pageX/t.plotter_.area.w*c,h.dataY=h.pageY/t.plotter_.area.h*u;var f,p;if(i.length==1)f=1,p=1;else if(i.length>=2){var d=o[1].pageX-s.pageX;f=(i[1].pageX-l.pageX)/d;var v=o[1].pageY-s.pageY;p=(i[1].pageY-l.pageY)/v}f=Math.min(8,Math.max(.125,f)),p=Math.min(8,Math.max(.125,p));var _=!1;if(a.touchDirections.x&&(t.dateWindow_=[s.dataX-h.dataX+(a.initialRange.x[0]-s.dataX)/f,s.dataX-h.dataX+(a.initialRange.x[1]-s.dataX)/f],_=!0),a.touchDirections.y)for(r=0;r<1;r++){var b=t.axes_[r],m=t.attributes_.getForAxis("logscale",r);m||(b.valueRange=[s.dataY-h.dataY+(a.initialRange.y[0]-s.dataY)/p,s.dataY-h.dataY+(a.initialRange.y[1]-s.dataY)/p],_=!0)}if(t.drawGraph_(!1),_&&i.length>1&&t.getFunctionOption("zoomCallback")){var w=t.xAxisRange();t.getFunctionOption("zoomCallback").call(t,w[0],w[1],t.yAxisRanges())}};E.endTouch=function(e,t,a){if(e.touches.length!==0)E.startTouch(e,t,a);else if(e.changedTouches.length==1){var r=new Date().getTime(),i=e.changedTouches[0];a.startTimeForDoubleTapMs&&r-a.startTimeForDoubleTapMs<500&&a.doubleTapX&&Math.abs(a.doubleTapX-i.screenX)<50&&a.doubleTapY&&Math.abs(a.doubleTapY-i.screenY)<50?t.resetZoom():(a.startTimeForDoubleTapMs=r,a.doubleTapX=i.screenX,a.doubleTapY=i.screenY)}};var ft=function(e,t,a){return e<t?t-e:e>a?e-a:0},Kt=function(e,t){var a=be(t.canvas_),r={left:a.x,right:a.x+t.canvas_.offsetWidth,top:a.y,bottom:a.y+t.canvas_.offsetHeight},i={x:ke(e),y:Ie(e)},n=ft(i.x,r.left,r.right),o=ft(i.y,r.top,r.bottom);return Math.max(n,o)};E.defaultModel={mousedown:function(e,t,a){if(!(e.button&&e.button==2)){a.initializeMouseDown(e,t,a),e.altKey||e.shiftKey?E.startPan(e,t,a):E.startZoom(e,t,a);var r=function(n){if(a.isZooming){var o=Kt(n,t);o<$t?E.moveZoom(n,t,a):a.dragEndX!==null&&(a.dragEndX=null,a.dragEndY=null,t.clearZoomRect_())}else a.isPanning&&E.movePan(n,t,a)},i=function(n){a.isZooming?a.dragEndX!==null?E.endZoom(n,t,a):E.maybeTreatMouseOpAsClick(n,t,a):a.isPanning&&E.endPan(n,t,a),q(document,"mousemove",r),q(document,"mouseup",i),a.destroy()};t.addAndTrackEvent(document,"mousemove",r),t.addAndTrackEvent(document,"mouseup",i)}},willDestroyContextMyself:!0,touchstart:function(e,t,a){E.startTouch(e,t,a)},touchmove:function(e,t,a){E.moveTouch(e,t,a)},touchend:function(e,t,a){E.endTouch(e,t,a)},dblclick:function(e,t,a){if(a.cancelNextDblclick){a.cancelNextDblclick=!1;return}var r={canvasx:a.dragEndX,canvasy:a.dragEndY,cancelable:!0};t.cascadeEvents_("dblclick",r)||e.altKey||e.shiftKey||t.resetZoom()}};E.nonInteractiveModel_={mousedown:function(e,t,a){a.initializeMouseDown(e,t,a)},mouseup:E.maybeTreatMouseOpAsClick};E.dragIsPanInteractionModel={mousedown:function(e,t,a){a.initializeMouseDown(e,t,a),E.startPan(e,t,a)},mousemove:function(e,t,a){a.isPanning&&E.movePan(e,t,a)},mouseup:function(e,t,a){a.isPanning&&E.endPan(e,t,a)}};var Re={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:.5,highlightSeriesBackgroundColor:"rgb(255, 255, 255)",labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,rightGap:5,showRoller:!1,xValueParser:void 0,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:.15,connectSeparatedPoints:!1,stackedGraph:!1,stackedGraphNaNFill:"all",hideOverlayOnMouseOut:!0,legend:"onmouseover",stepPlot:!1,xRangePad:0,yRangePad:null,drawAxesAtZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,axisLineColor:"black",axisLineWidth:.3,gridLineWidth:.3,axisLabelWidth:50,gridLineColor:"rgb(128,128,128)",interactionModel:E.defaultModel,animatedZooms:!1,showRangeSelector:!1,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillGradientColor:"white",rangeSelectorPlotFillColor:"#A7B1C4",rangeSelectorBackgroundStrokeColor:"gray",rangeSelectorBackgroundLineWidth:1,rangeSelectorPlotLineWidth:1.5,rangeSelectorForegroundStrokeColor:"black",rangeSelectorForegroundLineWidth:1,rangeSelectorAlpha:.6,showInRangeSelector:null,plotter:[M._fillPlotter,M._errorPlotter,M._linePlotter],plugins:[],axes:{x:{pixelsPerLabel:70,axisLabelWidth:60,axisLabelFormatter:we,valueFormatter:Ze,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:me},y:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:Ke,axisLabelFormatter:qe,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:oe},y2:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:Ke,axisLabelFormatter:qe,drawAxis:!0,drawGrid:!1,independentTicks:!1,ticker:oe}}};/**
 * @license
 * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var Z=function(e){this.dygraph_=e,this.yAxes_=[],this.xAxis_={},this.series_={},this.global_=this.dygraph_.attrs_,this.user_=this.dygraph_.user_attrs_||{},this.labels_=[],this.highlightSeries_=this.get("highlightSeriesOpts")||{},this.reparseSeries()};Z.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1};Z.axisToIndex_=function(e){if(typeof e=="string"){if(Z.AXIS_STRING_MAPPINGS_.hasOwnProperty(e))return Z.AXIS_STRING_MAPPINGS_[e];throw"Unknown axis : "+e}if(typeof e=="number"){if(e===0||e===1)return e;throw"Dygraphs only supports two y-axes, indexed from 0-1."}if(e)throw"Unknown axis : "+e;return 0};Z.prototype.reparseSeries=function(){var e=this.get("labels");if(!!e){this.labels_=e.slice(1),this.yAxes_=[{series:[],options:{}}],this.xAxis_={options:{}},this.series_={};for(var t=this.user_.series||{},a=0;a<this.labels_.length;a++){var r=this.labels_[a],i=t[r]||{},n=Z.axisToIndex_(i.axis);this.series_[r]={idx:a,yAxis:n,options:i},this.yAxes_[n]?this.yAxes_[n].series.push(r):this.yAxes_[n]={series:[r],options:{}}}var o=this.user_.axes||{};Q(this.yAxes_[0].options,o.y||{}),this.yAxes_.length>1&&Q(this.yAxes_[1].options,o.y2||{}),Q(this.xAxis_.options,o.x||{})}};Z.prototype.get=function(e){var t=this.getGlobalUser_(e);return t!==null?t:this.getGlobalDefault_(e)};Z.prototype.getGlobalUser_=function(e){return this.user_.hasOwnProperty(e)?this.user_[e]:null};Z.prototype.getGlobalDefault_=function(e){return this.global_.hasOwnProperty(e)?this.global_[e]:Re.hasOwnProperty(e)?Re[e]:null};Z.prototype.getForAxis=function(e,t){var a,r;if(typeof t=="number")a=t,r=a===0?"y":"y2";else{if(t=="y1"&&(t="y"),t=="y")a=0;else if(t=="y2")a=1;else if(t=="x")a=-1;else throw"Unknown axis "+t;r=t}var i=a==-1?this.xAxis_:this.yAxes_[a];if(i){var n=i.options;if(n.hasOwnProperty(e))return n[e]}if(!(t==="x"&&e==="logscale")){var o=this.getGlobalUser_(e);if(o!==null)return o}var l=Re.axes[r];return l.hasOwnProperty(e)?l[e]:this.getGlobalDefault_(e)};Z.prototype.getForSeries=function(e,t){if(t===this.dygraph_.getHighlightSeries()&&this.highlightSeries_.hasOwnProperty(e))return this.highlightSeries_[e];if(!this.series_.hasOwnProperty(t))throw"Unknown series: "+t;var a=this.series_[t],r=a.options;return r.hasOwnProperty(e)?r[e]:this.getForAxis(e,a.yAxis)};Z.prototype.numAxes=function(){return this.yAxes_.length};Z.prototype.axisForSeries=function(e){return this.series_[e].yAxis};Z.prototype.axisOptions=function(e){return this.yAxes_[e].options};Z.prototype.seriesForAxis=function(e){return this.yAxes_[e].series};Z.prototype.seriesNames=function(){return this.labels_};function Ye(){this.tarps=[]}Ye.prototype.cover=function(){for(var e=document.getElementsByTagName("iframe"),t=0;t<e.length;t++){var a=e[t],r=be(a),i=r.x,n=r.y,o=a.offsetWidth,l=a.offsetHeight,s=document.createElement("div");s.style.position="absolute",s.style.left=i+"px",s.style.top=n+"px",s.style.width=o+"px",s.style.height=l+"px",s.style.zIndex=999,document.body.appendChild(s),this.tarps.push(s)}};Ye.prototype.uncover=function(){for(var e=0;e<this.tarps.length;e++)this.tarps[e].parentNode.removeChild(this.tarps[e]);this.tarps=[]};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var fe=function(){},z=fe;z.X=0;z.Y=1;z.EXTRAS=2;z.prototype.extractSeries=function(e,t,a){};z.prototype.seriesToPoints=function(e,t,a){for(var r=[],i=0;i<e.length;++i){var n=e[i],o=n[1],l=o===null?null:z.parseFloat(o),s={x:NaN,y:NaN,xval:z.parseFloat(n[0]),yval:l,name:t,idx:i+a};r.push(s)}return this.onPointsCreated_(e,r),r};z.prototype.onPointsCreated_=function(e,t){};z.prototype.rollingAverage=function(e,t,a){};z.prototype.getExtremeYValues=function(e,t,a){};z.prototype.onLineEvaluated=function(e,t,a){};z.parseFloat=function(e){return e===null?NaN:e};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var le=function(){};le.prototype=new fe;le.prototype.extractSeries=function(e,t,a){for(var r=[],i=a.get("logscale"),n=0;n<e.length;n++){var o=e[n][0],l=e[n][t];i&&l<=0&&(l=null),r.push([o,l])}return r};le.prototype.rollingAverage=function(e,t,a){t=Math.min(t,e.length);var r=[],i,n,o,l,s;if(t==1)return e;for(i=0;i<e.length;i++){for(l=0,s=0,n=Math.max(0,i-t+1);n<i+1;n++)o=e[n][1],!(o===null||isNaN(o))&&(s++,l+=e[n][1]);s?r[i]=[e[i][0],l/s]:r[i]=[e[i][0],null]}return r};le.prototype.getExtremeYValues=function(e,t,a){for(var r=null,i=null,n,o=0,l=e.length-1,s=o;s<=l;s++)n=e[s][1],!(n===null||isNaN(n))&&((i===null||n>i)&&(i=n),(r===null||n<r)&&(r=n));return[r,i]};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var J=function(){fe.call(this)};J.prototype=new fe;J.prototype.extractSeries=function(e,t,a){};J.prototype.rollingAverage=function(e,t,a){};J.prototype.onPointsCreated_=function(e,t){for(var a=0;a<e.length;++a){var r=e[a],i=t[a];i.y_top=NaN,i.y_bottom=NaN,i.yval_minus=fe.parseFloat(r[2][0]),i.yval_plus=fe.parseFloat(r[2][1])}};J.prototype.getExtremeYValues=function(e,t,a){for(var r=null,i=null,n,o=0,l=e.length-1,s=o;s<=l;s++)if(n=e[s][1],!(n===null||isNaN(n))){var h=e[s][2][0],c=e[s][2][1];h>n&&(h=n),c<n&&(c=n),(i===null||c>i)&&(i=c),(r===null||h<r)&&(r=h)}return[r,i]};J.prototype.onLineEvaluated=function(e,t,a){for(var r,i=0;i<e.length;i++)r=e[i],r.y_top=H.calcYNormal_(t,r.yval_minus,a),r.y_bottom=H.calcYNormal_(t,r.yval_plus,a)};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var xe=function(){};xe.prototype=new J;xe.prototype.extractSeries=function(e,t,a){for(var r=[],i,n,o,l,s=a.get("sigma"),h=a.get("logscale"),c=0;c<e.length;c++)i=e[c][0],l=e[c][t],h&&l!==null&&(l[0]<=0||l[0]-s*l[1]<=0)&&(l=null),l!==null?(n=l[0],n!==null&&!isNaN(n)?(o=s*l[1],r.push([i,n,[n-o,n+o,l[1]]])):r.push([i,n,[n,n,n]])):r.push([i,null,[null,null,null]]);return r};xe.prototype.rollingAverage=function(e,t,a){t=Math.min(t,e.length);var r=[],i=a.get("sigma"),n,o,l,s,h,c,u,f,p;for(n=0;n<e.length;n++){for(h=0,f=0,c=0,o=Math.max(0,n-t+1);o<n+1;o++)l=e[o][1],!(l===null||isNaN(l))&&(c++,h+=l,f+=Math.pow(e[o][2][2],2));c?(u=Math.sqrt(f)/c,p=h/c,r[n]=[e[n][0],p,[p-i*u,p+i*u]]):(s=t==1?e[n][1]:null,r[n]=[e[n][0],s,[s,s]])}return r};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var Ae=function(){};Ae.prototype=new J;Ae.prototype.extractSeries=function(e,t,a){for(var r=[],i,n,o,l=a.get("logscale"),s=0;s<e.length;s++)i=e[s][0],o=e[s][t],l&&o!==null&&(o[0]<=0||o[1]<=0||o[2]<=0)&&(o=null),o!==null?(n=o[1],n!==null&&!isNaN(n)?r.push([i,n,[o[0],o[2]]]):r.push([i,n,[n,n]])):r.push([i,null,[null,null]]);return r};Ae.prototype.rollingAverage=function(e,t,a){t=Math.min(t,e.length);var r=[],i,n,o,l,s,h,c;for(n=0,l=0,o=0,s=0,h=0;h<e.length;h++){if(i=e[h][1],c=e[h][2],r[h]=e[h],i!==null&&!isNaN(i)&&(n+=c[0],l+=i,o+=c[1],s+=1),h-t>=0){var u=e[h-t];u[1]!==null&&!isNaN(u[1])&&(n-=u[2][0],l-=u[1],o-=u[2][1],s-=1)}s?r[h]=[e[h][0],1*l/s,[1*n/s,1*o/s]]:r[h]=[e[h][0],null,[null,null]]}return r};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var Ce=function(){};Ce.prototype=new le;Ce.prototype.extractSeries=function(e,t,a){for(var r=[],i,n,o,l,s,h,c=100,u=a.get("logscale"),f=0;f<e.length;f++)i=e[f][0],o=e[f][t],u&&o!==null&&(o[0]<=0||o[1]<=0)&&(o=null),o!==null?(l=o[0],s=o[1],l!==null&&!isNaN(l)?(h=s?l/s:0,n=c*h,r.push([i,n,[l,s]])):r.push([i,l,[l,s]])):r.push([i,null,[null,null]]);return r};Ce.prototype.rollingAverage=function(e,t,a){t=Math.min(t,e.length);var r=[],i,n=0,o=0,l=100;for(i=0;i<e.length;i++){n+=e[i][2][0],o+=e[i][2][1],i-t>=0&&(n-=e[i-t][2][0],o-=e[i-t][2][1]);var s=e[i][0],h=o?n/o:0;r[i]=[s,l*h]}return r};/**
 * @license
 * Copyright 2013 David Eberlein (david.eberlein@ch.sauter-bc.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var Se=function(){};Se.prototype=new J;Se.prototype.extractSeries=function(e,t,a){for(var r=[],i,n,o,l,s,h,c,u,f=100,p=a.get("sigma"),d=a.get("logscale"),v=0;v<e.length;v++)i=e[v][0],o=e[v][t],d&&o!==null&&(o[0]<=0||o[1]<=0)&&(o=null),o!==null?(l=o[0],s=o[1],l!==null&&!isNaN(l)?(h=s?l/s:0,c=s?p*Math.sqrt(h*(1-h)/s):1,u=f*c,n=f*h,r.push([i,n,[n-u,n+u,l,s]])):r.push([i,l,[l,l,l,s]])):r.push([i,null,[null,null,null,null]]);return r};Se.prototype.rollingAverage=function(e,t,a){t=Math.min(t,e.length);var r=[],i=a.get("sigma"),n=a.get("wilsonInterval"),o,l,s,h,c=0,u=0,f=100;for(s=0;s<e.length;s++){c+=e[s][2][2],u+=e[s][2][3],s-t>=0&&(c-=e[s-t][2][2],u-=e[s-t][2][3]);var p=e[s][0],d=u?c/u:0;if(n)if(u){var v=d<0?0:d,_=u,b=i*Math.sqrt(v*(1-v)/_+i*i/(4*_*_)),m=1+i*i/u;o=(v+i*i/(2*u)-b)/m,l=(v+i*i/(2*u)+b)/m,r[s]=[p,v*f,[o*f,l*f]]}else r[s]=[p,0,[0,0]];else h=u?i*Math.sqrt(d*(1-d)/u):1,r[s]=[p,f*d,[f*(d-h),f*(d+h)]]}return r};/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var re=function(){this.annotations_=[]};re.prototype.toString=function(){return"Annotations Plugin"};re.prototype.activate=function(e){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}};re.prototype.detachLabels=function(){for(var e=0;e<this.annotations_.length;e++){var t=this.annotations_[e];t.parentNode&&t.parentNode.removeChild(t),this.annotations_[e]=null}this.annotations_=[]};re.prototype.clearChart=function(e){this.detachLabels()};re.prototype.didDrawChart=function(e){var t=e.dygraph,a=t.layout_.annotated_points;if(!(!a||a.length===0))for(var r=e.canvas.parentNode,i=function(C,S,R){return function(y){var A=R.annotation;A.hasOwnProperty(C)?A[C](A,R,t,y):t.getOption(S)&&t.getOption(S)(A,R,t,y)}},n=e.dygraph.getArea(),o={},l=0;l<a.length;l++){var s=a[l];if(!(s.canvasx<n.x||s.canvasx>n.x+n.w||s.canvasy<n.y||s.canvasy>n.y+n.h)){var h=s.annotation,c=6;h.hasOwnProperty("tickHeight")&&(c=h.tickHeight);var u=document.createElement("div");u.style.fontSize=t.getOption("axisLabelFontSize")+"px";var f="dygraph-annotation";h.hasOwnProperty("icon")||(f+=" dygraphDefaultAnnotation dygraph-default-annotation"),h.hasOwnProperty("cssClass")&&(f+=" "+h.cssClass),u.className=f;var p=h.hasOwnProperty("width")?h.width:16,d=h.hasOwnProperty("height")?h.height:16;if(h.hasOwnProperty("icon")){var v=document.createElement("img");v.src=h.icon,v.width=p,v.height=d,u.appendChild(v)}else s.annotation.hasOwnProperty("shortText")&&u.appendChild(document.createTextNode(s.annotation.shortText));var _=s.canvasx-p/2;u.style.left=_+"px";var b=0;if(h.attachAtBottom){var m=n.y+n.h-d-c;o[_]?m-=o[_]:o[_]=0,o[_]+=c+d,b=m}else b=s.canvasy-d-c;u.style.top=b+"px",u.style.width=p+"px",u.style.height=d+"px",u.title=s.annotation.text,u.style.color=t.colorsMap_[s.name],u.style.borderColor=t.colorsMap_[s.name],h.div=u,t.addAndTrackEvent(u,"click",i("clickHandler","annotationClickHandler",s)),t.addAndTrackEvent(u,"mouseover",i("mouseOverHandler","annotationMouseOverHandler",s)),t.addAndTrackEvent(u,"mouseout",i("mouseOutHandler","annotationMouseOutHandler",s)),t.addAndTrackEvent(u,"dblclick",i("dblClickHandler","annotationDblClickHandler",s)),r.appendChild(u),this.annotations_.push(u);var w=e.drawingContext;if(w.save(),w.strokeStyle=h.hasOwnProperty("tickColor")?h.tickColor:t.colorsMap_[s.name],w.lineWidth=h.hasOwnProperty("tickWidth")?h.tickWidth:t.getOption("strokeWidth"),w.beginPath(),!h.attachAtBottom)w.moveTo(s.canvasx,s.canvasy),w.lineTo(s.canvasx,s.canvasy-2-c);else{var m=b+d;w.moveTo(s.canvasx,m),w.lineTo(s.canvasx,m+c)}w.closePath(),w.stroke(),w.restore()}}};re.prototype.destroy=function(){this.detachLabels()};/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var ie=function(){this.xlabels_=[],this.ylabels_=[]};ie.prototype.toString=function(){return"Axes Plugin"};ie.prototype.activate=function(e){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}};ie.prototype.layout=function(e){var t=e.dygraph;if(t.getOptionForAxis("drawAxis","y")){var a=t.getOptionForAxis("axisLabelWidth","y")+2*t.getOptionForAxis("axisTickSize","y");e.reserveSpaceLeft(a)}if(t.getOptionForAxis("drawAxis","x")){var r;t.getOption("xAxisHeight")?r=t.getOption("xAxisHeight"):r=t.getOptionForAxis("axisLabelFontSize","x")+2*t.getOptionForAxis("axisTickSize","x"),e.reserveSpaceBottom(r)}if(t.numAxes()==2){if(t.getOptionForAxis("drawAxis","y2")){var a=t.getOptionForAxis("axisLabelWidth","y2")+2*t.getOptionForAxis("axisTickSize","y2");e.reserveSpaceRight(a)}}else t.numAxes()>2&&t.error("Only two y-axes are supported at this time. (Trying to use "+t.numAxes()+")")};ie.prototype.detachLabels=function(){function e(t){for(var a=0;a<t.length;a++){var r=t[a];r.parentNode&&r.parentNode.removeChild(r)}}e(this.xlabels_),e(this.ylabels_),this.xlabels_=[],this.ylabels_=[]};ie.prototype.clearChart=function(e){this.detachLabels()};ie.prototype.willDrawChart=function(e){var t=e.dygraph;if(!t.getOptionForAxis("drawAxis","x")&&!t.getOptionForAxis("drawAxis","y")&&!t.getOptionForAxis("drawAxis","y2"))return;function a(x){return Math.round(x)+.5}function r(x){return Math.round(x)-.5}var i=e.drawingContext,n=e.canvas.parentNode,o=t.width_,l=t.height_,s,h,c,u=function(x){return{position:"absolute",fontSize:t.getOptionForAxis("axisLabelFontSize",x)+"px",width:t.getOptionForAxis("axisLabelWidth",x)+"px"}},f={x:u("x"),y:u("y"),y2:u("y2")},p=function(x,T,I){var X=document.createElement("div"),Y=f[I=="y2"?"y2":T];Q(X.style,Y);var B=document.createElement("div");return B.className="dygraph-axis-label dygraph-axis-label-"+T+(I?" dygraph-axis-label-"+I:""),B.innerHTML=x,X.appendChild(B),X};i.save();var d=t.layout_,v=e.dygraph.plotter_.area,_=function(x){return function(T){return t.getOptionForAxis(T,x)}};if(t.getOptionForAxis("drawAxis","y")){if(d.yticks&&d.yticks.length>0){var b=t.numAxes(),m=[_("y"),_("y2")];d.yticks.forEach(x=>{if(x.label!==void 0){h=v.x;var T="y1",I=m[0];x.axis==1&&(h=v.x+v.w,T="y2",I=m[1]);var X=I("axisLabelFontSize");c=v.y+x.pos*v.h,s=p(x.label,"y",b==2?T:null);var Y=c-X/2;Y<0&&(Y=0),Y+X+3>l?s.style.bottom="0":s.style.top=Y+"px",x.axis===0?(s.style.left=v.x-I("axisLabelWidth")-I("axisTickSize")+"px",s.style.textAlign="right"):x.axis==1&&(s.style.left=v.x+v.w+I("axisTickSize")+"px",s.style.textAlign="left"),s.style.width=I("axisLabelWidth")+"px",n.appendChild(s),this.ylabels_.push(s)}});var w=this.ylabels_[0],C=t.getOptionForAxis("axisLabelFontSize","y"),S=parseInt(w.style.top,10)+C;S>l-C&&(w.style.top=parseInt(w.style.top,10)-C/2+"px")}var R;if(t.getOption("drawAxesAtZero")){var y=t.toPercentXCoord(0);(y>1||y<0||isNaN(y))&&(y=0),R=a(v.x+y*v.w)}else R=a(v.x);i.strokeStyle=t.getOptionForAxis("axisLineColor","y"),i.lineWidth=t.getOptionForAxis("axisLineWidth","y"),i.beginPath(),i.moveTo(R,r(v.y)),i.lineTo(R,r(v.y+v.h)),i.closePath(),i.stroke(),t.numAxes()==2&&(i.strokeStyle=t.getOptionForAxis("axisLineColor","y2"),i.lineWidth=t.getOptionForAxis("axisLineWidth","y2"),i.beginPath(),i.moveTo(r(v.x+v.w),r(v.y)),i.lineTo(r(v.x+v.w),r(v.y+v.h)),i.closePath(),i.stroke())}if(t.getOptionForAxis("drawAxis","x")){if(d.xticks){var A=_("x");d.xticks.forEach(x=>{if(x.label!==void 0){h=v.x+x.pos*v.w,c=v.y+v.h,s=p(x.label,"x"),s.style.textAlign="center",s.style.top=c+A("axisTickSize")+"px";var T=h-A("axisLabelWidth")/2;T+A("axisLabelWidth")>o&&(T=o-A("axisLabelWidth"),s.style.textAlign="right"),T<0&&(T=0,s.style.textAlign="left"),s.style.left=T+"px",s.style.width=A("axisLabelWidth")+"px",n.appendChild(s),this.xlabels_.push(s)}})}i.strokeStyle=t.getOptionForAxis("axisLineColor","x"),i.lineWidth=t.getOptionForAxis("axisLineWidth","x"),i.beginPath();var L;if(t.getOption("drawAxesAtZero")){var y=t.toPercentYCoord(0,0);(y>1||y<0)&&(y=1),L=r(v.y+y*v.h)}else L=r(v.y+v.h);i.moveTo(a(v.x),L),i.lineTo(a(v.x+v.w),L),i.closePath(),i.stroke()}i.restore()};/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var ee=function(){this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};ee.prototype.toString=function(){return"ChartLabels Plugin"};ee.prototype.activate=function(e){return{layout:this.layout,didDrawChart:this.didDrawChart}};var dt=function(e){var t=document.createElement("div");return t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.width=e.w+"px",t.style.height=e.h+"px",t};ee.prototype.detachLabels_=function(){for(var e=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_],t=0;t<e.length;t++){var a=e[t];!a||a.parentNode&&a.parentNode.removeChild(a)}this.title_div_=null,this.xlabel_div_=null,this.ylabel_div_=null,this.y2label_div_=null};var vt=function(e,t,a,r,i){var n=document.createElement("div");n.style.position="absolute",a==1?n.style.left="0px":n.style.left=t.x+"px",n.style.top=t.y+"px",n.style.width=t.w+"px",n.style.height=t.h+"px",n.style.fontSize=e.getOption("yLabelWidth")-2+"px";var o=document.createElement("div");o.style.position="absolute",o.style.width=t.h+"px",o.style.height=t.w+"px",o.style.top=t.h/2-t.w/2+"px",o.style.left=t.w/2-t.h/2+"px",o.className="dygraph-label-rotate-"+(a==1?"right":"left");var l=document.createElement("div");return l.className=r,l.innerHTML=i,o.appendChild(l),n.appendChild(o),n};ee.prototype.layout=function(e){this.detachLabels_();var t=e.dygraph,a=e.chart_div;if(t.getOption("title")){var r=e.reserveSpaceTop(t.getOption("titleHeight"));this.title_div_=dt(r),this.title_div_.style.fontSize=t.getOption("titleHeight")-8+"px";var i=document.createElement("div");i.className="dygraph-label dygraph-title",i.innerHTML=t.getOption("title"),this.title_div_.appendChild(i),a.appendChild(this.title_div_)}if(t.getOption("xlabel")){var n=e.reserveSpaceBottom(t.getOption("xLabelHeight"));this.xlabel_div_=dt(n),this.xlabel_div_.style.fontSize=t.getOption("xLabelHeight")-2+"px";var i=document.createElement("div");i.className="dygraph-label dygraph-xlabel",i.innerHTML=t.getOption("xlabel"),this.xlabel_div_.appendChild(i),a.appendChild(this.xlabel_div_)}if(t.getOption("ylabel")){var o=e.reserveSpaceLeft(0);this.ylabel_div_=vt(t,o,1,"dygraph-label dygraph-ylabel",t.getOption("ylabel")),a.appendChild(this.ylabel_div_)}if(t.getOption("y2label")&&t.numAxes()==2){var l=e.reserveSpaceRight(0);this.y2label_div_=vt(t,l,2,"dygraph-label dygraph-y2label",t.getOption("y2label")),a.appendChild(this.y2label_div_)}};ee.prototype.didDrawChart=function(e){var t=e.dygraph;this.title_div_&&(this.title_div_.children[0].innerHTML=t.getOption("title")),this.xlabel_div_&&(this.xlabel_div_.children[0].innerHTML=t.getOption("xlabel")),this.ylabel_div_&&(this.ylabel_div_.children[0].children[0].innerHTML=t.getOption("ylabel")),this.y2label_div_&&(this.y2label_div_.children[0].children[0].innerHTML=t.getOption("y2label"))};ee.prototype.clearChart=function(){};ee.prototype.destroy=function(){this.detachLabels_()};/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var ve=function(){};ve.prototype.toString=function(){return"Gridline Plugin"};ve.prototype.activate=function(e){return{willDrawChart:this.willDrawChart}};ve.prototype.willDrawChart=function(e){var t=e.dygraph,a=e.drawingContext,r=t.layout_,i=e.dygraph.plotter_.area;function n(b){return Math.round(b)+.5}function o(b){return Math.round(b)-.5}var l,s,h,c;if(t.getOptionForAxis("drawGrid","y")){for(var u=["y","y2"],f=[],p=[],d=[],v=[],_=[],h=0;h<u.length;h++)d[h]=t.getOptionForAxis("drawGrid",u[h]),d[h]&&(f[h]=t.getOptionForAxis("gridLineColor",u[h]),p[h]=t.getOptionForAxis("gridLineWidth",u[h]),_[h]=t.getOptionForAxis("gridLinePattern",u[h]),v[h]=_[h]&&_[h].length>=2);c=r.yticks,a.save(),c.forEach(b=>{if(!!b.has_tick){var m=b.axis;d[m]&&(a.save(),v[m]&&a.setLineDash&&a.setLineDash(_[m]),a.strokeStyle=f[m],a.lineWidth=p[m],l=n(i.x),s=o(i.y+b.pos*i.h),a.beginPath(),a.moveTo(l,s),a.lineTo(l+i.w,s),a.stroke(),a.restore())}}),a.restore()}if(t.getOptionForAxis("drawGrid","x")){c=r.xticks,a.save();var _=t.getOptionForAxis("gridLinePattern","x"),v=_&&_.length>=2;v&&a.setLineDash&&a.setLineDash(_),a.strokeStyle=t.getOptionForAxis("gridLineColor","x"),a.lineWidth=t.getOptionForAxis("gridLineWidth","x"),c.forEach(w=>{!w.has_tick||(l=n(i.x+w.pos*i.w),s=o(i.y+i.h),a.beginPath(),a.moveTo(l,s),a.lineTo(l,i.y),a.closePath(),a.stroke())}),v&&a.setLineDash&&a.setLineDash([]),a.restore()}};ve.prototype.destroy=function(){};/**
 * @license
 * Copyright 2012 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var G=function(){this.legend_div_=null,this.is_generated_div_=!1};G.prototype.toString=function(){return"Legend Plugin"};G.prototype.activate=function(e){var t,a=e.getOption("labelsDiv");return a&&a!==null?typeof a=="string"||a instanceof String?t=document.getElementById(a):t=a:(t=document.createElement("div"),t.className="dygraph-legend",e.graphDiv.appendChild(t),this.is_generated_div_=!0),this.legend_div_=t,this.one_em_width_=10,{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};var qt=function(e){var t=document.createElement("span");t.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;"),e.appendChild(t);var a=t.offsetWidth;return e.removeChild(t),a},Qt=function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};G.prototype.select=function(e){var t=e.selectedX,a=e.selectedPoints,r=e.selectedRow,i=e.dygraph.getOption("legend");if(i==="never"){this.legend_div_.style.display="none";return}if(i==="follow"){var n=e.dygraph.plotter_.area,o=this.legend_div_.offsetWidth,l=e.dygraph.getOptionForAxis("axisLabelWidth","y"),s=a[0].x*n.w+50,h=a[0].y*n.h-50;s+o+1>n.w&&(s=s-2*50-o-(l-n.x)),e.dygraph.graphDiv.appendChild(this.legend_div_),this.legend_div_.style.left=l+s+"px",this.legend_div_.style.top=h+"px"}var c=G.generateLegendHTML(e.dygraph,t,a,this.one_em_width_,r);this.legend_div_.innerHTML=c,this.legend_div_.style.display=""};G.prototype.deselect=function(e){var t=e.dygraph.getOption("legend");t!=="always"&&(this.legend_div_.style.display="none");var a=qt(this.legend_div_);this.one_em_width_=a;var r=G.generateLegendHTML(e.dygraph,void 0,void 0,a,null);this.legend_div_.innerHTML=r};G.prototype.didDrawChart=function(e){this.deselect(e)};G.prototype.predraw=function(e){if(!!this.is_generated_div_){e.dygraph.graphDiv.appendChild(this.legend_div_);var t=e.dygraph.getArea(),a=this.legend_div_.offsetWidth;this.legend_div_.style.left=t.x+t.w-a-1+"px",this.legend_div_.style.top=t.y+"px"}};G.prototype.destroy=function(){this.legend_div_=null};G.generateLegendHTML=function(e,t,a,r,i){var n={dygraph:e,x:t,series:[]},o={},l=e.getLabels();if(l)for(var s=1;s<l.length;s++){var h=e.getPropertiesForSeries(l[s]),c=e.getOption("strokePattern",l[s]),u={dashHTML:Jt(c,h.color,r),label:l[s],labelHTML:Qt(l[s]),isVisible:h.visible,color:h.color};n.series.push(u),o[l[s]]=u}if(typeof t<"u"){var f=e.optionsViewForAxis_("x"),p=f("valueFormatter");n.xHTML=p.call(e,t,f,l[0],e,i,0);for(var d=[],v=e.numAxes(),s=0;s<v;s++)d[s]=e.optionsViewForAxis_("y"+(s?1+s:""));var _=e.getOption("labelsShowZeroValues"),b=e.getHighlightSeries();for(s=0;s<a.length;s++){var m=a[s],u=o[m.name];if(u.y=m.yval,m.yval===0&&!_||isNaN(m.canvasy)){u.isVisible=!1;continue}var h=e.getPropertiesForSeries(m.name),w=d[h.axis-1],C=w("valueFormatter"),S=C.call(e,m.yval,w,m.name,e,i,l.indexOf(m.name));Q(u,{yHTML:S}),m.name==b&&(u.isHighlighted=!0)}}var R=e.getOption("legendFormatter")||G.defaultFormatter;return R.call(e,n)};G.defaultFormatter=function(e){var t=e.dygraph;if(t.getOption("showLabelsOnHighlight")!==!0)return"";var a=t.getOption("labelsSeparateLines"),r;if(typeof e.x>"u"){if(t.getOption("legend")!="always")return"";r="";for(var i=0;i<e.series.length;i++){var n=e.series[i];!n.isVisible||(r!==""&&(r+=a?"<br/>":" "),r+=`<span style='font-weight: bold; color: ${n.color};'>${n.dashHTML} ${n.labelHTML}</span>`)}return r}r=e.xHTML+":";for(var i=0;i<e.series.length;i++){var n=e.series[i];if(!!n.isVisible){a&&(r+="<br>");var o=n.isHighlighted?' class="highlight"':"";r+=`<span${o}> <b><span style='color: ${n.color};'>${n.labelHTML}</span></b>:&#160;${n.yHTML}</span>`}}return r};function Jt(e,t,a){if(!e||e.length<=1)return`<div class="dygraph-legend-line" style="border-bottom-color: ${t};"></div>`;var r,i,n,o,l=0,s=0,h=[],c;for(r=0;r<=e.length;r++)l+=e[r%e.length];if(c=Math.floor(a/(l-e[0])),c>1){for(r=0;r<e.length;r++)h[r]=e[r]/a;s=h.length}else{for(c=1,r=0;r<e.length;r++)h[r]=e[r]/l;s=h.length+1}var u="";for(i=0;i<c;i++)for(r=0;r<s;r+=2)n=h[r%h.length],r<e.length?o=h[(r+1)%h.length]:o=0,u+=`<div class="dygraph-legend-dash" style="margin-right: ${o}em; padding-left: ${n}em;"></div>`;return u}/**
 * @license
 * Copyright 2011 Paul Felix (paul.eric.felix@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var k=function(){this.hasTouchInterface_=typeof TouchEvent<"u",this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion),this.interfaceCreated_=!1};k.prototype.toString=function(){return"RangeSelector Plugin"};k.prototype.activate=function(e){return this.dygraph_=e,this.getOption_("showRangeSelector")&&this.createInterface_(),{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}};k.prototype.destroy=function(){this.bgcanvas_=null,this.fgcanvas_=null,this.leftZoomHandle_=null,this.rightZoomHandle_=null};k.prototype.getOption_=function(e,t){return this.dygraph_.getOption(e,t)};k.prototype.setDefaultOption_=function(e,t){this.dygraph_.attrs_[e]=t};k.prototype.createInterface_=function(){this.createCanvases_(),this.createZoomHandles_(),this.initInteraction_(),this.getOption_("animatedZooms")&&(console.warn("Animated zooms and range selector are not compatible; disabling animatedZooms."),this.dygraph_.updateOptions({animatedZooms:!1},!0)),this.interfaceCreated_=!0,this.addToGraph_()};k.prototype.addToGraph_=function(){var e=this.graphDiv_=this.dygraph_.graphDiv;e.appendChild(this.bgcanvas_),e.appendChild(this.fgcanvas_),e.appendChild(this.leftZoomHandle_),e.appendChild(this.rightZoomHandle_)};k.prototype.removeFromGraph_=function(){var e=this.graphDiv_;e.removeChild(this.bgcanvas_),e.removeChild(this.fgcanvas_),e.removeChild(this.leftZoomHandle_),e.removeChild(this.rightZoomHandle_),this.graphDiv_=null};k.prototype.reserveSpace_=function(e){this.getOption_("showRangeSelector")&&e.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)};k.prototype.renderStaticLayer_=function(){!this.updateVisibility_()||(this.resize_(),this.drawStaticLayer_())};k.prototype.renderInteractiveLayer_=function(){!this.updateVisibility_()||this.isChangingRange_||(this.placeZoomHandles_(),this.drawInteractiveLayer_())};k.prototype.updateVisibility_=function(){var e=this.getOption_("showRangeSelector");if(e)this.interfaceCreated_?(!this.graphDiv_||!this.graphDiv_.parentNode)&&this.addToGraph_():this.createInterface_();else if(this.graphDiv_){this.removeFromGraph_();var t=this.dygraph_;setTimeout(function(){t.width_=0,t.resize()},1)}return e};k.prototype.resize_=function(){function e(i,n,o,l){var s=l||$e(n);i.style.top=o.y+"px",i.style.left=o.x+"px",i.width=o.w*s,i.height=o.h*s,i.style.width=o.w+"px",i.style.height=o.h+"px",s!=1&&n.scale(s,s)}var t=this.dygraph_.layout_.getPlotArea(),a=0;this.dygraph_.getOptionForAxis("drawAxis","x")&&(a=this.getOption_("xAxisHeight")||this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize")),this.canvasRect_={x:t.x,y:t.y+t.h+a+4,w:t.w,h:this.getOption_("rangeSelectorHeight")};var r=this.dygraph_.getNumericOption("pixelRatio");e(this.bgcanvas_,this.bgcanvas_ctx_,this.canvasRect_,r),e(this.fgcanvas_,this.fgcanvas_ctx_,this.canvasRect_,r)};k.prototype.createCanvases_=function(){this.bgcanvas_=Pe(),this.bgcanvas_.className="dygraph-rangesel-bgcanvas",this.bgcanvas_.style.position="absolute",this.bgcanvas_.style.zIndex=9,this.bgcanvas_ctx_=Ne(this.bgcanvas_),this.fgcanvas_=Pe(),this.fgcanvas_.className="dygraph-rangesel-fgcanvas",this.fgcanvas_.style.position="absolute",this.fgcanvas_.style.zIndex=9,this.fgcanvas_.style.cursor="default",this.fgcanvas_ctx_=Ne(this.fgcanvas_)};k.prototype.createZoomHandles_=function(){var e=new Image;e.className="dygraph-rangesel-zoomhandle",e.style.position="absolute",e.style.zIndex=10,e.style.visibility="hidden",e.style.cursor="col-resize",e.width=9,e.height=16,e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII=",this.isMobileDevice_&&(e.width*=2,e.height*=2),this.leftZoomHandle_=e,this.rightZoomHandle_=e.cloneNode(!1)};k.prototype.initInteraction_=function(){var e=this,t=document,a=0,r=null,i=!1,n=!1,o=!this.isMobileDevice_,l=new Ye,s,h,c,u,f,p,d,v,_,b,m,w,C,S;s=function(y){var A=e.dygraph_.xAxisExtremes(),L=(A[1]-A[0])/e.canvasRect_.w,x=A[0]+(y.leftHandlePos-e.canvasRect_.x)*L,T=A[0]+(y.rightHandlePos-e.canvasRect_.x)*L;return[x,T]},h=function(y){return te(y),i=!0,a=y.clientX,r=y.target?y.target:y.srcElement,(y.type==="mousedown"||y.type==="dragstart")&&(pe(t,"mousemove",c),pe(t,"mouseup",u)),e.fgcanvas_.style.cursor="col-resize",l.cover(),!0},c=function(y){if(!i)return!1;te(y);var A=y.clientX-a;if(Math.abs(A)<4)return!0;a=y.clientX;var L=e.getZoomHandleStatus_(),x;r==e.leftZoomHandle_?(x=L.leftHandlePos+A,x=Math.min(x,L.rightHandlePos-r.width-3),x=Math.max(x,e.canvasRect_.x)):(x=L.rightHandlePos+A,x=Math.min(x,e.canvasRect_.x+e.canvasRect_.w),x=Math.max(x,L.leftHandlePos+r.width+3));var T=r.width/2;return r.style.left=x-T+"px",e.drawInteractiveLayer_(),o&&f(),!0},u=function(y){return i?(i=!1,l.uncover(),q(t,"mousemove",c),q(t,"mouseup",u),e.fgcanvas_.style.cursor="default",o||f(),!0):!1},f=function(){try{var y=e.getZoomHandleStatus_();if(e.isChangingRange_=!0,!y.isZoomed)e.dygraph_.resetZoom();else{var A=s(y);e.dygraph_.doZoomXDates_(A[0],A[1])}}finally{e.isChangingRange_=!1}},p=function(y){var A=e.leftZoomHandle_.getBoundingClientRect(),L=A.left+A.width/2;A=e.rightZoomHandle_.getBoundingClientRect();var x=A.left+A.width/2;return y.clientX>L&&y.clientX<x},d=function(y){return!n&&p(y)&&e.getZoomHandleStatus_().isZoomed?(te(y),n=!0,a=y.clientX,y.type==="mousedown"&&(pe(t,"mousemove",v),pe(t,"mouseup",_)),!0):!1},v=function(y){if(!n)return!1;te(y);var A=y.clientX-a;if(Math.abs(A)<4)return!0;a=y.clientX;var L=e.getZoomHandleStatus_(),x=L.leftHandlePos,T=L.rightHandlePos,I=T-x;x+A<=e.canvasRect_.x?(x=e.canvasRect_.x,T=x+I):T+A>=e.canvasRect_.x+e.canvasRect_.w?(T=e.canvasRect_.x+e.canvasRect_.w,x=T-I):(x+=A,T+=A);var X=e.leftZoomHandle_.width/2;return e.leftZoomHandle_.style.left=x-X+"px",e.rightZoomHandle_.style.left=T-X+"px",e.drawInteractiveLayer_(),o&&b(),!0},_=function(y){return n?(n=!1,q(t,"mousemove",v),q(t,"mouseup",_),o||b(),!0):!1},b=function(){try{e.isChangingRange_=!0,e.dygraph_.dateWindow_=s(e.getZoomHandleStatus_()),e.dygraph_.drawGraph_(!1)}finally{e.isChangingRange_=!1}},m=function(y){if(!(i||n)){var A=p(y)?"move":"default";A!=e.fgcanvas_.style.cursor&&(e.fgcanvas_.style.cursor=A)}},w=function(y){y.type=="touchstart"&&y.targetTouches.length==1?h(y.targetTouches[0])&&te(y):y.type=="touchmove"&&y.targetTouches.length==1?c(y.targetTouches[0])&&te(y):u(y)},C=function(y){y.type=="touchstart"&&y.targetTouches.length==1?d(y.targetTouches[0])&&te(y):y.type=="touchmove"&&y.targetTouches.length==1?v(y.targetTouches[0])&&te(y):_(y)},S=function(y,A){for(var L=["touchstart","touchend","touchmove","touchcancel"],x=0;x<L.length;x++)e.dygraph_.addAndTrackEvent(y,L[x],A)},this.setDefaultOption_("interactionModel",E.dragIsPanInteractionModel),this.setDefaultOption_("panEdgeFraction",1e-4);var R=window.opera?"mousedown":"dragstart";this.dygraph_.addAndTrackEvent(this.leftZoomHandle_,R,h),this.dygraph_.addAndTrackEvent(this.rightZoomHandle_,R,h),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousedown",d),this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousemove",m),this.hasTouchInterface_&&(S(this.leftZoomHandle_,w),S(this.rightZoomHandle_,w),S(this.fgcanvas_,C))};k.prototype.drawStaticLayer_=function(){var e=this.bgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(a){console.warn(a)}var t=.5;this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorBackgroundLineWidth"),e.strokeStyle=this.getOption_("rangeSelectorBackgroundStrokeColor"),e.beginPath(),e.moveTo(t,t),e.lineTo(t,this.canvasRect_.h-t),e.lineTo(this.canvasRect_.w-t,this.canvasRect_.h-t),e.lineTo(this.canvasRect_.w-t,t),e.stroke()};k.prototype.drawMiniPlot_=function(){var e=this.getOption_("rangeSelectorPlotFillColor"),t=this.getOption_("rangeSelectorPlotFillGradientColor"),a=this.getOption_("rangeSelectorPlotStrokeColor");if(!(!e&&!a)){var r=this.getOption_("stepPlot"),i=this.computeCombinedSeriesAndLimits_(),n=i.yMax-i.yMin,o=this.bgcanvas_ctx_,l=.5,s=this.dygraph_.xAxisExtremes(),h=Math.max(s[1]-s[0],1e-30),c=(this.canvasRect_.w-l)/h,u=(this.canvasRect_.h-l)/n,f=this.canvasRect_.w-l,p=this.canvasRect_.h-l,d=null,v=null;o.beginPath(),o.moveTo(l,p);for(var _=0;_<i.data.length;_++){var b=i.data[_],m=b[0]!==null?(b[0]-s[0])*c:NaN,w=b[1]!==null?p-(b[1]-i.yMin)*u:NaN;!r&&d!==null&&Math.round(m)==Math.round(d)||(isFinite(m)&&isFinite(w)?(d===null?o.lineTo(m,p):r&&o.lineTo(m,v),o.lineTo(m,w),d=m,v=w):(d!==null&&(r?(o.lineTo(m,v),o.lineTo(m,p)):o.lineTo(d,p)),d=v=null))}if(o.lineTo(f,p),o.closePath(),e){var C=this.bgcanvas_ctx_.createLinearGradient(0,0,0,p);t&&C.addColorStop(0,t),C.addColorStop(1,e),this.bgcanvas_ctx_.fillStyle=C,o.fill()}a&&(this.bgcanvas_ctx_.strokeStyle=a,this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorPlotLineWidth"),o.stroke())}};k.prototype.computeCombinedSeriesAndLimits_=function(){var e=this.dygraph_,t=this.getOption_("logscale"),a,r=e.numColumns(),i=e.getLabels(),n=new Array(r),o=!1,l=e.visibility(),s=[];for(a=1;a<r;a++){var h=this.getOption_("showInRangeSelector",i[a]);s.push(h),h!==null&&(o=!0)}if(o)for(a=1;a<r;a++)n[a]=s[a-1];else for(a=1;a<r;a++)n[a]=l[a-1];var c=[],u=e.dataHandler_,f=e.attributes_;for(a=1;a<e.numColumns();a++)if(!!n[a]){var p=u.extractSeries(e.rawData_,a,f);e.rollPeriod()>1&&(p=u.rollingAverage(p,e.rollPeriod(),f)),c.push(p)}var d=[];for(a=0;a<c[0].length;a++){for(var v=0,_=0,b=0;b<c.length;b++){var m=c[b][a][1];m===null||isNaN(m)||(_++,v+=m)}d.push([c[0][a][0],v/_])}var w=Number.MAX_VALUE,C=-Number.MAX_VALUE;for(a=0;a<d.length;a++){var S=d[a][1];S!==null&&isFinite(S)&&(!t||S>0)&&(w=Math.min(w,S),C=Math.max(C,S))}var R=.25;if(t)for(C=F(C),C+=C*R,w=F(w),a=0;a<d.length;a++)d[a][1]=F(d[a][1]);else{var y,A=C-w;A<=Number.MIN_VALUE?y=C*R:y=A*R,C+=y,w-=y}return{data:d,yMin:w,yMax:C}};k.prototype.placeZoomHandles_=function(){var e=this.dygraph_.xAxisExtremes(),t=this.dygraph_.xAxisRange(),a=e[1]-e[0],r=Math.max(0,(t[0]-e[0])/a),i=Math.max(0,(e[1]-t[1])/a),n=this.canvasRect_.x+this.canvasRect_.w*r,o=this.canvasRect_.x+this.canvasRect_.w*(1-i),l=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2),s=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=n-s+"px",this.leftZoomHandle_.style.top=l+"px",this.rightZoomHandle_.style.left=o-s+"px",this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top,this.leftZoomHandle_.style.visibility="visible",this.rightZoomHandle_.style.visibility="visible"};k.prototype.drawInteractiveLayer_=function(){var e=this.fgcanvas_ctx_;e.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var t=1,a=this.canvasRect_.w-t,r=this.canvasRect_.h-t,i=this.getZoomHandleStatus_();if(e.strokeStyle=this.getOption_("rangeSelectorForegroundStrokeColor"),e.lineWidth=this.getOption_("rangeSelectorForegroundLineWidth"),!i.isZoomed)e.beginPath(),e.moveTo(t,t),e.lineTo(t,r),e.lineTo(a,r),e.lineTo(a,t),e.stroke();else{var n=Math.max(t,i.leftHandlePos-this.canvasRect_.x),o=Math.min(a,i.rightHandlePos-this.canvasRect_.x);e.fillStyle="rgba(240, 240, 240, "+this.getOption_("rangeSelectorAlpha").toString()+")",e.fillRect(0,0,n,this.canvasRect_.h),e.fillRect(o,0,this.canvasRect_.w-o,this.canvasRect_.h),e.beginPath(),e.moveTo(t,t),e.lineTo(n,t),e.lineTo(n,r),e.lineTo(o,r),e.lineTo(o,t),e.lineTo(a,t),e.stroke()}};k.prototype.getZoomHandleStatus_=function(){var e=this.leftZoomHandle_.width/2,t=parseFloat(this.leftZoomHandle_.style.left)+e,a=parseFloat(this.rightZoomHandle_.style.left)+e;return{leftHandlePos:t,rightHandlePos:a,isZoomed:t-1>this.canvasRect_.x||a+1<this.canvasRect_.x+this.canvasRect_.w}};/**
 * @license
 * Copyright 2011 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var Ve=function(e){this.container=e};Ve.prototype.draw=function(e,t){this.container.innerHTML="",typeof this.date_graph<"u"&&this.date_graph.destroy(),this.date_graph=new g(this.container,e,t)};Ve.prototype.setSelection=function(e){var t=!1;e.length&&(t=e[0].row),this.date_graph.setSelection(t)};Ve.prototype.getSelection=function(){var e=[],t=this.date_graph.getSelection();if(t<0)return e;for(var a=this.date_graph.layout_.points,r=0;r<a.length;++r)e.push({row:t,column:r+1});return e};/**
 * @license
 * Copyright 2006 Dan Vanderkam (danvdk@gmail.com)
 * MIT-licensed (http://opensource.org/licenses/MIT)
 */var g=function(e,t,a){this.__init__(e,t,a)};g.NAME="Dygraph";g.VERSION="2.0.0";g.DEFAULT_ROLL_PERIOD=1;g.DEFAULT_WIDTH=480;g.DEFAULT_HEIGHT=320;g.ANIMATION_STEPS=12;g.ANIMATION_DURATION=200;g.Plotters=M._Plotters;g.addedAnnotationCSS=!1;g.prototype.__init__=function(e,t,a){if(this.is_initial_draw_=!0,this.readyFns_=[],a==null&&(a={}),a=g.copyUserAttrs_(a),typeof e=="string"&&(e=document.getElementById(e)),!e)throw new Error("Constructing dygraph with a non-existent div!");this.maindiv_=e,this.file_=t,this.rollPeriod_=a.rollPeriod||g.DEFAULT_ROLL_PERIOD,this.previousVerticalX_=-1,this.fractions_=a.fractions||!1,this.dateWindow_=a.dateWindow||null,this.annotations_=[],e.innerHTML="",e.style.width===""&&a.width&&(e.style.width=a.width+"px"),e.style.height===""&&a.height&&(e.style.height=a.height+"px"),e.style.height===""&&e.clientHeight===0&&(e.style.height=g.DEFAULT_HEIGHT+"px",e.style.width===""&&(e.style.width=g.DEFAULT_WIDTH+"px")),this.width_=e.clientWidth||a.width||0,this.height_=e.clientHeight||a.height||0,a.stackedGraph&&(a.fillGraph=!0),this.user_attrs_={},Q(this.user_attrs_,a),this.attrs_={},je(this.attrs_,Re),this.boundaryIds_=[],this.setIndexByName_={},this.datasetIndex_=[],this.registeredEvents_=[],this.eventListeners_={},this.attributes_=new Z(this),this.createInterface_(),this.plugins_=[];for(var r=g.PLUGINS.concat(this.getOption("plugins")),i=0;i<r.length;i++){var n=r[i],o;typeof n.activate<"u"?o=n:o=new n;var l={plugin:o,events:{},options:{},pluginOptions:{}},s=o.activate(this);for(var h in s)!s.hasOwnProperty(h)||(l.events[h]=s[h]);this.plugins_.push(l)}for(var i=0;i<this.plugins_.length;i++){var c=this.plugins_[i];for(var h in c.events)if(!!c.events.hasOwnProperty(h)){var u=c.events[h],f=[c.plugin,u];h in this.eventListeners_?this.eventListeners_[h].push(f):this.eventListeners_[h]=[f]}}this.createDragInterface_(),this.start_()};g.prototype.cascadeEvents_=function(e,t){if(!(e in this.eventListeners_))return!1;var a={dygraph:this,cancelable:!1,defaultPrevented:!1,preventDefault:function(){if(!a.cancelable)throw"Cannot call preventDefault on non-cancelable event.";a.defaultPrevented=!0},propagationStopped:!1,stopPropagation:function(){a.propagationStopped=!0}};Q(a,t);var r=this.eventListeners_[e];if(r)for(var i=r.length-1;i>=0;i--){var n=r[i][0],o=r[i][1];if(o.call(n,a),a.propagationStopped)break}return a.defaultPrevented};g.prototype.getPluginInstance_=function(e){for(var t=0;t<this.plugins_.length;t++){var a=this.plugins_[t];if(a.plugin instanceof e)return a.plugin}return null};g.prototype.isZoomed=function(e){const t=!!this.dateWindow_;if(e==="x")return t;const a=this.axes_.map(r=>!!r.valueRange).indexOf(!0)>=0;if(e==null)return t||a;if(e==="y")return a;throw new Error(`axis parameter is [${e}] must be null, 'x' or 'y'.`)};g.prototype.toString=function(){var e=this.maindiv_,t=e&&e.id?e.id:e;return"[Dygraph "+t+"]"};g.prototype.attr_=function(e,t){return t?this.attributes_.getForSeries(e,t):this.attributes_.get(e)};g.prototype.getOption=function(e,t){return this.attr_(e,t)};g.prototype.getNumericOption=function(e,t){return this.getOption(e,t)};g.prototype.getStringOption=function(e,t){return this.getOption(e,t)};g.prototype.getBooleanOption=function(e,t){return this.getOption(e,t)};g.prototype.getFunctionOption=function(e,t){return this.getOption(e,t)};g.prototype.getOptionForAxis=function(e,t){return this.attributes_.getForAxis(e,t)};g.prototype.optionsViewForAxis_=function(e){var t=this;return function(a){var r=t.user_attrs_.axes;return r&&r[e]&&r[e].hasOwnProperty(a)?r[e][a]:e==="x"&&a==="logscale"?!1:typeof t.user_attrs_[a]<"u"?t.user_attrs_[a]:(r=t.attrs_.axes,r&&r[e]&&r[e].hasOwnProperty(a)?r[e][a]:e=="y"&&t.axes_[0].hasOwnProperty(a)?t.axes_[0][a]:e=="y2"&&t.axes_[1].hasOwnProperty(a)?t.axes_[1][a]:t.attr_(a))}};g.prototype.rollPeriod=function(){return this.rollPeriod_};g.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()};g.prototype.xAxisExtremes=function(){var e=this.getNumericOption("xRangePad")/this.plotter_.area.w;if(this.numRows()===0)return[0-e,1+e];var t=this.rawData_[0][0],a=this.rawData_[this.rawData_.length-1][0];if(e){var r=a-t;t-=r*e,a+=r*e}return[t,a]};g.prototype.yAxisExtremes=function(){const e=this.gatherDatasets_(this.rolledSeries_,null),{extremes:t}=e,a=this.axes_;this.computeYAxisRanges_(t);const r=this.axes_;return this.axes_=a,r.map(i=>i.extremeRange)};g.prototype.yAxisRange=function(e){if(typeof e>"u"&&(e=0),e<0||e>=this.axes_.length)return null;var t=this.axes_[e];return[t.computedValueRange[0],t.computedValueRange[1]]};g.prototype.yAxisRanges=function(){for(var e=[],t=0;t<this.axes_.length;t++)e.push(this.yAxisRange(t));return e};g.prototype.toDomCoords=function(e,t,a){return[this.toDomXCoord(e),this.toDomYCoord(t,a)]};g.prototype.toDomXCoord=function(e){if(e===null)return null;var t=this.plotter_.area,a=this.xAxisRange();return t.x+(e-a[0])/(a[1]-a[0])*t.w};g.prototype.toDomYCoord=function(e,t){var a=this.toPercentYCoord(e,t);if(a===null)return null;var r=this.plotter_.area;return r.y+a*r.h};g.prototype.toDataCoords=function(e,t,a){return[this.toDataXCoord(e),this.toDataYCoord(t,a)]};g.prototype.toDataXCoord=function(e){if(e===null)return null;var t=this.plotter_.area,a=this.xAxisRange();if(this.attributes_.getForAxis("logscale","x")){var r=(e-t.x)/t.w;return De(a[0],a[1],r)}else return a[0]+(e-t.x)/t.w*(a[1]-a[0])};g.prototype.toDataYCoord=function(e,t){if(e===null)return null;var a=this.plotter_.area,r=this.yAxisRange(t);if(typeof t>"u"&&(t=0),this.attributes_.getForAxis("logscale",t)){var i=(e-a.y)/a.h;return De(r[1],r[0],i)}else return r[0]+(a.y+a.h-e)/a.h*(r[1]-r[0])};g.prototype.toPercentYCoord=function(e,t){if(e===null)return null;typeof t>"u"&&(t=0);var a=this.yAxisRange(t),r,i=this.attributes_.getForAxis("logscale",t);if(i){var n=F(a[0]),o=F(a[1]);r=(o-F(e))/(o-n)}else r=(a[1]-e)/(a[1]-a[0]);return r};g.prototype.toPercentXCoord=function(e){if(e===null)return null;var t=this.xAxisRange(),a,r=this.attributes_.getForAxis("logscale","x");if(r===!0){var i=F(t[0]),n=F(t[1]);a=(F(e)-i)/(n-i)}else a=(e-t[0])/(t[1]-t[0]);return a};g.prototype.numColumns=function(){return this.rawData_?this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length:0};g.prototype.numRows=function(){return this.rawData_?this.rawData_.length:0};g.prototype.getValue=function(e,t){return e<0||e>this.rawData_.length||t<0||t>this.rawData_[e].length?null:this.rawData_[e][t]};g.prototype.createInterface_=function(){var e=this.maindiv_;this.graphDiv=document.createElement("div"),this.graphDiv.style.textAlign="left",this.graphDiv.style.position="relative",e.appendChild(this.graphDiv),this.canvas_=Pe(),this.canvas_.style.position="absolute",this.hidden_=this.createPlotKitCanvas_(this.canvas_),this.canvas_ctx_=Ne(this.canvas_),this.hidden_ctx_=Ne(this.hidden_),this.resizeElements_(),this.graphDiv.appendChild(this.hidden_),this.graphDiv.appendChild(this.canvas_),this.mouseEventElement_=this.createMouseEventElement_(),this.layout_=new H(this);var t=this;this.mouseMoveHandler_=function(a){t.mouseMove_(a)},this.mouseOutHandler_=function(a){var r=a.target||a.fromElement,i=a.relatedTarget||a.toElement;lt(r,t.graphDiv)&&!lt(i,t.graphDiv)&&t.mouseOut_(a)},this.addAndTrackEvent(window,"mouseout",this.mouseOutHandler_),this.addAndTrackEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),this.resizeHandler_||(this.resizeHandler_=function(a){t.resize()},this.addAndTrackEvent(window,"resize",this.resizeHandler_))};g.prototype.resizeElements_=function(){this.graphDiv.style.width=this.width_+"px",this.graphDiv.style.height=this.height_+"px";var e=this.getNumericOption("pixelRatio"),t=e||$e(this.canvas_ctx_);this.canvas_.width=this.width_*t,this.canvas_.height=this.height_*t,this.canvas_.style.width=this.width_+"px",this.canvas_.style.height=this.height_+"px",t!==1&&this.canvas_ctx_.scale(t,t);var a=e||$e(this.hidden_ctx_);this.hidden_.width=this.width_*a,this.hidden_.height=this.height_*a,this.hidden_.style.width=this.width_+"px",this.hidden_.style.height=this.height_+"px",a!==1&&this.hidden_ctx_.scale(a,a)};g.prototype.destroy=function(){this.canvas_ctx_.restore(),this.hidden_ctx_.restore();for(var e=this.plugins_.length-1;e>=0;e--){var t=this.plugins_.pop();t.plugin.destroy&&t.plugin.destroy()}var a=function(i){for(;i.hasChildNodes();)a(i.firstChild),i.removeChild(i.firstChild)};this.removeTrackedEvents_(),q(window,"mouseout",this.mouseOutHandler_),q(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_),q(window,"resize",this.resizeHandler_),this.resizeHandler_=null,a(this.maindiv_);var r=function(i){for(var n in i)typeof i[n]=="object"&&(i[n]=null)};r(this.layout_),r(this.plotter_),r(this)};g.prototype.createPlotKitCanvas_=function(e){var t=Pe();return t.style.position="absolute",t.style.top=e.style.top,t.style.left=e.style.left,t.width=this.width_,t.height=this.height_,t.style.width=this.width_+"px",t.style.height=this.height_+"px",t};g.prototype.createMouseEventElement_=function(){return this.canvas_};g.prototype.setColors_=function(){var e=this.getLabels(),t=e.length-1;this.colors_=[],this.colorsMap_={};for(var a=this.getNumericOption("colorSaturation")||1,r=this.getNumericOption("colorValue")||.5,i=Math.ceil(t/2),n=this.getOption("colors"),o=this.visibility(),l=0;l<t;l++)if(!!o[l]){var s=e[l+1],h=this.attributes_.getForSeries("color",s);if(!h)if(n)h=n[l%n.length];else{var c=l%2?i+(l+1)/2:Math.ceil((l+1)/2),u=1*c/(1+t);h=Xt(u,a,r)}this.colors_.push(h),this.colorsMap_[s]=h}};g.prototype.getColors=function(){return this.colors_};g.prototype.getPropertiesForSeries=function(e){for(var t=-1,a=this.getLabels(),r=1;r<a.length;r++)if(a[r]==e){t=r;break}return t==-1?null:{name:e,column:t,visible:this.visibility()[t-1],color:this.colorsMap_[e],axis:1+this.attributes_.axisForSeries(e)}};g.prototype.createRollInterface_=function(){var e=this.roller_;e||(this.roller_=e=document.createElement("input"),e.type="text",e.style.display="none",e.className="dygraph-roller",this.graphDiv.appendChild(e));var t=this.getBooleanOption("showRoller")?"block":"none",a=this.getArea(),r={top:a.y+a.h-25+"px",left:a.x+1+"px",display:t};e.size="2",e.value=this.rollPeriod_,Q(e.style,r),e.onchange=()=>this.adjustRoll(e.value)};g.prototype.createDragInterface_=function(){var e={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:!1,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new Ye,initializeMouseDown:function(o,l,s){o.preventDefault?o.preventDefault():(o.returnValue=!1,o.cancelBubble=!0);var h=be(l.canvas_);s.px=h.x,s.py=h.y,s.dragStartX=He(o,s),s.dragStartY=Xe(o,s),s.cancelNextDblclick=!1,s.tarp.cover()},destroy:function(){var o=this;if((o.isZooming||o.isPanning)&&(o.isZooming=!1,o.dragStartX=null,o.dragStartY=null),o.isPanning){o.isPanning=!1,o.draggingDate=null,o.dateRange=null;for(var l=0;l<a.axes_.length;l++)delete a.axes_[l].draggingValue,delete a.axes_[l].dragValueRange}o.tarp.uncover()}},t=this.getOption("interactionModel"),a=this,r=function(o){return function(l){o(l,a,e)}};for(var i in t)!t.hasOwnProperty(i)||this.addAndTrackEvent(this.mouseEventElement_,i,r(t[i]));if(!t.willDestroyContextMyself){var n=function(o){e.destroy()};this.addAndTrackEvent(document,"mouseup",n)}};g.prototype.drawZoomRect_=function(e,t,a,r,i,n,o,l){var s=this.canvas_ctx_;n==Te?s.clearRect(Math.min(t,o),this.layout_.getPlotArea().y,Math.abs(t-o),this.layout_.getPlotArea().h):n==Oe&&s.clearRect(this.layout_.getPlotArea().x,Math.min(r,l),this.layout_.getPlotArea().w,Math.abs(r-l)),e==Te?a&&t&&(s.fillStyle="rgba(128,128,128,0.33)",s.fillRect(Math.min(t,a),this.layout_.getPlotArea().y,Math.abs(a-t),this.layout_.getPlotArea().h)):e==Oe&&i&&r&&(s.fillStyle="rgba(128,128,128,0.33)",s.fillRect(this.layout_.getPlotArea().x,Math.min(r,i),this.layout_.getPlotArea().w,Math.abs(i-r)))};g.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null,this.canvas_ctx_.clearRect(0,0,this.width_,this.height_)};g.prototype.doZoomX_=function(e,t){this.currentZoomRectArgs_=null;var a=this.toDataXCoord(e),r=this.toDataXCoord(t);this.doZoomXDates_(a,r)};g.prototype.doZoomXDates_=function(e,t){var a=this.xAxisRange(),r=[e,t];const i=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(a,r,null,null,()=>{i&&i.call(this,e,t,this.yAxisRanges())})};g.prototype.doZoomY_=function(e,t){this.currentZoomRectArgs_=null;for(var a=this.yAxisRanges(),r=[],i=0;i<this.axes_.length;i++){var n=this.toDataYCoord(e,i),o=this.toDataYCoord(t,i);r.push([o,n])}const l=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(null,null,a,r,()=>{if(l){const[s,h]=this.xAxisRange();l.call(this,s,h,this.yAxisRanges())}})};g.zoomAnimationFunction=function(e,t){var a=1.5;return(1-Math.pow(a,-e))/(1-Math.pow(a,-t))};g.prototype.resetZoom=function(){const e=this.isZoomed("x"),t=this.isZoomed("y"),a=e||t;if(this.clearSelection(),!a)return;const[r,i]=this.xAxisExtremes(),n=this.getBooleanOption("animatedZooms"),o=this.getFunctionOption("zoomCallback");if(!n){this.dateWindow_=null,this.axes_.forEach(u=>{u.valueRange&&delete u.valueRange}),this.drawGraph_(),o&&o.call(this,r,i,this.yAxisRanges());return}var l=null,s=null,h=null,c=null;e&&(l=this.xAxisRange(),s=[r,i]),t&&(h=this.yAxisRanges(),c=this.yAxisExtremes()),this.doAnimatedZoom(l,s,h,c,()=>{this.dateWindow_=null,this.axes_.forEach(u=>{u.valueRange&&delete u.valueRange}),o&&o.call(this,r,i,this.yAxisRanges())})};g.prototype.doAnimatedZoom=function(e,t,a,r,i){var n=this.getBooleanOption("animatedZooms")?g.ANIMATION_STEPS:1,o=[],l=[],s,h;if(e!==null&&t!==null)for(s=1;s<=n;s++)h=g.zoomAnimationFunction(s,n),o[s-1]=[e[0]*(1-h)+h*t[0],e[1]*(1-h)+h*t[1]];if(a!==null&&r!==null)for(s=1;s<=n;s++){h=g.zoomAnimationFunction(s,n);for(var c=[],u=0;u<this.axes_.length;u++)c.push([a[u][0]*(1-h)+h*r[u][0],a[u][1]*(1-h)+h*r[u][1]]);l[s-1]=c}Lt(f=>{if(l.length)for(var p=0;p<this.axes_.length;p++){var d=l[f][p];this.axes_[p].valueRange=[d[0],d[1]]}o.length&&(this.dateWindow_=o[f]),this.drawGraph_()},n,g.ANIMATION_DURATION/n,i)};g.prototype.getArea=function(){return this.plotter_.area};g.prototype.eventToDomCoords=function(e){if(e.offsetX&&e.offsetY)return[e.offsetX,e.offsetY];var t=be(this.mouseEventElement_),a=ke(e)-t.x,r=Ie(e)-t.y;return[a,r]};g.prototype.findClosestRow=function(e){for(var t=1/0,a=-1,r=this.layout_.points,i=0;i<r.length;i++)for(var n=r[i],o=n.length,l=0;l<o;l++){var s=n[l];if(!!_e(s,!0)){var h=Math.abs(s.canvasx-e);h<t&&(t=h,a=s.idx)}}return a};g.prototype.findClosestPoint=function(e,t){for(var a=1/0,r,i,n,o,l,s,h,c=this.layout_.points.length-1;c>=0;--c)for(var u=this.layout_.points[c],f=0;f<u.length;++f)o=u[f],_e(o)&&(i=o.canvasx-e,n=o.canvasy-t,r=i*i+n*n,r<a&&(a=r,l=o,s=c,h=o.idx));var p=this.layout_.setNames[s];return{row:h,seriesName:p,point:l}};g.prototype.findStackedPoint=function(e,t){for(var a=this.findClosestRow(e),r,i,n=0;n<this.layout_.points.length;++n){var o=this.getLeftBoundary_(n),l=a-o,s=this.layout_.points[n];if(!(l>=s.length)){var h=s[l];if(!!_e(h)){var c=h.canvasy;if(e>h.canvasx&&l+1<s.length){var u=s[l+1];if(_e(u)){var f=u.canvasx-h.canvasx;if(f>0){var p=(e-h.canvasx)/f;c+=p*(u.canvasy-h.canvasy)}}}else if(e<h.canvasx&&l>0){var d=s[l-1];if(_e(d)){var f=h.canvasx-d.canvasx;if(f>0){var p=(h.canvasx-e)/f;c+=p*(d.canvasy-h.canvasy)}}}(n===0||c<t)&&(r=h,i=n)}}}var v=this.layout_.setNames[i];return{row:a,seriesName:v,point:r}};g.prototype.mouseMove_=function(e){var t=this.layout_.points;if(t!=null){var a=this.eventToDomCoords(e),r=a[0],i=a[1],n=this.getOption("highlightSeriesOpts"),o=!1;if(n&&!this.isSeriesLocked()){var l;this.getBooleanOption("stackedGraph")?l=this.findStackedPoint(r,i):l=this.findClosestPoint(r,i),o=this.setSelection(l.row,l.seriesName)}else{var s=this.findClosestRow(r);o=this.setSelection(s)}var h=this.getFunctionOption("highlightCallback");h&&o&&h.call(this,e,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}};g.prototype.getLeftBoundary_=function(e){if(this.boundaryIds_[e])return this.boundaryIds_[e][0];for(var t=0;t<this.boundaryIds_.length;t++)if(this.boundaryIds_[t]!==void 0)return this.boundaryIds_[t][0];return 0};g.prototype.animateSelection_=function(e){var t=10,a=30;this.fadeLevel===void 0&&(this.fadeLevel=0),this.animateId===void 0&&(this.animateId=0);var r=this.fadeLevel,i=e<0?r:t-r;if(i<=0){this.fadeLevel&&this.updateSelection_(1);return}var n=++this.animateId,o=this,l=function(){o.fadeLevel!==0&&e<0&&(o.fadeLevel=0,o.clearSelection())};Lt(function(s){o.animateId==n&&(o.fadeLevel+=e,o.fadeLevel===0?o.clearSelection():o.updateSelection_(o.fadeLevel/t))},i,a,l)};g.prototype.updateSelection_=function(e){this.cascadeEvents_("select",{selectedRow:this.lastRow_===-1?void 0:this.lastRow_,selectedX:this.lastx_===-1?void 0:this.lastx_,selectedPoints:this.selPoints_});var t,a=this.canvas_ctx_;if(this.getOption("highlightSeriesOpts")){a.clearRect(0,0,this.width_,this.height_);var r=1-this.getNumericOption("highlightSeriesBackgroundAlpha"),i=We(this.getOption("highlightSeriesBackgroundColor"));if(r){var n=!0;if(n){if(e===void 0){this.animateSelection_(1);return}r*=e}a.fillStyle="rgba("+i.r+","+i.g+","+i.b+","+r+")",a.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,a)}else if(this.previousVerticalX_>=0){var o=0,l=this.attr_("labels");for(t=1;t<l.length;t++){var s=this.getNumericOption("highlightCircleSize",l[t]);s>o&&(o=s)}var h=this.previousVerticalX_;a.clearRect(h-o-1,0,2*o+2,this.height_)}if(this.selPoints_.length>0){var c=this.selPoints_[0].canvasx;for(a.save(),t=0;t<this.selPoints_.length;t++){var u=this.selPoints_[t];if(!isNaN(u.canvasy)){var f=this.getNumericOption("highlightCircleSize",u.name),p=this.getFunctionOption("drawHighlightPointCallback",u.name),d=this.plotter_.colors[u.name];p||(p=tt.DEFAULT),a.lineWidth=this.getNumericOption("strokeWidth",u.name),a.strokeStyle=d,a.fillStyle=d,p.call(this,this,u.name,a,c,u.canvasy,d,f,u.idx)}}a.restore(),this.previousVerticalX_=c}};g.prototype.setSelection=function(e,t,a){this.selPoints_=[];var r=!1;if(e!==!1&&e>=0){e!=this.lastRow_&&(r=!0),this.lastRow_=e;for(var i=0;i<this.layout_.points.length;++i){var n=this.layout_.points[i],o=e-this.getLeftBoundary_(i);if(o>=0&&o<n.length&&n[o].idx==e){var l=n[o];l.yval!==null&&this.selPoints_.push(l)}else for(var s=0;s<n.length;++s){var l=n[s];if(l.idx==e){l.yval!==null&&this.selPoints_.push(l);break}}}}else this.lastRow_>=0&&(r=!0),this.lastRow_=-1;return this.selPoints_.length?this.lastx_=this.selPoints_[0].xval:this.lastx_=-1,t!==void 0&&(this.highlightSet_!==t&&(r=!0),this.highlightSet_=t),a!==void 0&&(this.lockedSet_=a),r&&this.updateSelection_(void 0),r};g.prototype.mouseOut_=function(e){this.getFunctionOption("unhighlightCallback")&&this.getFunctionOption("unhighlightCallback").call(this,e),this.getBooleanOption("hideOverlayOnMouseOut")&&!this.lockedSet_&&this.clearSelection()};g.prototype.clearSelection=function(){if(this.cascadeEvents_("deselect",{}),this.lockedSet_=!1,this.fadeLevel){this.animateSelection_(-1);return}this.canvas_ctx_.clearRect(0,0,this.width_,this.height_),this.fadeLevel=0,this.selPoints_=[],this.lastx_=-1,this.lastRow_=-1,this.highlightSet_=null};g.prototype.getSelection=function(){if(!this.selPoints_||this.selPoints_.length<1)return-1;for(var e=0;e<this.layout_.points.length;e++)for(var t=this.layout_.points[e],a=0;a<t.length;a++)if(t[a].x==this.selPoints_[0].x)return t[a].idx;return-1};g.prototype.getHighlightSeries=function(){return this.highlightSet_};g.prototype.isSeriesLocked=function(){return this.lockedSet_};g.prototype.loadedEvent_=function(e){this.rawData_=this.parseCSV_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_()};g.prototype.addXTicks_=function(){var e;this.dateWindow_?e=[this.dateWindow_[0],this.dateWindow_[1]]:e=this.xAxisExtremes();var t=this.optionsViewForAxis_("x"),a=t("ticker")(e[0],e[1],this.plotter_.area.w,t,this);this.layout_.setXTicks(a)};g.prototype.getHandlerClass_=function(){var e;return this.attr_("dataHandler")?e=this.attr_("dataHandler"):this.fractions_?this.getBooleanOption("errorBars")?e=Se:e=Ce:this.getBooleanOption("customBars")?e=Ae:this.getBooleanOption("errorBars")?e=xe:e=le,e};g.prototype.predraw_=function(){var e=new Date;this.dataHandler_=new(this.getHandlerClass_()),this.layout_.computePlotArea(),this.computeYAxes_(),this.is_initial_draw_||(this.canvas_ctx_.restore(),this.hidden_ctx_.restore()),this.canvas_ctx_.save(),this.hidden_ctx_.save(),this.plotter_=new M(this,this.hidden_,this.hidden_ctx_,this.layout_),this.createRollInterface_(),this.cascadeEvents_("predraw"),this.rolledSeries_=[null];for(var t=1;t<this.numColumns();t++){var a=this.dataHandler_.extractSeries(this.rawData_,t,this.attributes_);this.rollPeriod_>1&&(a=this.dataHandler_.rollingAverage(a,this.rollPeriod_,this.attributes_)),this.rolledSeries_.push(a)}this.drawGraph_();var r=new Date;this.drawingTimeMs_=r-e};g.PointType=void 0;g.stackPoints_=function(e,t,a,r){for(var i=null,n=null,o=null,l=-1,s=function(d){if(!(l>=d)){for(var v=d;v<e.length;++v)if(o=null,!isNaN(e[v].yval)&&e[v].yval!==null){l=v,o=e[v];break}}},h=0;h<e.length;++h){var c=e[h],u=c.xval;t[u]===void 0&&(t[u]=0);var f=c.yval;isNaN(f)||f===null?r=="none"?f=0:(s(h),n&&o&&r!="none"?f=n.yval+(o.yval-n.yval)*((u-n.xval)/(o.xval-n.xval)):n&&r=="all"?f=n.yval:o&&r=="all"?f=o.yval:f=0):n=c;var p=t[u];i!=u&&(p+=f,t[u]=p),i=u,c.yval_stacked=p,p>a[1]&&(a[1]=p),p<a[0]&&(a[0]=p)}};g.prototype.gatherDatasets_=function(e,t){var a=[],r=[],i=[],n={},o,l,s,h,c,u=e.length-1,f;for(o=u;o>=1;o--)if(!!this.visibility()[o-1]){if(t){f=e[o];var p=t[0],d=t[1];for(s=null,h=null,l=0;l<f.length;l++)f[l][0]>=p&&s===null&&(s=l),f[l][0]<=d&&(h=l);s===null&&(s=0);for(var v=s,_=!0;_&&v>0;)v--,_=f[v][1]===null;h===null&&(h=f.length-1);var b=h;for(_=!0;_&&b<f.length-1;)b++,_=f[b][1]===null;v!==s&&(s=v),b!==h&&(h=b),a[o-1]=[s,h],f=f.slice(s,h+1)}else f=e[o],a[o-1]=[0,f.length-1];var m=this.attr_("labels")[o],w=this.dataHandler_.getExtremeYValues(f,t,this.getBooleanOption("stepPlot",m)),C=this.dataHandler_.seriesToPoints(f,m,a[o-1][0]);this.getBooleanOption("stackedGraph")&&(c=this.attributes_.axisForSeries(m),i[c]===void 0&&(i[c]=[]),g.stackPoints_(C,i[c],w,this.getBooleanOption("stackedGraphNaNFill"))),n[m]=w,r[o]=C}return{points:r,extremes:n,boundaryIds:a}};g.prototype.drawGraph_=function(){var e=new Date,t=this.is_initial_draw_;this.is_initial_draw_=!1,this.layout_.removeAllDatasets(),this.setColors_(),this.attrs_.pointSize=.5*this.getNumericOption("highlightCircleSize");var a=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_),r=a.points,i=a.extremes;this.boundaryIds_=a.boundaryIds,this.setIndexByName_={};for(var n=this.attr_("labels"),o=0,l=1;l<r.length;l++)!this.visibility()[l-1]||(this.layout_.addDataset(n[l],r[l]),this.datasetIndex_[l]=o++);for(var l=0;l<n.length;l++)this.setIndexByName_[n[l]]=l;if(this.computeYAxisRanges_(i),this.layout_.setYAxes(this.axes_),this.addXTicks_(),this.layout_.evaluate(),this.renderGraph_(t),this.getStringOption("timingName")){var s=new Date;console.log(this.getStringOption("timingName")+" - drawGraph: "+(s-e)+"ms")}};g.prototype.renderGraph_=function(e){this.cascadeEvents_("clearChart"),this.plotter_.clear();const t=this.getFunctionOption("underlayCallback");t&&t.call(this,this.hidden_ctx_,this.layout_.getPlotArea(),this,this);var a={canvas:this.hidden_,drawingContext:this.hidden_ctx_};this.cascadeEvents_("willDrawChart",a),this.plotter_.render(),this.cascadeEvents_("didDrawChart",a),this.lastRow_=-1,this.canvas_.getContext("2d").clearRect(0,0,this.width_,this.height_);const r=this.getFunctionOption("drawCallback");if(r!==null&&r.call(this,this,e),e)for(this.readyFired_=!0;this.readyFns_.length>0;){var i=this.readyFns_.pop();i(this)}};g.prototype.computeYAxes_=function(){var e,t,a;for(this.axes_=[],e=0;e<this.attributes_.numAxes();e++)t={g:this},Q(t,this.attributes_.axisOptions(e)),this.axes_[e]=t;for(e=0;e<this.axes_.length;e++)if(e===0)t=this.optionsViewForAxis_("y"+(e?"2":"")),a=t("valueRange"),a&&(this.axes_[e].valueRange=a);else{var r=this.user_attrs_.axes;r&&r.y2&&(a=r.y2.valueRange,a&&(this.axes_[e].valueRange=a))}};g.prototype.numAxes=function(){return this.attributes_.numAxes()};g.prototype.axisPropertiesForSeries=function(e){return this.axes_[this.attributes_.axisForSeries(e)]};g.prototype.computeYAxisRanges_=function(e){for(var t=function(j){return isNaN(parseFloat(j))},a=this.attributes_.numAxes(),r,i,n,o,l,s=0;s<a;s++){var h=this.axes_[s],c=this.attributes_.getForAxis("logscale",s),u=this.attributes_.getForAxis("includeZero",s),f=this.attributes_.getForAxis("independentTicks",s);n=this.attributes_.seriesForAxis(s),r=!0,o=.1;const j=this.getNumericOption("yRangePad");if(j!==null&&(r=!1,o=j/this.plotter_.area.h),n.length===0)h.extremeRange=[0,1];else{for(var p=1/0,d=-1/0,v,_,b=0;b<n.length;b++)!e.hasOwnProperty(n[b])||(v=e[n[b]][0],v!==null&&(p=Math.min(v,p)),_=e[n[b]][1],_!==null&&(d=Math.max(_,d)));u&&!c&&(p>0&&(p=0),d<0&&(d=0)),p==1/0&&(p=0),d==-1/0&&(d=1),i=d-p,i===0&&(d!==0?i=Math.abs(d):(d=1,i=1));var m=d,w=p;r&&(c?(m=d+o*i,w=p):(m=d+o*i,w=p-o*i,w<0&&p>=0&&(w=0),m>0&&d<=0&&(m=0))),h.extremeRange=[w,m]}if(h.valueRange){var C=t(h.valueRange[0])?h.extremeRange[0]:h.valueRange[0],S=t(h.valueRange[1])?h.extremeRange[1]:h.valueRange[1];h.computedValueRange=[C,S]}else h.computedValueRange=h.extremeRange;if(!r)if(c){C=h.computedValueRange[0],S=h.computedValueRange[1];var R=o/(2*o-1),y=(o-1)/(2*o-1);h.computedValueRange[0]=De(C,S,R),h.computedValueRange[1]=De(C,S,y)}else C=h.computedValueRange[0],S=h.computedValueRange[1],i=S-C,h.computedValueRange[0]=C-i*o,h.computedValueRange[1]=S+i*o;if(f){h.independentTicks=f;var A=this.optionsViewForAxis_("y"+(s?"2":"")),L=A("ticker");h.ticks=L(h.computedValueRange[0],h.computedValueRange[1],this.plotter_.area.h,A,this),l||(l=h)}}if(l===void 0)throw'Configuration Error: At least one axis has to have the "independentTicks" option activated.';for(var s=0;s<a;s++){var h=this.axes_[s];if(!h.independentTicks){for(var A=this.optionsViewForAxis_("y"+(s?"2":"")),L=A("ticker"),x=l.ticks,T=l.computedValueRange[1]-l.computedValueRange[0],I=h.computedValueRange[1]-h.computedValueRange[0],X=[],Y=0;Y<x.length;Y++){var B=(x[Y].v-l.computedValueRange[0])/T,P=h.computedValueRange[0]+B*I;X.push(P)}h.ticks=L(h.computedValueRange[0],h.computedValueRange[1],this.plotter_.area.h,A,this,X)}}};g.prototype.detectTypeFromString_=function(e){var t=!1,a=e.indexOf("-");(a>0&&e[a-1]!="e"&&e[a-1]!="E"||e.indexOf("/")>=0||isNaN(parseFloat(e))||e.length==8&&e>"19700101"&&e<"20371231")&&(t=!0),this.setXAxisOptions_(t)};g.prototype.setXAxisOptions_=function(e){e?(this.attrs_.xValueParser=xt,this.attrs_.axes.x.valueFormatter=Ze,this.attrs_.axes.x.ticker=me,this.attrs_.axes.x.axisLabelFormatter=we):(this.attrs_.xValueParser=function(t){return parseFloat(t)},this.attrs_.axes.x.valueFormatter=function(t){return t},this.attrs_.axes.x.ticker=oe,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter)};g.prototype.parseCSV_=function(e){var t=[],a=Et(e),r=e.split(a||`
`),i,n,o=this.getStringOption("delimiter");r[0].indexOf(o)==-1&&r[0].indexOf("	")>=0&&(o="	");var l=0;"labels"in this.user_attrs_||(l=1,this.attrs_.labels=r[0].split(o),this.attributes_.reparseSeries());for(var s,h=!1,c=this.attr_("labels").length,u=!1,f=l;f<r.length;f++){var p=r[f];if(p.length!==0&&p[0]!="#"){var d=p.split(o);if(!(d.length<2)){var v=[];if(h||(this.detectTypeFromString_(d[0]),s=this.getFunctionOption("xValueParser"),h=!0),v[0]=s(d[0],this),this.fractions_)for(n=1;n<d.length;n++)i=d[n].split("/"),i.length!=2?(console.error(`Expected fractional "num/den" values in CSV data but found a value '`+d[n]+"' on line "+(1+f)+" ('"+p+"') which is not of this form."),v[n]=[0,0]):v[n]=[ae(i[0],f,p),ae(i[1],f,p)];else if(this.getBooleanOption("errorBars"))for(d.length%2!=1&&console.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+f)+" has an odd number of values ("+(d.length-1)+"): '"+p+"'"),n=1;n<d.length;n+=2)v[(n+1)/2]=[ae(d[n],f,p),ae(d[n+1],f,p)];else if(this.getBooleanOption("customBars"))for(n=1;n<d.length;n++){var _=d[n];/^ *$/.test(_)?v[n]=[null,null,null]:(i=_.split(";"),i.length==3?v[n]=[ae(i[0],f,p),ae(i[1],f,p),ae(i[2],f,p)]:console.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+_+'" on line '+(1+f)))}else for(n=1;n<d.length;n++)v[n]=ae(d[n],f,p);if(t.length>0&&v[0]<t[t.length-1][0]&&(u=!0),v.length!=c&&console.error("Number of columns in line "+f+" ("+v.length+") does not agree with number of labels ("+c+") "+p),f===0&&this.attr_("labels")){var b=!0;for(n=0;b&&n<v.length;n++)v[n]&&(b=!1);if(b){console.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+p+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}t.push(v)}}}return u&&(console.warn("CSV is out of order; order it correctly to speed loading."),t.sort(function(m,w){return m[0]-w[0]})),t};function jt(e){const t=e[0],a=t[0];if(typeof a!="number"&&!At(a))throw new Error(`Expected number or date but got ${typeof a}: ${a}.`);for(let r=1;r<t.length;r++){const i=t[r];if(i!=null&&typeof i!="number"&&!de(i))throw new Error(`Expected number or array but got ${typeof i}: ${i}.`)}}g.prototype.parseArray_=function(e){if(e.length===0)return console.error("Can't plot empty data set"),null;if(e[0].length===0)return console.error("Data set cannot contain an empty row"),null;jt(e);var t;if(this.attr_("labels")===null){for(console.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter"),this.attrs_.labels=["X"],t=1;t<e[0].length;t++)this.attrs_.labels.push("Y"+t);this.attributes_.reparseSeries()}else{var a=this.attr_("labels");if(a.length!=e[0].length)return console.error("Mismatch between number of labels ("+a+") and number of columns in array ("+e[0].length+")"),null}if(At(e[0][0])){this.attrs_.axes.x.valueFormatter=Ze,this.attrs_.axes.x.ticker=me,this.attrs_.axes.x.axisLabelFormatter=we;var r=Ct(e);for(t=0;t<e.length;t++){if(r[t].length===0)return console.error("Row "+(1+t)+" of data is empty"),null;if(r[t][0]===null||typeof r[t][0].getTime!="function"||isNaN(r[t][0].getTime()))return console.error("x value in row "+(1+t)+" is not a Date"),null;r[t][0]=r[t][0].getTime()}return r}else return this.attrs_.axes.x.valueFormatter=function(i){return i},this.attrs_.axes.x.ticker=oe,this.attrs_.axes.x.axisLabelFormatter=qe,e};g.prototype.parseDataTable_=function(e){var t=function(C){var S=String.fromCharCode(65+C%26);for(C=Math.floor(C/26);C>0;)S=String.fromCharCode(65+(C-1)%26)+S.toLowerCase(),C=Math.floor((C-1)/26);return S},a=e.getNumberOfColumns(),r=e.getNumberOfRows(),i=e.getColumnType(0);if(i=="date"||i=="datetime")this.attrs_.xValueParser=xt,this.attrs_.axes.x.valueFormatter=Ze,this.attrs_.axes.x.ticker=me,this.attrs_.axes.x.axisLabelFormatter=we;else if(i=="number")this.attrs_.xValueParser=function(C){return parseFloat(C)},this.attrs_.axes.x.valueFormatter=function(C){return C},this.attrs_.axes.x.ticker=oe,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter;else throw new Error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+i+"')");var n=[],o={},l=!1,s,h;for(s=1;s<a;s++){var c=e.getColumnType(s);if(c=="number")n.push(s);else if(c=="string"&&this.getBooleanOption("displayAnnotations")){var u=n[n.length-1];o.hasOwnProperty(u)?o[u].push(s):o[u]=[s],l=!0}else throw new Error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true")}var f=[e.getColumnLabel(0)];for(s=0;s<n.length;s++)f.push(e.getColumnLabel(n[s])),this.getBooleanOption("errorBars")&&(s+=1);this.attrs_.labels=f,a=f.length;var p=[],d=!1,v=[];for(s=0;s<r;s++){var _=[];if(typeof e.getValue(s,0)>"u"||e.getValue(s,0)===null){console.warn("Ignoring row "+s+" of DataTable because of undefined or null first column.");continue}if(i=="date"||i=="datetime"?_.push(e.getValue(s,0).getTime()):_.push(e.getValue(s,0)),this.getBooleanOption("errorBars"))for(h=0;h<a-1;h++)_.push([e.getValue(s,1+2*h),e.getValue(s,2+2*h)]);else{for(h=0;h<n.length;h++){var b=n[h];if(_.push(e.getValue(s,b)),l&&o.hasOwnProperty(b)&&e.getValue(s,o[b][0])!==null){var m={};m.series=e.getColumnLabel(b),m.xval=_[0],m.shortText=t(v.length),m.text="";for(var w=0;w<o[b].length;w++)w&&(m.text+=`
`),m.text+=e.getValue(s,o[b][w]);v.push(m)}}for(h=0;h<_.length;h++)isFinite(_[h])||(_[h]=null)}p.length>0&&_[0]<p[p.length-1][0]&&(d=!0),p.push(_)}d&&(console.warn("DataTable is out of order; order it correctly to speed loading."),p.sort(function(C,S){return C[0]-S[0]})),this.rawData_=p,v.length>0&&this.setAnnotations(v,!0),this.attributes_.reparseSeries()};g.prototype.cascadeDataDidUpdateEvent_=function(){this.cascadeEvents_("dataDidUpdate",{})};g.prototype.start_=function(){var e=this.file_;if(typeof e=="function"&&(e=e()),de(e))this.rawData_=this.parseArray_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if(typeof e=="object"&&typeof e.getColumnRange=="function")this.parseDataTable_(e),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if(typeof e=="string"){var t=Et(e);if(t)this.loadedEvent_(e);else{var a;window.XMLHttpRequest?a=new XMLHttpRequest:a=new ActiveXObject("Microsoft.XMLHTTP");var r=this;a.onreadystatechange=function(){a.readyState==4&&(a.status===200||a.status===0)&&r.loadedEvent_(a.responseText)},a.open("GET",e,!0),a.send(null)}}else console.error("Unknown data format: "+typeof e)};g.prototype.updateOptions=function(e,t){typeof t>"u"&&(t=!1);var a=e.file,r=g.copyUserAttrs_(e);"rollPeriod"in r&&(this.rollPeriod_=r.rollPeriod),"dateWindow"in r&&(this.dateWindow_=r.dateWindow);var i=Yt(this.attr_("labels"),r);je(this.user_attrs_,r),this.attributes_.reparseSeries(),a?(this.cascadeEvents_("dataWillUpdate",{}),this.file_=a,t||this.start_()):t||(i?this.predraw_():this.renderGraph_(!1))};g.copyUserAttrs_=function(e){var t={};for(var a in e)!e.hasOwnProperty(a)||a!="file"&&e.hasOwnProperty(a)&&(t[a]=e[a]);return t};g.prototype.resize=function(e,t){if(!this.resize_lock){this.resize_lock=!0,e===null!=(t===null)&&(console.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),e=t=null);var a=this.width_,r=this.height_;e?(this.maindiv_.style.width=e+"px",this.maindiv_.style.height=t+"px",this.width_=e,this.height_=t):(this.width_=this.maindiv_.clientWidth,this.height_=this.maindiv_.clientHeight),(a!=this.width_||r!=this.height_)&&(this.resizeElements_(),this.predraw_()),this.resize_lock=!1}};g.prototype.adjustRoll=function(e){this.rollPeriod_=e,this.predraw_()};g.prototype.visibility=function(){for(this.getOption("visibility")||(this.attrs_.visibility=[]);this.getOption("visibility").length<this.numColumns()-1;)this.attrs_.visibility.push(!0);return this.getOption("visibility")};g.prototype.setVisibility=function(e,t){var a=this.visibility(),r=!1;if(Array.isArray(e)||(e!==null&&typeof e=="object"?r=!0:e=[e]),r)for(var i in e)e.hasOwnProperty(i)&&(i<0||i>=a.length?console.warn("Invalid series number in setVisibility: "+i):a[i]=e[i]);else for(var i=0;i<e.length;i++)typeof e[i]=="boolean"?i>=a.length?console.warn("Invalid series number in setVisibility: "+i):a[i]=e[i]:e[i]<0||e[i]>=a.length?console.warn("Invalid series number in setVisibility: "+e[i]):a[e[i]]=t;this.predraw_()};g.prototype.size=function(){return{width:this.width_,height:this.height_}};g.prototype.setAnnotations=function(e,t){if(this.annotations_=e,!this.layout_){console.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html");return}this.layout_.setAnnotations(this.annotations_),t||this.predraw_()};g.prototype.annotations=function(){return this.annotations_};g.prototype.getLabels=function(){var e=this.attr_("labels");return e?e.slice():null};g.prototype.indexFromSetName=function(e){return this.setIndexByName_[e]};g.prototype.getRowForX=function(e){for(var t=0,a=this.numRows()-1;t<=a;){var r=a+t>>1,i=this.getValue(r,0);if(i<e)t=r+1;else if(i>e)a=r-1;else if(t!=r)a=r;else return r}return null};g.prototype.ready=function(e){this.is_initial_draw_?this.readyFns_.push(e):e.call(this,this)};g.prototype.addAndTrackEvent=function(e,t,a){pe(e,t,a),this.registeredEvents_.push({elem:e,type:t,fn:a})};g.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_)for(var e=0;e<this.registeredEvents_.length;e++){var t=this.registeredEvents_[e];q(t.elem,t.type,t.fn)}this.registeredEvents_=[]};g.PLUGINS=[G,ie,k,ee,re,ve];g.GVizChart=Ve;g.DASHED_LINE=It;g.DOT_DASH_LINE=Ht;g.dateAxisLabelFormatter=we;g.toRGB_=We;g.findPos=be;g.pageX=ke;g.pageY=Ie;g.dateString_=wt;g.defaultInteractionModel=E.defaultModel;g.nonInteractiveModel=g.nonInteractiveModel_=E.nonInteractiveModel_;g.Circles=tt;g.Plugins={Legend:G,Axes:ie,Annotations:re,ChartLabels:ee,Grid:ve,RangeSelector:k};g.DataHandlers={DefaultHandler:le,BarsHandler:J,CustomBarsHandler:Ae,DefaultFractionHandler:Ce,ErrorBarsHandler:xe,FractionsBarsHandler:Se};g.startPan=E.startPan;g.startZoom=E.startZoom;g.movePan=E.movePan;g.moveZoom=E.moveZoom;g.endPan=E.endPan;g.endZoom=E.endZoom;g.numericLinearTicks=Pt;g.numericTicks=oe;g.dateTicker=me;g.Granularity=D;g.getDateAxis=mt;g.floatFormat=bt;const ea={__name:"Checks",props:["instance"],setup(e){const t=e,a=ye(()=>t.instance.available),r=ye(()=>ne.countBy(t.instance.checks.map(n=>n.state)));function i(n){const o=n.checks.filter(c=>!["OK","UNDEF"].includes(c.state)),l=["CRITICAL","WARNING"];return ne.sortBy(o,c=>l.indexOf(c.state)).map(c=>`<span class="badge badge-${c.state.toLowerCase()}">${c.description}</span>`).join("<br>")}return{__sfc:!0,props:t,available:a,checks:r,popoverContent:i}}};var ta=function(){var t=this,a=t._self._c,r=t._self._setupProxy;return a("div",{staticClass:"d-inline-block",attrs:{"data-toggle":"popover","data-content":r.popoverContent(r.props.instance),"data-trigger":"hover","data-placement":"bottom","data-container":"body","data-html":"true"}},[r.available?t._e():a("span",{staticClass:"badge badge-critical mr-1",attrs:{title:"Unable to connect to Postgres"}},[t._v("UNAVAILABLE")]),r.checks.CRITICAL?a("span",{staticClass:"badge badge-critical mr-1"},[t._v(" CRITICAL: "+t._s(r.checks.CRITICAL))]):t._e(),r.checks.WARNING?a("span",{staticClass:"badge badge-warning mr-1"},[t._v(" WARNING: "+t._s(r.checks.WARNING))]):t._e(),!r.checks.WARNING&&!r.checks.CRITICAL&&!r.checks.UNDEF&&r.checks.OK?a("span",{staticClass:"badge badge-ok mr-1"},[t._v("OK")]):t._e()])},aa=[],ra=Fe(ea,ta,aa,!1,null,null,null,null);const ia=ra.exports,na={__name:"Sparkline",props:["data","start","end","colors"],emits:["chart-rendered"],setup(e,{emit:t}){const a=e,r=W(null),i=W(null);ge(()=>a.data,()=>{i.value?a.data?i.value.updateOptions({dateWindow:[a.start,a.end],file:a.data}):(i.value.destroy(),i.value=null):a.data&&(i.value=n());let o=null;i.value&&(o=i.value.getValue(i.value.numRows()-1,1)),t("chart-rendered",o)});function n(){const o={axes:{x:{drawAxis:!1,drawGrid:!1},y:{drawAxis:!1,drawGrid:!1}},dateWindow:[a.start,a.end],legend:"never",xValueParser:function(l){return ue(l).toDate().getTime()},highlightCircleSize:0,interactionModel:{},colors:a.colors};return new g(r.value,a.data,o)}return{__sfc:!0,root:r,chart:i,props:a,renderChart:n,emit:t}}};var sa=function(){var t=this,a=t._self._c;return t._self._setupProxy,a("div",{ref:"root"},[t.data?t._e():a("div",{staticClass:"text-secondary align-bottom",staticStyle:{height:"100%","line-height":"30px"}},[t._v("No data")])])},oa=[],la=Fe(na,sa,oa,!1,null,null,null,null);const ha=la.exports;const ua={__name:"InstanceCard",props:["end","index","refreshInterval","start","status_value","instance"],setup(e,{expose:t}){const a=e,r=W(null),i=W("N/A"),n=W(null),o=W("N/A"),l=ye(()=>["/server",a.instance.agent_address,a.instance.agent_port,"dashboard"].join("/")),s=ye(()=>a.instance.plugins.indexOf("monitoring")!=-1);pt(()=>{a.index>=18||(c(),h())}),ge(()=>a.index,d=>{d>=18&&(r.value=null,i.value=null,n.value=null,o.value=null)});function h(){u("load1").done(d=>{d&&(r.value=d)})}function c(){u("tps").done(d=>{d&&(n.value=d)})}function u(d){var v=["/server",a.instance.agent_address,a.instance.agent_port,"monitoring/data",d].join("/"),_="?start="+a.start.toISOString()+"&end="+a.end.toISOString();return $.get(v+_)}function f(d){i.value=d||"N/A"}function p(d){o.value=d||"N/A"}return t({fetchLoad1:h,fetchTPS:c}),{__sfc:!0,load1_data:r,load1_last:i,tps_data:n,tps_last:o,props:a,dashboard_url:l,hasMonitoring:s,fetchLoad1:h,fetchTPS:c,fetchMetric:u,setLastLoad1:f,setLastTPS:p,Checks:ia,Sparkline:ha}}};var ca=function(){var t=this,a=t._self._c,r=t._self._setupProxy;return a("div",{class:["card",{"border-danger bg-danger-light":t.status_value>=1e6,"border-warning bg-warning-light":t.status_value>=1e3}]},[a("div",{staticClass:"card-body p-2",staticStyle:{"min-height":"150px"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"mb-0 overflow-ellipsis"},[a("strong",[a("i",{staticClass:"fa fa-database"}),a("a",{staticClass:"instance-link",attrs:{href:r.dashboard_url,title:t.instance.pg_version_summary+" listening on "+[t.instance.hostname,t.instance.pg_port].join(":"),"data-toggle":"tooltip"}},[t._v(" "+t._s(t.instance.hostname)+":"+t._s(t.instance.pg_port)+" ")])])]),a("p",{staticClass:"mb-0 small"},[t._l(t.instance.groups,function(i){return[a("span",{staticClass:"badge border text-muted mr-1",attrs:{title:"Instance in group "+i}},[t._v(" "+t._s(i)+" ")])]}),a("span",{staticClass:"pg_version",class:{"text-muted":!t.instance.pg_version_summary}},[t._v(t._s(t.instance.pg_version_summary||"Unknown version"))])],2),a(r.Checks,{attrs:{instance:t.instance}})],1)]),r.hasMonitoring&&t.index<18?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mt-2 small text-center text-nowrap"},[r.tps_last?a("span",{staticClass:"text-muted"},[t._v("TPS: ")]):t._e(),r.tps_last?a("span",{staticClass:"badge badge-secondary"},[t._v(" "+t._s(r.tps_last)+" ")]):t._e(),a(r.Sparkline,{ref:"tps_chart",staticClass:"sparkline-container",attrs:{data:r.tps_data,start:t.start,end:t.end,colors:["#50BD68","#F15854"],"data-toggle":"tooltip","data-title":"Transations / sec (last hour)","data-container":"body","data-placement":"bottom"},on:{"chart-rendered":r.setLastTPS}})],1),a("div",{staticClass:"col-md-6 mt-2 small text-center text-nowrap"},[r.load1_last?a("span",{staticClass:"text-muted"},[t._v("Loadavg: ")]):t._e(),r.load1_last?a("span",{staticClass:"badge badge-secondary"},[t._v(" "+t._s(r.load1_last)+" ")]):t._e(),a("div",{ref:"chart",attrs:{"data-toggle":"tooltip","data-title":"Load average (last hour)","data-placement":"bottom"}}),a(r.Sparkline,{ref:"load1_chart",staticClass:"sparkline-container",attrs:{data:r.load1_data,start:t.start,end:t.end,colors:["#FAA43A"],"data-toggle":"tooltip","data-title":"Load average (last hour)","data-placement":"bottom"},on:{"chart-rendered":r.setLastLoad1}})],1)]):t._e()])])},fa=[],da=Fe(ua,ca,fa,!1,null,"79b78e9d",null,null);const va=da.exports;/*!
  * vue-router v3.6.5
  * (c) 2022 Evan You
  * @license MIT
  */function pa(){return gt().proxy.$root.$router}function ga(){var e=gt().proxy.$root;if(!e._$route){var t=Ot(!0).run(function(){return Nt(Object.assign({},e.$router.currentRoute))});e._$route=t,e.$router.afterEach(function(a){Object.assign(t,a)})}return e._$route}const _a={__name:"InstanceList",props:["isAdmin"],setup(e){const t=W(null),a=W(null),r=ga(),i=pa(),n=W(!1),o=W([]),l=W(r.query.q),s=W(r.query.sort||"status"),h=W([]),c=W(r.query.groups?r.query.groups.split(","):[]),u=W(ue().subtract(1,"hours")),f=W(ue()),p=W(null),d=W(3*1e3),v=ye(()=>{const y=new RegExp(l.value,"i"),A=o.value.filter(x=>y.test(x.hostname)||y.test(x.agent_address)||y.test(x.pg_data)||y.test(x.pg_port)||y.test(x.pg_version));let L;return s.value=="status"?L=C(A):L=ne.sortBy(A,s.value,"asc"),L.filter(x=>c.value.length?c.value.every(T=>x.groups.indexOf(T)!=-1):!0)});pt(()=>{w(),window.setInterval(w,d.value),Be(()=>{$("[data-toggle=tooltip]",t.value.$el).tooltip()})});function _(y,A){A.preventDefault();var L=c.value.indexOf(y);L!=-1?c.value.splice(L,1):c.value.push(y)}function b(y,A){A.preventDefault(),s.value=y}function m(){clearError(),$.ajax("/home/instances").success(y=>{o.value=y,Be(()=>{$('[data-toggle="popover"]').popover()})}).fail(y=>{showError(y)})}function w(){n.value=!0,m(),f.value=ue(),u.value=ue().subtract(1,"hours"),Be(()=>{for(let y in a.value){const A=a.value[y];if(y>=18)break;A.fetchLoad1(),A.fetchTPS()}p.value=ue(),n.value=!1})}function C(y){return y.sort(function(A,L){return S(L)-S(A)})}function S(y){var A=R(y),L=0;return A.CRITICAL&&(L+=A.CRITICAL*1e6),A.WARNING&&(L+=A.WARNING*1e3),A.UNDEF&&(L+=A.UNDEF),L}function R(y){var A=ne.countBy(y.checks.map(function(L){return L.state}));return A}return ge(l,y=>{i.replace({query:ne.assign({},r.query,{q:y})})}),ge(s,y=>{i.replace({query:ne.assign({},r.query,{sort:y})})}),ge(c,y=>{i.replace({query:ne.assign({},r.query,{groups:y.join(",")})})}),{__sfc:!0,root:t,instanceCards:a,route:r,router:i,loading:n,instances:o,search:l,sort:s,groups:h,groupsFilter:c,start:u,end:f,refreshDate:p,refreshInterval:d,filteredInstances:v,toggleGroupFilter:_,changeSort:b,fetchInstances:m,refreshCards:w,sortByStatus:C,getStatusValue:S,getChecksCount:R,InstanceCard:va}}};var ya=function(){var t=this,a=t._self._c,r=t._self._setupProxy;return a("div",{ref:"root"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col mb-2"},[a("form",{staticClass:"form-inline",attrs:{onsubmit:"event.preventDefault();"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:r.search,expression:"search"}],staticClass:"form-control mr-sm-2",attrs:{type:"text",placeholder:"Search instances"},domProps:{value:r.search},on:{input:function(i){i.target.composing||(r.search=i.target.value)}}}),a("div",{staticClass:"dropdown mr-sm-2"},[a("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[t._v(" Sort by: "),a("strong",{},[t._v(t._s(r.sort))]),a("span",{staticClass:"caret"})]),a("div",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[a("a",{staticClass:"dropdown-item",attrs:{href:""},on:{click:function(i){return r.changeSort("hostname",i)}}},[a("i",{class:["fa fa-fw",{"fa-check":r.sort=="hostname"}]}),t._v(" Hostname ")]),a("a",{staticClass:"dropdown-item",attrs:{href:""},on:{click:function(i){return r.changeSort("status",i)}}},[a("i",{class:["fa fa-fw",{"fa-check":r.sort=="status"}]}),t._v(" Status ")])])]),r.groups.length>1?a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[t._v(" Groups ("+t._s(r.groupsFilter.length||"all")+") "),a("span",{staticClass:"caret"})]),a("div",{staticClass:"dropdown-menu",attrs:{role:"menu"}},t._l(r.groups,function(i){return a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(n){return r.toggleGroupFilter(i,n)}}},[a("i",{class:["fa fa-fw",{"fa-check":r.groupsFilter.indexOf(i)!=-1}]}),t._v(" "+t._s(i)+" ")])}),0)]):t._e()])]),r.groups.length===1?a("div",{staticClass:"col text-center"},[a("span",{staticClass:"lead",attrs:{title:"Showing instances of group "+r.groups[0],"data-toggle":"tooltip"}},[t._v(t._s(r.groups[0]))])]):t._e(),a("div",{staticClass:"col"},[a("p",{staticClass:"text-secondary text-right mt-2 mb-0 mr-4"},[r.loading?a("i",{staticClass:"fa fa-spinner fa-spin loader"}):t._e(),a("span",{attrs:{title:r.refreshDate?"last refresh at "+r.refreshDate.format("HH:mm:ss"):""}},[t._v("Refreshed every 1m")])])])]),a("div",{staticClass:"row instance-list"},t._l(r.filteredInstances,function(i,n){return a("div",{key:i.hostname+i.pg_port,ref:"cards",refInFor:!0,staticClass:"col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 pb-3"},[a(r.InstanceCard,{ref:"instanceCards",refInFor:!0,attrs:{instance:i,status_value:r.getStatusValue(i),refreshInterval:r.refreshInterval,index:n,start:r.start,end:r.end}})],1)}),0),!r.loading&&r.instances.length==0?a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col col-12 col-sm-10 col-md-6 col-lg-4 text-muted text-center"},[a("h4",{staticClass:"m-4"},[t._v("No instance")]),t.isAdmin?[a("p",[t._v("No instance is available yet.")]),t._m(0)]:t._e(),t.isAdmin?t._e():[a("p",[t._v("You don't have access to any instance.")]),a("p",[t._v("Please contact an administrator.")])]],2)]):t._e()])},ma=[function(){var e=this,t=e._self._c;return e._self._setupProxy,t("p",[e._v(" Go to "),t("strong",[t("a",{attrs:{href:"/settings/instances"}},[e._v("Settings")])]),e._v(" to add or configure instances. ")])}],ba=Fe(_a,ya,ma,!1,null,null,null,null);const wa=ba.exports;_t.use(yt);window.instancesVue=new _t({el:"#instances",data:function(){return{currentRole}},router:new yt,components:{"instance-list":wa},template:`
  <instance-list v-bind:isAdmin="currentRole.isAdmin">
  </instance-list>
  `});$(".fullscreen").on("click",function(e){e.preventDefault(),$(this).addClass("d-none");const t=$(this).parents(".container-fluid")[0];fscreen.requestFullscreen(t)});fscreen.onfullscreenchange=function(t){fscreen.fullscreenElement||$(".fullscreen").removeClass("d-none")};$(".fullscreen").toggleClass("d-none",!fscreen.fullscreenEnabled);
