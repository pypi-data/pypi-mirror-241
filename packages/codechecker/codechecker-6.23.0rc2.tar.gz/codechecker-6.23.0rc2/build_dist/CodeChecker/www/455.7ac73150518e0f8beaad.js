(self.webpackChunkcodechecker=self.webpackChunkcodechecker||[]).push([[455],{20710:(e,t,r)=>{var n=r(8081),o=r(23645)(n);o.push([e.id,".v-treeview--dense[data-v-73d64bfc]  .v-treeview-node__root{min-height:25px}[data-v-73d64bfc] .v-treeview-node__level{width:18px}",""]),e.exports=o},3888:(e,t,r)=>{var n=r(8081),o=r(23645)(n);o.push([e.id,".splitpanes.default-theme .splitpanes__pane[data-v-7d6dc2c6]{background-color:inherit}",""]),e.exports=o},30554:(e,t,r)=>{var n=r(20710);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,r(45346).Z)("600ba862",n,!0,{})},24054:(e,t,r)=>{var n=r(3888);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,r(45346).Z)("88e78c9c",n,!0,{})},28455:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>F}),r(41539),r(88674),r(83710),r(39714),r(74916),r(15306),r(69070),r(47941),r(82526),r(57327),r(38880),r(89554),r(54747),r(49337),r(33321);var n=r(72190),o=r(20629),i=r(99271),a=r(85636),s=r(20376),c=r(89837),l=(r(40561),r(69826),r(2707),r(92222),r(806)),u=r(28190);r(43371);const p=Object.freeze({DEFAULT:0,CALLING:1,ENTERED_CALL:2,RETURNING:3,ASSUMING:4,ASSUMING_CONDITION:5,ENTERING_LOOP_BODY:6,LOOP_BODY_EXECUTED:7,LOOP_BACK:8}),d={name:"ReportTreeIcon",props:{value:{required:!0,validator:function(e){return"number"==typeof e||null===e}}},data:function(){return{ReportStepIconType:p}}};var h=r(51900),f=r(43453),m=r.n(f),v=r(13047),E=(0,h.Z)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.value===e.ReportStepIconType.DEFAULT?r("v-icon",{attrs:{color:"#000000"}},[e._v("\n  mdi-console-line\n")]):e.value===e.ReportStepIconType.CALLING?r("v-icon",{attrs:{color:"#1855B6"}},[e._v("\n  mdi-phone-in-talk\n")]):e.value===e.ReportStepIconType.ENTERED_CALL?r("v-icon",{attrs:{color:"#316ecf"}},[e._v("\n  mdi-subdirectory-arrow-right\n")]):e.value===e.ReportStepIconType.RETURNING?r("v-icon",{attrs:{color:"#61a2ff"}},[e._v("\n  mdi-keyboard-return\n")]):e.value===e.ReportStepIconType.ASSUMING?r("v-icon",{attrs:{color:"#ff5c11"}},[e._v("\n  mdi-exclamation-thick\n")]):e.value===e.ReportStepIconType.ASSUMING_CONDITION?r("v-icon",{attrs:{color:"#7f410c"}},[e._v("\n  mdi-swap-horizontal-bold\n")]):e.value===e.ReportStepIconType.ENTERING_LOOP_BODY?r("v-icon",{attrs:{color:"#000000"}},[e._v("\n  mdi-refresh\n")]):e.value===e.ReportStepIconType.LOOP_BODY_EXECUTED?r("v-icon",{attrs:{color:"#000000"}},[e._v("\n  mdi-sync\n")]):e.value===e.ReportStepIconType.LOOP_BACK?r("v-icon",{attrs:{color:"#000000"}},[e._v("\n  mdi-undo\n")]):e._e()}),[],!1,null,null,null);const R=E.exports;m()(E,{VIcon:v.Z});const _={name:"ReportTreeIcon",components:{DetectionStatusIcon:l._8,ReportStepEnumIcon:l.KB,ReportStepIcon:R,SeverityIcon:l.jg},props:{item:{type:Object,required:!0}},data:function(){return{DetectionStatus:a.DetectionStatus,ReportTreeKind:u.Z}}};var I=(0,h.Z)(_,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.item.kind===e.ReportTreeKind.REPORT_STEPS?r("span",[r("report-step-icon",{attrs:{value:e.item.icon}}),e._v(" "),r("report-step-enum-icon",{attrs:{type:e.item.reportStepIcon.type,index:e.item.reportStepIcon.index}})],1):e.item.kind===e.ReportTreeKind.SEVERITY_LEVEL?r("severity-icon",{attrs:{status:e.item.severity}}):e.item.kind===e.ReportTreeKind.DETECTION_STATUS?r("detection-status-icon",{attrs:{status:e.DetectionStatus.RESOLVED}}):e.item.kind===e.ReportTreeKind.REPORT?r("detection-status-icon",{attrs:{status:e.item.report.detectionStatus}}):e.item.kind===e.ReportTreeKind.BUG?r("v-icon",[e._v("\n  mdi-message-processing\n")]):e.item.kind===e.ReportTreeKind.MACRO_EXPANSION?r("v-icon",[e._v("\n  mdi-arrow-expand-all\n")]):e.item.kind===e.ReportTreeKind.MACRO_EXPANSION_ITEM?r("v-icon",[e._v("\n  mdi-arrow-expand\n")]):e.item.kind===e.ReportTreeKind.NOTE?r("v-icon",[e._v("\n  mdi-note\n")]):e.item.kind===e.ReportTreeKind.NOTE_ITEM?r("v-icon",[e._v("\n  mdi-note-outline\n")]):r("v-icon",[e._v("\n  "+e._s(e.item.open?"mdi-folder-open":"mdi-folder")+"\n")])}),[],!1,null,null,null);const y=I.exports;m()(I,{VIcon:v.Z});const S={name:"ReportTreeLabel",props:{item:{type:Object,required:!0}},data:function(){return{ReportTreeKind:u.Z}},computed:{fileName:function(){return this.item.shortFileName?"".concat(this.item.shortFileName,":"):"L"},isExtendedReportData:function(){return this.item.kind===u.Z.MACRO_EXPANSION||this.item.kind===u.Z.NOTE},isExtendedReportDataItem:function(){return this.item.kind===u.Z.MACRO_EXPANSION_ITEM||this.item.kind===u.Z.NOTE_ITEM}}},T=(0,h.Z)(S,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{attrs:{"data-id":e.item.id}},[e.item.kind===e.ReportTreeKind.REPORT?r("span",[e._v("\n    L"+e._s(e.item.report.line)+" – "+e._s(e.item.report.checkerId)+"\n    ["+e._s(e.item.report.bugPathLength)+"]\n  ")]):e.item.kind===e.ReportTreeKind.REPORT_STEPS?r("span",[e._v("\n    "+e._s(e.fileName)+e._s(e.item.step.startLine)+" – "+e._s(e.item.step.msg)+"\n  ")]):e.item.kind===e.ReportTreeKind.BUG?r("span",[r("b",[r("u",[e._v(e._s(e.item.name))])])]):e.isExtendedReportData?r("span",[r("b",[e._v(e._s(e.item.name))])]):e.isExtendedReportDataItem?r("span",[e._v("\n    L"+e._s(e.item.data.startLine)+" – "+e._s(e.item.name)+"\n  ")]):r("span",[e._v("\n    "+e._s(e.item.name)+"\n  ")])])}),[],!1,null,null,null).exports,g=[{id:"critical",name:"Critical",kind:u.Z.SEVERITY_LEVEL,severity:a.Severity.CRITICAL,children:[]},{id:"high",name:"High",kind:u.Z.SEVERITY_LEVEL,severity:a.Severity.HIGH,children:[]},{id:"medium",name:"Medium",kind:u.Z.SEVERITY_LEVEL,severity:a.Severity.MEDIUM,children:[]},{id:"low",name:"Low",kind:u.Z.SEVERITY_LEVEL,severity:a.Severity.LOW,children:[]},{id:"style",name:"Style",kind:u.Z.SEVERITY_LEVEL,severity:a.Severity.STYLE,children:[]},{id:"unspecified",name:"Unspecified",kind:u.Z.SEVERITY_LEVEL,severity:a.Severity.UNSPECIFIED,children:[]},{id:"resolved",name:"Resolved",kind:u.Z.DETECTION_STATUS,detectionStatus:a.DetectionStatus.RESOLVED,children:[]}];function O(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(23157),r(21249),r(82772),r(5212),r(23123),r(69600),r(47042),r(79753),r(41817),r(32165),r(66992),r(78783),r(33948),r(91038),r(68309);var b=["#ffffff","#e9dddd","#dde0eb","#e5e8e5","#cbc2b6","#b8ccea","#c1c9cd","#a7a28f"];function C(e,t,r){return t.sort((function(e,t){return e.startLine-t.startLine})).map((function(t,n){return{id:u.Z.getId(r,e,n),name:t.message,kind:r,data:t,report:e}}))}function N(e,t){var r=[],n=function(e,t){var r=[],n=t.filter((function(e){return e.type===a.ExtendedReportDataType.MACRO}));if(n.length){var o=C(e,n,u.Z.MACRO_EXPANSION_ITEM);r.push({id:u.Z.getId(u.Z.MACRO_EXPANSION,e),name:"Macro expansions",kind:u.Z.MACRO_EXPANSION,children:o})}var i=t.filter((function(e){return e.type===a.ExtendedReportDataType.NOTE}));if(i.length){var s=C(e,i,u.Z.NOTE_ITEM);r.push({id:u.Z.getId(u.Z.NOTE,e),name:"Notes",kind:u.Z.NOTE,children:s})}return r}(e,t.extendedData);r.push.apply(r,O(n)),r.push({id:u.Z.getId(u.Z.BUG,e),name:e.checkerMsg,kind:u.Z.BUG,report:e});var o=function(e,t){var r=[],n={funcStack:[],bgColor:b[0]},o=t.length?t[0].filePath:null,i=t.some((function(e){return e.filePath!==o})),a=0;return t.forEach((function(o,s){var c=s===t.length-1,l=null,d=null;if(i&&(d=l=o.filePath.replace(/^.*(\\|\/|:)/,"")).length>12){var h=d.split("."),f=h.slice(0,h.length).join("."),m=h.length>1?"."+h[h.length-1]:"";d=f.substr(0,8)+"..."+m}var v=function(e,t){var r=t.msg,n={bgColor:e.bgColor,icon:p.DEFAULT};function o(e){if(r.startsWith(e))return r=r.replace(e,"").replace(/'/g,""),!0}return o("Calling ")?(e.funcStack.push(r),e.bgColor=b[e.funcStack.length%b.length],n.icon=p.CALLING):r.startsWith("Entered call from ")?n.icon=p.ENTERED_CALL:o("Returning from ")?r===e.funcStack[e.funcStack.length-1]?(e.funcStack.pop(),e.bgColor=b[e.funcStack.length%b.length],n.icon=p.RETURNING):console.warn("StackError: Returned from "+r+" while the last function was "+e.funcStack[e.funcStack.length-1]):"Returned allocated memory"===r||r.startsWith("Returning;")?(e.funcStack.pop(),e.bgColor=b[e.funcStack.length%b],n.icon=p.RETURNING):r.startsWith("Assuming the condition")?n.icon=p.ASSUMING_CONDITION:r.startsWith("Assuming")?n.icon=p.ASSUMING:"Entering loop body"==r?n.icon=p.ENTERING_LOOP_BODY:r.startsWith("Loop body executed")?n.icon=p.LOOP_BODY_EXECUTED:"Looping back to the head of the loop"==r&&(n.icon=p.LOOP_BACK),n}(n,o),E=function(e,t,r){return{index:t+1,type:r?"error":e.msg.indexOf(" (fixit)")>-1?"fixit":"info"}}(o,s,c);v.icon===p.ENTERED_CALL?a+=1:v.icon===p.RETURNING&&(a-=1),r.push({id:u.Z.getId(u.Z.REPORT_STEPS,e,s),name:e.checkerMsg,kind:u.Z.REPORT_STEPS,step:o,report:e,icon:v.icon,reportStepIcon:E,bgColor:v.bgColor,level:a,fileName:l,shortFileName:d})})),r}(e,t.pathEvents);return r.push.apply(r,O(o)),r}const L={name:"ReportTree",components:{ReportTreeIcon:y,ReportTreeLabel:T,ReviewStatusIcon:l.g4},props:{report:{type:Object,default:null}},data:function(){return{ReportTreeKind:u.Z,root:{},items:[],tree:[],openedItems:[],activeItems:[],runId:null,fileId:null}},watch:{report:function(){this.fetchReports()}},mounted:function(){this.report&&this.fetchReports()},methods:{removeEmptyRootElements:function(){for(var e=this.items.length;e--;)this.items[e].children.length||this.items.splice(e,1)},fetchReports:function(){var e=this;if(!(this.runId&&this.runId.equals(this.report.runId)&&this.fileId&&this.fileId.equals(this.report.fileId))){this.runId=this.report.runId,this.fileId=this.report.fileId,this.items=JSON.parse(JSON.stringify(g));var t=[this.report.runId],r=new a.ReportFilter({filepath:[this.report.checkedFile]});i.mv.getClient().getRunResults(t,null,null,null,r,null,!1,(0,i.nC)((function(t){t.length===a.MAX_QUERY_SIZE&&(t.find((function(t){return t.reportId.equals(e.report.reportId)}))||t.push(e.report)),t.sort((function(e,t){return e.line-t.line})).forEach((function(t){var r=t.detectionStatus===a.DetectionStatus.RESOLVED;e.items.find((function(e){return r?e.detectionStatus===a.DetectionStatus.RESOLVED:e.severity===t.severity})).children.push({id:u.Z.getId(u.Z.REPORT,t),name:t.checkerId,kind:u.Z.REPORT,report:t,children:[],itemChildren:[],isLoading:!1,getChildren:function(r){return new Promise((function(n){i.mv.getClient().getReportDetails(t.reportId,(0,i.nC)((function(o){if(r.children=N(t,o),n(),e.report.reportId.equals(r.report.reportId)){var i=r.children.find((function(e){return e.id==="".concat(t.reportId,"_").concat(u.Z.BUG)}));e.activeItems.push(i)}})))}))}})})),e.openReportItems(),e.removeEmptyRootElements()})))}},getChildren:function(e){if(e.getChildren){if(e.isLoading)return;return e.isLoading=!0,e.getChildren(e)}return e.children},openReportItems:function(){var e=this,t=this.report.detectionStatus===a.DetectionStatus.RESOLVED,r=this.items.find((function(r){return t?r.detectionStatus===a.DetectionStatus.RESOLVED:r.severity===e.report.severity}));this.openedItems.push(r),this.$nextTick((function(){var t=r.children.find((function(t){return t.id===e.report.reportId.toString()}));if(t){var n=e.$el.querySelector("[data-id='".concat(t.id,"']"));n&&n.scrollIntoView()}e.openedItems.push(t)}))},onClick:function(e){this.$emit("click",e[0])}}};r(30554);var D=r(75356),w=(0,h.Z)(L,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-treeview",{attrs:{items:e.items,open:e.openedItems,active:e.activeItems,"load-children":e.getChildren,"return-object":!0,activatable:"","item-key":"id","open-on-click":"",dense:""},on:{"update:open":function(t){e.openedItems=t},"update:active":[function(t){e.activeItems=t},e.onClick]},scopedSlots:e._u([{key:"prepend",fn:function(t){var n=t.item;return[e._l(n.level,(function(t){return r("span",{key:t,staticClass:"v-treeview-node__level",style:{display:"inline-block"}},[e._v("\n       \n    ")])})),e._v(" "),r("report-tree-icon",{attrs:{item:n}}),e._v(" "),n.kind===e.ReportTreeKind.REPORT?r("review-status-icon",{attrs:{status:parseInt(n.report.reviewData.status)}}):e._e()]}},{key:"label",fn:function(e){var t=e.item;return[r("report-tree-label",{style:{backgroundColor:t.bgColor,display:"inline-block"},attrs:{item:t}})]}}]),model:{value:e.tree,callback:function(t){e.tree=t},expression:"tree"}})}),[],!1,null,"73d64bfc",null);const A=w.exports;function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}m()(w,{VTreeview:D.Z});const U={name:"ReportDetail",components:{Splitpanes:n.Splitpanes,Pane:n.Pane,Report:c.yG,ReportTree:A},directives:{FillHeight:s.k},data:function(){return{report:null,treeItem:null,showComments:!0,reportNotFound:!1}},computed:P({},(0,o.rn)({runIds:function(e){return e.report.runIds},reportFilter:function(e){return e.report.reportFilter},cmpData:function(e){return e.report.cmpData}})),mounted:function(){var e=this.$router.currentRoute.query["report-id"],t=this.$router.currentRoute.query["report-hash"];this.loadReport(e,t)},methods:{loadReport:function(e,t){var r=this;e?this.loadReportById(e).catch((function(){t?r.loadReportByHash(t):r.reportNotFound=!0})):t&&this.loadReportByHash(t)},loadReportById:function(e){var t=this;return new Promise((function(r,n){i.mv.getClient().getReport(e,(0,i.nC)((function(e){t.report=e,r(!0)}),(function(t){console.warn("Failed to get report for ID:",e),console.warn(t),n(t)})))}))},loadReportByHash:function(e){var t=this,r=a.MAX_QUERY_SIZE,n=new a.SortMode({type:a.SortType.BUG_PATH_LENGTH,ord:a.Order.ASC}),o=this.$router.currentRoute.query["report-filepath"],s=new a.ReportFilter(P(P({},this.reportFilter),{},{isUnique:!1,reportHash:[e],filePath:[o]}));i.mv.getClient().getRunResults(this.runIds,r,0,[n],s,this.cmpData,!1,(0,i.nC)((function(e){e.length?t.report=e[0]:t.reportNotFound=!0})))},updateUrl:function(){var e=this.report.reportId.toString();e!==this.$router.currentRoute.query["report-id"]&&this.$router.replace({query:P(P({},this.$route.query),{},{"report-id":e})}).catch((function(){}))},onReportTreeClick:function(e){e&&(e.report&&(this.report=e.report,this.updateUrl()),this.treeItem=e)}}};r(24054);var M=r(66897),V=r(11880),G=r(55136),j=r(19846),B=r(90798),q=(0,h.Z)(U,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.reportNotFound?r("v-container",{staticClass:"text-center",attrs:{"fill-height":""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{staticClass:"error--text",attrs:{cols:"6"}},[r("h1",{staticClass:"display-2"},[e._v("\n        404 - Report not found!\n      ")]),e._v(" "),r("v-alert",{staticClass:"mt-4",attrs:{type:"error",dense:"",outlined:"",text:""}},[e._v("\n        The report (\n        report ID: "),r("i",[e._v(e._s(e.$router.currentRoute.query["report-id"]))]),e._v(",\n        report hash: "),r("i",[e._v(e._s(e.$router.currentRoute.query["report-hash"]))]),e._v(",\n        file path:\n        "),r("i",[e._v('"'+e._s(e.$router.currentRoute.query["report-filepath"])+'"')]),e._v("\n        ) was removed from the database.\n\n        "),e.$router.currentRoute.query["report-hash"]?e._e():r("span",[e._v("\n          Unfortunately, your hyperlink was copied from an older version of\n          CodeChecker and the request does not contain the "),r("i",[e._v("report-hash")]),e._v("\n          parameter which could be used as a fallback mechanism.\n        ")])])],1)],1)],1):r("splitpanes",{staticClass:"default-theme"},[r("pane",{attrs:{size:"20"}},[r("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"px-2"},[r("v-btn",{staticClass:"mb-2",attrs:{id:"back-to-reports-btn",block:"",outlined:"",tile:"",small:"",color:"primary",to:{name:"reports",query:Object.assign({},e.$router.currentRoute.query,{"report-id":void 0,"report-filepath":void 0},e.reportFilter.reportHash?{}:{"report-hash":void 0})}}},[r("v-icon",{attrs:{left:"",small:""}},[e._v("\n              mdi-arrow-left\n            ")]),e._v("\n            Back to reports\n          ")],1)],1)],1),e._v(" "),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",[r("report-tree",{directives:[{name:"fill-height",rawName:"v-fill-height"}],attrs:{report:e.report},on:{click:e.onReportTreeClick}})],1)],1)],1)],1),e._v(" "),r("pane",[r("report",{attrs:{"tree-item":e.treeItem},on:{"toggle:comments":function(t){e.showComments=!e.showComments},"update:report":e.loadReport}})],1)],1)}),[],!1,null,"7d6dc2c6",null);const F=q.exports;m()(q,{VAlert:M.Z,VBtn:V.Z,VCol:G.Z,VContainer:j.Z,VIcon:v.Z,VRow:B.Z})}}]);