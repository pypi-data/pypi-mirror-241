import{S as ye,i as Ee,s as Ie,D as ve,Z as _e,_ as be,m as g,h as c,n as P,$ as Se,b as R,a0 as m,K as Ne,a1 as W,M as Me,Q as Te,q as x,r as $,u as ge,x as je,w as Je,U as xt,k as O,a as X,y as te,l as D,c as K,z as oe,F as J,A as le,G as Ae,a7 as Pe,g as w,v as de,d as M,f as me,B as ne,a8 as ze,V as $t,L as Be,ag as wl,N as el,e as we,C as kl,H as yl,I as El,J as Il,O as Ce,ab as Oe,o as Sl,T as Ml,a4 as xe,R as tl,a9 as Tl,a2 as ll,ah as Ol,X as Dl,Y as Pl,a3 as ft}from"./index.c820bada.js";import{h as Ve,aZ as Vl,R as $e,a as nl,a3 as et,b5 as il,b6 as rl,at as al,Y as De,e as Al,z as We,aj as Ge,b7 as rt,ag as at,a9 as Re,ar as Ll,aP as Cl,b8 as ct,W as dt,a7 as zl,a8 as Nl,af as Bl,aO as Rl,b9 as jl,c as ol,a2 as Xe,ap as Fl,ab as Hl,aa as ql,aA as sl,aF as ul,ba as fl,ax as mt,T as Yl,bb as Ul,S as Zl,b as cl,aH as ht}from"./Commands.c9751f2c.js";import{g as dl,s as _t}from"./notificationsStore.315ab01e.js";import{S as Ql}from"./SidePanelClose.4b540cc3.js";import{S as Wl}from"./Page.d0f8e8a0.js";import{M as Gl}from"./ToastNotification.ac248df3.js";import{g as ml}from"./settingsStore.a37f7201.js";import{S as Xl}from"./Search.21760260.js";import{_ as Kl}from"./preload-helper.41c905a7.js";import{d as Jl}from"./index.24b7070c.js";import{c as xl,S as $l,A as en,b as tn}from"./StringSpanHighlight.dd40125b.js";import{I as ln}from"./ItemMetadata.3ea88840.js";import{C as nn}from"./ComboBox.d9fafa63.js";function bt(n){let e,t;return{c(){e=_e("title"),t=x(n[1])},l(l){e=be(l,"title",{});var i=g(e);t=$(i,n[1]),i.forEach(c)},m(l,i){R(l,e,i),m(e,t)},p(l,i){i&2&&ge(t,l[1])},d(l){l&&c(e)}}}function rn(n){let e,t,l=n[1]&&bt(n),i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],o={};for(let r=0;r<i.length;r+=1)o=ve(o,i[r]);return{c(){e=_e("svg"),l&&l.c(),t=_e("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=g(e);l&&l.l(s),t=be(s,"path",{d:!0}),g(t).forEach(c),s.forEach(c),this.h()},h(){P(t,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),Se(e,o)},m(r,s){R(r,e,s),l&&l.m(e,null),m(e,t)},p(r,[s]){r[1]?l?l.p(r,s):(l=bt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Se(e,o=Ne(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:W,o:W,d(r){r&&c(e),l&&l.d()}}}function an(n,e,t){let l,i;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return n.$$set=u=>{t(5,e=ve(ve({},e),Te(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},n.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,i={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,i,r,l]}class on extends ye{constructor(e){super(),Ee(this,e,an,rn,Ie,{size:0,title:1})}}function gt(n){let e,t;return{c(){e=_e("title"),t=x(n[1])},l(l){e=be(l,"title",{});var i=g(e);t=$(i,n[1]),i.forEach(c)},m(l,i){R(l,e,i),m(e,t)},p(l,i){i&2&&ge(t,l[1])},d(l){l&&c(e)}}}function sn(n){let e,t,l=n[1]&&gt(n),i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],o={};for(let r=0;r<i.length;r+=1)o=ve(o,i[r]);return{c(){e=_e("svg"),l&&l.c(),t=_e("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=g(e);l&&l.l(s),t=be(s,"path",{d:!0}),g(t).forEach(c),s.forEach(c),this.h()},h(){P(t,"d","M6 13L6 7.414 15 16.414 15 28 17 28 17 16.414 26 7.414 26 13 28 13 28 4 19 4 19 6 24.586 6 16 14.586 7.414 6 13 6 13 4 4 4 4 13 6 13z"),Se(e,o)},m(r,s){R(r,e,s),l&&l.m(e,null),m(e,t)},p(r,[s]){r[1]?l?l.p(r,s):(l=gt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Se(e,o=Ne(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:W,o:W,d(r){r&&c(e),l&&l.d()}}}function un(n,e,t){let l,i;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return n.$$set=u=>{t(5,e=ve(ve({},e),Te(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},n.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,i={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,i,r,l]}class fn extends ye{constructor(e){super(),Ee(this,e,un,sn,Ie,{size:0,title:1})}}function vt(n){let e,t;return{c(){e=_e("title"),t=x(n[1])},l(l){e=be(l,"title",{});var i=g(e);t=$(i,n[1]),i.forEach(c)},m(l,i){R(l,e,i),m(e,t)},p(l,i){i&2&&ge(t,l[1])},d(l){l&&c(e)}}}function cn(n){let e,t,l,i=n[1]&&vt(n),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],r={};for(let s=0;s<o.length;s+=1)r=ve(r,o[s]);return{c(){e=_e("svg"),i&&i.c(),t=_e("path"),l=_e("path"),this.h()},l(s){e=be(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=g(e);i&&i.l(a),t=be(a,"path",{d:!0}),g(t).forEach(c),l=be(a,"path",{d:!0}),g(l).forEach(c),a.forEach(c),this.h()},h(){P(t,"d","M25.7,9.3l-7-7C18.5,2.1,18.3,2,18,2H8C6.9,2,6,2.9,6,4v24c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V10C26,9.7,25.9,9.5,25.7,9.3	z M18,4.4l5.6,5.6H18V4.4z M24,28H8V4h8v6c0,1.1,0.9,2,2,2h6V28z"),P(l,"d","M10 22H22V24H10zM10 16H22V18H10z"),Se(e,r)},m(s,a){R(s,e,a),i&&i.m(e,null),m(e,t),m(e,l)},p(s,[a]){s[1]?i?i.p(s,a):(i=vt(s),i.c(),i.m(e,t)):i&&(i.d(1),i=null),Se(e,r=Ne(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:W,o:W,d(s){s&&c(e),i&&i.d()}}}function dn(n,e,t){let l,i;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return n.$$set=u=>{t(5,e=ve(ve({},e),Te(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},n.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,i={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,i,r,l]}class mn extends ye{constructor(e){super(),Ee(this,e,dn,cn,Ie,{size:0,title:1})}}function pt(n){let e,t;return{c(){e=_e("title"),t=x(n[1])},l(l){e=be(l,"title",{});var i=g(e);t=$(i,n[1]),i.forEach(c)},m(l,i){R(l,e,i),m(e,t)},p(l,i){i&2&&ge(t,l[1])},d(l){l&&c(e)}}}function hn(n){let e,t,l=n[1]&&pt(n),i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],o={};for(let r=0;r<i.length;r+=1)o=ve(o,i[r]);return{c(){e=_e("svg"),l&&l.c(),t=_e("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=g(e);l&&l.l(s),t=be(s,"path",{d:!0}),g(t).forEach(c),s.forEach(c),this.h()},h(){P(t,"d","M30 16L22 24 20.6 22.6 27.2 16 20.6 9.4 22 8zM12 15H20V17H12zM2 16L10 8 11.4 9.4 4.8 16 11.4 22.6 10 24z"),Se(e,o)},m(r,s){R(r,e,s),l&&l.m(e,null),m(e,t)},p(r,[s]){r[1]?l?l.p(r,s):(l=pt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Se(e,o=Ne(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:W,o:W,d(r){r&&c(e),l&&l.d()}}}function _n(n,e,t){let l,i;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return n.$$set=u=>{t(5,e=ve(ve({},e),Te(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},n.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,i={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,i,r,l]}class hl extends ye{constructor(e){super(),Ee(this,e,_n,hn,Ie,{size:0,title:1})}}function wt(n){let e,t;return{c(){e=_e("title"),t=x(n[1])},l(l){e=be(l,"title",{});var i=g(e);t=$(i,n[1]),i.forEach(c)},m(l,i){R(l,e,i),m(e,t)},p(l,i){i&2&&ge(t,l[1])},d(l){l&&c(e)}}}function bn(n){let e,t,l=n[1]&&wt(n),i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],o={};for(let r=0;r<i.length;r+=1)o=ve(o,i[r]);return{c(){e=_e("svg"),l&&l.c(),t=_e("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=g(e);l&&l.l(s),t=be(s,"path",{d:!0}),g(t).forEach(c),s.forEach(c),this.h()},h(){P(t,"d","M29,5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2H27a2,2,0,0,0,2-2ZM27,5V9H5V5Zm0,22H5V23H27Zm0-6H5V17H27Zm0-6H5V11H27Z"),Se(e,o)},m(r,s){R(r,e,s),l&&l.m(e,null),m(e,t)},p(r,[s]){r[1]?l?l.p(r,s):(l=wt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Se(e,o=Ne(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:W,o:W,d(r){r&&c(e),l&&l.d()}}}function gn(n,e,t){let l,i;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return n.$$set=u=>{t(5,e=ve(ve({},e),Te(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},n.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,i={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,i,r,l]}class vn extends ye{constructor(e){super(),Ee(this,e,gn,bn,Ie,{size:0,title:1})}}function kt(n){let e,t;return{c(){e=_e("title"),t=x(n[1])},l(l){e=be(l,"title",{});var i=g(e);t=$(i,n[1]),i.forEach(c)},m(l,i){R(l,e,i),m(e,t)},p(l,i){i&2&&ge(t,l[1])},d(l){l&&c(e)}}}function pn(n){let e,t,l,i=n[1]&&kt(n),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],r={};for(let s=0;s<o.length;s+=1)r=ve(r,o[s]);return{c(){e=_e("svg"),i&&i.c(),t=_e("path"),l=_e("path"),this.h()},l(s){e=be(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=g(e);i&&i.l(a),t=be(a,"path",{d:!0}),g(t).forEach(c),l=be(a,"path",{d:!0}),g(l).forEach(c),a.forEach(c),this.h()},h(){P(t,"d","M10,14a4,4,0,1,1,4-4A4.0045,4.0045,0,0,1,10,14Zm0-6a2,2,0,1,0,1.998,2.0044A2.002,2.002,0,0,0,10,8Z"),P(l,"d","M16.6436,29.4145,2.5858,15.3555A2,2,0,0,1,2,13.9414V4A2,2,0,0,1,4,2h9.9413a2,2,0,0,1,1.4142.5858L29.4144,16.6436a2.0005,2.0005,0,0,1,0,2.8285l-9.9424,9.9425a2.0008,2.0008,0,0,1-2.8285,0ZM4,4v9.9417L18.0578,28,28,18.0579,13.9416,4Z"),Se(e,r)},m(s,a){R(s,e,a),i&&i.m(e,null),m(e,t),m(e,l)},p(s,[a]){s[1]?i?i.p(s,a):(i=kt(s),i.c(),i.m(e,t)):i&&(i.d(1),i=null),Se(e,r=Ne(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:W,o:W,d(s){s&&c(e),i&&i.d()}}}function wn(n,e,t){let l,i;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return n.$$set=u=>{t(5,e=ve(ve({},e),Te(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},n.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,i={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,i,r,l]}class _l extends ye{constructor(e){super(),Ee(this,e,wn,pn,Ie,{size:0,title:1})}}function yt(n){let e,t;return{c(){e=_e("title"),t=x(n[1])},l(l){e=be(l,"title",{});var i=g(e);t=$(i,n[1]),i.forEach(c)},m(l,i){R(l,e,i),m(e,t)},p(l,i){i&2&&ge(t,l[1])},d(l){l&&c(e)}}}function kn(n){let e,t,l=n[1]&&yt(n),i=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:n[0]},{height:n[0]},n[2],n[3]],o={};for(let r=0;r<i.length;r+=1)o=ve(o,i[r]);return{c(){e=_e("svg"),l&&l.c(),t=_e("path"),this.h()},l(r){e=be(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=g(e);l&&l.l(s),t=be(s,"path",{d:!0}),g(t).forEach(c),s.forEach(c),this.h()},h(){P(t,"d","M20,10H7.8149l3.5874-3.5859L10,5,4,11,10,17l1.4023-1.4146L7.8179,12H20a6,6,0,0,1,0,12H12v2h8a8,8,0,0,0,0-16Z"),Se(e,o)},m(r,s){R(r,e,s),l&&l.m(e,null),m(e,t)},p(r,[s]){r[1]?l?l.p(r,s):(l=yt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),Se(e,o=Ne(i,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:W,o:W,d(r){r&&c(e),l&&l.d()}}}function yn(n,e,t){let l,i;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return n.$$set=u=>{t(5,e=ve(ve({},e),Te(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},n.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,i={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Te(e),[s,a,i,r,l]}class En extends ye{constructor(e){super(),Ee(this,e,yn,kn,Ie,{size:0,title:1})}}function Et(n){const e=n[1].find(function(...l){return n[18](n[24],...l)});n[25]=e}const In=n=>({item:n&16777218,inputText:n&1}),It=n=>({item:n[25],inputText:n[0]});function St(n){let e,t;return e=new Vl({}),{c(){te(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,i){le(e,l,i),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){M(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Sn(n){let e,t=n[25].text+"",l;return{c(){e=O("div"),l=x(t),this.h()},l(i){e=D(i,"DIV",{class:!0});var o=g(e);l=$(o,t),o.forEach(c),this.h()},h(){P(e,"class","flex justify-between gap-x-8")},m(i,o){R(i,e,o),m(e,l)},p(i,o){o&16777218&&t!==(t=i[25].text+"")&&ge(l,t)},i:W,o:W,d(i){i&&c(e)}}}function Mn(n){let e;const t=n[17].item,l=kl(t,n,n[22],It);return{c(){l&&l.c()},l(i){l&&l.l(i)},m(i,o){l&&l.m(i,o),e=!0},p(i,o){l&&l.p&&(!e||o&20971523)&&yl(l,t,i,i[22],e?Il(t,i[22],o,In):El(i[22]),It)},i(i){e||(w(l,i),e=!0)},o(i){M(l,i),e=!1},d(i){l&&l.d(i)}}}function Tn(n){Et(n);let e,t,l,i;const o=[Mn,Sn],r=[];function s(a,u){return a[16].item?0:a[25]?1:-1}return~(e=s(n))&&(t=r[e]=o[e](n)),{c(){t&&t.c(),l=we()},l(a){t&&t.l(a),l=we()},m(a,u){~e&&r[e].m(a,u),R(a,l,u),i=!0},p(a,u){Et(a);let f=e;e=s(a),e===f?~e&&r[e].p(a,u):(t&&(de(),M(r[f],1,1,()=>{r[f]=null}),me()),~e?(t=r[e],t?t.p(a,u):(t=r[e]=o[e](a),t.c()),w(t,1),t.m(l.parentNode,l)):t=null)},i(a){i||(w(t),i=!0)},o(a){M(t),i=!1},d(a){~e&&r[e].d(a),a&&c(l)}}}function On(n){let e,t,l,i,o,r,s,a,u,f,h,k,y,j,z,A,C,_=n[7]&&St();var T=n[2];function V(b){return{}}T&&(o=je(T,V()));function d(b){n[20](b)}let S={size:"sm",open:n[13],items:n[1],shouldFilterItem:n[6]?n[6]:void 0,placeholder:n[5],$$slots:{default:[Tn,({item:b})=>({24:b}),({item:b})=>b?16777216:0]},$$scope:{ctx:n}};return n[0]!==void 0&&(S.value=n[0]),k=new nn({props:S}),n[19](k),Je.push(()=>xt(k,"value",d)),k.$on("select",n[15]),{c(){e=O("div"),t=O("div"),l=O("button"),_&&_.c(),i=X(),o&&te(o.$$.fragment),r=X(),s=x(n[3]),f=X(),h=O("div"),te(k.$$.fragment),this.h()},l(b){e=D(b,"DIV",{class:!0});var L=g(e);t=D(L,"DIV",{});var q=g(t);l=D(q,"BUTTON",{class:!0});var Y=g(l);_&&_.l(Y),i=K(Y),o&&oe(o.$$.fragment,Y),r=K(Y),s=$(Y,n[3]),Y.forEach(c),q.forEach(c),f=K(L),h=D(L,"DIV",{class:!0});var v=g(h);oe(k.$$.fragment,v),v.forEach(c),L.forEach(c),this.h()},h(){l.disabled=n[9],P(l,"class","flex items-center gap-x-2"),J(l,"opacity-30",n[9]),J(l,"text-red-600",n[11]),J(l,"border",n[4]),J(l,"border-gray-300",n[4]),J(l,"hidden",n[13]),P(h,"class","relative z-50 w-60"),J(h,"hidden",!n[13]),P(e,"class","relative z-50 h-8")},m(b,L){R(b,e,L),m(e,t),m(t,l),_&&_.m(l,null),m(l,i),o&&le(o,l,null),m(l,r),m(l,s),m(e,f),m(e,h),le(k,h,null),z=!0,A||(C=[Ae(l,"click",n[14]),Pe(a=Ve.call(null,l,{text:n[8]})),Pe(u=Ve.call(null,t,{text:n[9]?n[10]:""})),Pe(j=xl.call(null,h,n[21]))],A=!0)},p(b,[L]){if(b[7]?_?L&128&&w(_,1):(_=St(),_.c(),w(_,1),_.m(l,i)):_&&(de(),M(_,1,1,()=>{_=null}),me()),L&4&&T!==(T=b[2])){if(o){de();const Y=o;M(Y.$$.fragment,1,0,()=>{ne(Y,1)}),me()}T?(o=je(T,V()),te(o.$$.fragment),w(o.$$.fragment,1),le(o,l,r)):o=null}(!z||L&8)&&ge(s,b[3]),(!z||L&512)&&(l.disabled=b[9]),a&&ze(a.update)&&L&256&&a.update.call(null,{text:b[8]}),(!z||L&512)&&J(l,"opacity-30",b[9]),(!z||L&2048)&&J(l,"text-red-600",b[11]),(!z||L&16)&&J(l,"border",b[4]),(!z||L&16)&&J(l,"border-gray-300",b[4]),(!z||L&8192)&&J(l,"hidden",b[13]),u&&ze(u.update)&&L&1536&&u.update.call(null,{text:b[9]?b[10]:""});const q={};L&8192&&(q.open=b[13]),L&2&&(q.items=b[1]),L&64&&(q.shouldFilterItem=b[6]?b[6]:void 0),L&32&&(q.placeholder=b[5]),L&21037059&&(q.$$scope={dirty:L,ctx:b}),!y&&L&1&&(y=!0,q.value=b[0],$t(()=>y=!1)),k.$set(q),j&&ze(j.update)&&L&8192&&j.update.call(null,b[21]),(!z||L&8192)&&J(h,"hidden",!b[13])},i(b){z||(w(_),o&&w(o.$$.fragment,b),w(k.$$.fragment,b),z=!0)},o(b){M(_),o&&M(o.$$.fragment,b),M(k.$$.fragment,b),z=!1},d(b){b&&c(e),_&&_.d(),o&&ne(o),n[19](null),ne(k),A=!1,Be(C)}}}function Dn(n,e,t){let{$$slots:l={},$$scope:i}=e;const o=wl(l);let{items:r}=e,{buttonIcon:s}=e,{buttonText:a=""}=e,{buttonOutline:u=!1}=e,{comboBoxText:f=""}=e,{comboBoxPlaceholder:h=""}=e,{shouldFilterItem:k=void 0}=e,{isLoading:y=!1}=e,{helperText:j=""}=e,{disabled:z=!1}=e,{disabledMessage:A=""}=e,{redText:C=!1}=e;const _=el();let T,V=!1;function d(){t(13,V=!0),requestAnimationFrame(()=>{T.$set({open:!0})})}function S(v){_("select",v.detail.selectedItem),T.clear(),t(13,V=!1)}const b=(v,I)=>I.id===v.id;function L(v){Je[v?"unshift":"push"](()=>{T=v,t(12,T)})}function q(v){f=v,t(0,f)}const Y=()=>t(13,V=!1);return n.$$set=v=>{"items"in v&&t(1,r=v.items),"buttonIcon"in v&&t(2,s=v.buttonIcon),"buttonText"in v&&t(3,a=v.buttonText),"buttonOutline"in v&&t(4,u=v.buttonOutline),"comboBoxText"in v&&t(0,f=v.comboBoxText),"comboBoxPlaceholder"in v&&t(5,h=v.comboBoxPlaceholder),"shouldFilterItem"in v&&t(6,k=v.shouldFilterItem),"isLoading"in v&&t(7,y=v.isLoading),"helperText"in v&&t(8,j=v.helperText),"disabled"in v&&t(9,z=v.disabled),"disabledMessage"in v&&t(10,A=v.disabledMessage),"redText"in v&&t(11,C=v.redText),"$$scope"in v&&t(22,i=v.$$scope)},[f,r,s,a,u,h,k,y,j,z,A,C,T,V,d,S,o,l,b,L,q,Y,i]}class ot extends ye{constructor(e){super(),Ee(this,e,Dn,On,Ie,{items:1,buttonIcon:2,buttonText:3,buttonOutline:4,comboBoxText:0,comboBoxPlaceholder:5,shouldFilterItem:6,isLoading:7,helperText:8,disabled:9,disabledMessage:10,redText:11})}}function Pn(n){let e,t=n[38].text+"",l;return{c(){e=O("div"),l=x(t),this.h()},l(i){e=D(i,"DIV",{class:!0});var o=g(e);l=$(o,t),o.forEach(c),this.h()},h(){P(e,"class","flex justify-between gap-x-8")},m(i,o){R(i,e,o),m(e,l)},p(i,o){o[1]&128&&t!==(t=i[38].text+"")&&ge(l,t)},i:W,o:W,d(i){i&&c(e)}}}function Vn(n){let e,t,l,i,o,r=n[37]+"",s,a;return t=new _l({}),{c(){e=O("div"),te(t.$$.fragment),l=X(),i=O("div"),o=x("New label: "),s=x(r),this.h()},l(u){e=D(u,"DIV",{class:!0});var f=g(e);oe(t.$$.fragment,f),l=K(f),i=D(f,"DIV",{class:!0});var h=g(i);o=$(h,"New label: "),s=$(h,r),h.forEach(c),f.forEach(c),this.h()},h(){P(i,"class","ml-2"),P(e,"class","new-concept flex flex-row items-center justify-items-center")},m(u,f){R(u,e,f),le(t,e,null),m(e,l),m(e,i),m(i,o),m(i,s),a=!0},p(u,f){(!a||f[1]&64)&&r!==(r=u[37]+"")&&ge(s,r)},i(u){a||(w(t.$$.fragment,u),a=!0)},o(u){M(t.$$.fragment,u),a=!1},d(u){u&&c(e),ne(t)}}}function An(n){let e;return{c(){e=O("div")},l(t){e=D(t,"DIV",{}),g(e).forEach(c)},m(t,l){R(t,e,l)},p:W,i:W,o:W,d(t){t&&c(e)}}}function Ln(n){let e,t,l,i;const o=[An,Vn,Pn],r=[];function s(a,u){return a[38]==null?0:a[38].id==="new-label"?1:2}return t=s(n),l=r[t]=o[t](n),{c(){e=O("div"),l.c(),this.h()},l(a){e=D(a,"DIV",{slot:!0});var u=g(e);l.l(u),u.forEach(c),this.h()},h(){P(e,"slot","item")},m(a,u){R(a,e,u),r[t].m(e,null),i=!0},p(a,u){let f=t;t=s(a),t===f?r[t].p(a,u):(de(),M(r[f],1,1,()=>{r[f]=null}),me(),l=r[t],l?l.p(a,u):(l=r[t]=o[t](a),l.c()),w(l,1),l.m(e,null))},i(a){i||(w(l),i=!0)},o(a){M(l),i=!1},d(a){a&&c(e),r[t].d()}}}function Cn(n){var a;let e,t,l,i,o=((a=n[5])==null?void 0:a.toLocaleString())+"",r,s;return{c(){e=x("Add label "),t=O("span"),l=x(n[8]),i=x(" to "),r=x(o),s=x(`
      rows?`),this.h()},l(u){e=$(u,"Add label "),t=D(u,"SPAN",{class:!0});var f=g(t);l=$(f,n[8]),f.forEach(c),i=$(u," to "),r=$(u,o),s=$(u,`
      rows?`),this.h()},h(){P(t,"class","font-mono font-bold")},m(u,f){R(u,e,f),R(u,t,f),m(t,l),R(u,i,f),R(u,r,f),R(u,s,f)},p(u,f){var h;f[0]&256&&ge(l,u[8]),f[0]&32&&o!==(o=((h=u[5])==null?void 0:h.toLocaleString())+"")&&ge(r,o)},d(u){u&&c(e),u&&c(t),u&&c(i),u&&c(r),u&&c(s)}}}function zn(n){var a;let e,t,l,i,o=((a=n[5])==null?void 0:a.toLocaleString())+"",r,s;return{c(){e=x("Remove label "),t=O("span"),l=x(n[8]),i=x(" from "),r=x(o),s=x(`
      rows?`),this.h()},l(u){e=$(u,"Remove label "),t=D(u,"SPAN",{class:!0});var f=g(t);l=$(f,n[8]),f.forEach(c),i=$(u," from "),r=$(u,o),s=$(u,`
      rows?`),this.h()},h(){P(t,"class","font-mono font-bold")},m(u,f){R(u,e,f),R(u,t,f),m(t,l),R(u,i,f),R(u,r,f),R(u,s,f)},p(u,f){var h;f[0]&256&&ge(l,u[8]),f[0]&32&&o!==(o=((h=u[5])==null?void 0:h.toLocaleString())+"")&&ge(r,o)},d(u){u&&c(e),u&&c(t),u&&c(i),u&&c(r),u&&c(s)}}}function Nn(n){let e;function t(o,r){return o[4]?zn:Cn}let l=t(n),i=l(n);return{c(){e=O("p"),i.c()},l(o){e=D(o,"P",{});var r=g(e);i.l(r),r.forEach(c)},m(o,r){R(o,e,r),i.m(e,null)},p(o,r){l===(l=t(o))&&i?i.p(o,r):(i.d(1),i=l(o),i&&(i.c(),i.m(e,null)))},d(o){o&&c(e),i.d()}}}function Bn(n){let e,t,l,i,o;function r(a){n[32](a)}let s={disabled:n[9]||n[10],helperText:n[0],disabledMessage:n[7]?n[1]?n[2]:"":"You do not have access to add labels.",buttonOutline:!0,buttonIcon:n[3],items:n[13],comboBoxPlaceholder:n[4]?"Select a label to remove":"Select or type a new label",shouldFilterItem:Rn,$$slots:{item:[Ln,({inputText:a,item:u})=>({37:a,38:u}),({inputText:a,item:u})=>[0,(a?64:0)|(u?128:0)]]},$$scope:{ctx:n}};return n[6]!==void 0&&(s.comboBoxText=n[6]),e=new ot({props:s}),Je.push(()=>xt(e,"comboBoxText",r)),e.$on("select",n[19]),i=new Gl({props:{size:"xs",open:n[8]!=null&&n[5]!=null,modalHeading:"Label",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[Nn]},$$scope:{ctx:n}}}),i.$on("submit",n[18]),i.$on("click:button--secondary",n[33]),i.$on("close",function(){ze(n[8]=null)&&(n[8]=null).apply(this,arguments)}),{c(){te(e.$$.fragment),l=X(),te(i.$$.fragment)},l(a){oe(e.$$.fragment,a),l=K(a),oe(i.$$.fragment,a)},m(a,u){le(e,a,u),R(a,l,u),le(i,a,u),o=!0},p(a,u){n=a;const f={};u[0]&1536&&(f.disabled=n[9]||n[10]),u[0]&1&&(f.helperText=n[0]),u[0]&134&&(f.disabledMessage=n[7]?n[1]?n[2]:"":"You do not have access to add labels."),u[0]&8&&(f.buttonIcon=n[3]),u[0]&8192&&(f.items=n[13]),u[0]&16&&(f.comboBoxPlaceholder=n[4]?"Select a label to remove":"Select or type a new label"),u[1]&448&&(f.$$scope={dirty:u,ctx:n}),!t&&u[0]&64&&(t=!0,f.comboBoxText=n[6],$t(()=>t=!1)),e.$set(f);const h={};u[0]&288&&(h.open=n[8]!=null&&n[5]!=null),u[0]&304|u[1]&256&&(h.$$scope={dirty:u,ctx:n}),i.$set(h)},i(a){o||(w(e.$$.fragment,a),w(i.$$.fragment,a),o=!0)},o(a){M(e.$$.fragment,a),M(i.$$.fragment,a),o=!1},d(a){ne(e,a),a&&c(l),ne(i,a)}}}const Rn=(n,e)=>n.text.toLowerCase().includes(e.toLowerCase())||n.id==="new-label";function jn(n,e,t){let l,i,o,r,s,a,u,f,h,k,y,j,z,A,C,_=W,T=()=>(_(),_=Oe(j,F=>t(27,C=F)),j),V,d=W,S=()=>(d(),d=Oe(y,F=>t(28,V=F)),y),b,L=W,q=()=>(L(),L=Oe(l,F=>t(29,b=F)),l),Y,v;n.$$.on_destroy.push(()=>_()),n.$$.on_destroy.push(()=>d()),n.$$.on_destroy.push(()=>L());let{labelsQuery:I}=e,{hideLabels:B=void 0}=e,{helperText:Q="Add label"}=e,{disabled:re=!1}=e,{disabledMessage:U="User does not have access to add labels."}=e,{icon:ue}=e,{remove:ae=!1}=e,{totalNumRows:he=void 0}=e;const ie=el();let ee="",p=null;const E=dl(),N=$e();Ce(n,N,F=>t(31,v=F));const H=nl();Ce(n,H,F=>t(30,Y=F));function G(){if(p==null)return;const F={...I,label_name:p};function pe(Z){return F.row_ids!=null?`Document id: ${F.row_ids}`:`${Z.toLocaleString()} rows updated`}ae?C.mutate([i,o,F],{onSuccess:Z=>{E.addNotification({kind:"success",title:`Removed label "${F.label_name}"`,message:pe(Z)})}}):V.mutate([i,o,F],{onSuccess:Z=>{E.addNotification({kind:"success",title:`Added label "${F.label_name}"`,message:pe(Z)})}}),t(8,p=null)}function fe(F){t(8,p=F.detail.text),he==null&&G()}function se(F){ee=F,t(6,ee)}const ce=()=>{t(8,p=null),ie("close")};return n.$$set=F=>{"labelsQuery"in F&&t(20,I=F.labelsQuery),"hideLabels"in F&&t(21,B=F.hideLabels),"helperText"in F&&t(0,Q=F.helperText),"disabled"in F&&t(1,re=F.disabled),"disabledMessage"in F&&t(2,U=F.disabledMessage),"icon"in F&&t(3,ue=F.icon),"remove"in F&&t(4,ae=F.remove),"totalNumRows"in F&&t(5,he=F.totalNumRows)},n.$$.update=()=>{var F,pe;n.$$.dirty[1]&1&&q(t(14,l=et(v.namespace,v.datasetName))),n.$$.dirty[1]&1&&(i=v.namespace),n.$$.dirty[1]&1&&(o=v.datasetName),n.$$.dirty[0]&1073741824&&t(26,r=(F=Y.data)==null?void 0:F.access.dataset.create_label_type),n.$$.dirty[0]&1073741824&&t(7,s=(pe=Y.data)==null?void 0:pe.access.dataset.edit_labels),n.$$.dirty[0]&536870912&&t(24,a=b.data&&al(b.data)),n.$$.dirty[0]&67108928&&t(25,u=/^[A-Za-z0-9_-]+$/.test(ee)&&r),n.$$.dirty[0]&33554496&&t(23,f={id:"new-label",text:ee,disabled:!u}),n.$$.dirty[0]&18874368&&t(22,h=(a==null?void 0:a.filter(Z=>!(B||[]).includes(Z)).map((Z,ke)=>({id:`label_${ke}`,text:Z})))||[]),n.$$.dirty[0]&12582992&&t(13,k=[...ee!=""&&!ae?[f]:[],...h]),n.$$.dirty[0]&536870912&&S(t(12,y=b.data!=null?il(b.data):null)),n.$$.dirty[0]&536870912&&T(t(11,j=b.data!=null?rl(b.data):null)),n.$$.dirty[0]&402653184&&t(10,z=(V==null?void 0:V.isLoading)||(C==null?void 0:C.isLoading)),n.$$.dirty[0]&130&&t(9,A=re||!s)},[Q,re,U,ue,ae,he,ee,s,p,A,z,j,y,k,l,ie,N,H,G,fe,I,B,h,f,a,u,r,C,V,b,Y,v,se,ce]}class Fn extends ye{constructor(e){super(),Ee(this,e,jn,Bn,Ie,{labelsQuery:20,hideLabels:21,helperText:0,disabled:1,disabledMessage:2,icon:3,remove:4,totalNumRows:5},null,[-1,-1])}}function Hn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mt(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);e&&(l=l.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,l)}return t}function Tt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mt(Object(t),!0).forEach(function(l){Hn(n,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Mt(Object(t)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(t,l))})}return n}function qn(n,e){if(n==null)return{};var t={},l=Object.keys(n),i,o;for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Yn(n,e){if(n==null)return{};var t=qn(n,e),l,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)l=o[i],!(e.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(n,l)&&(t[l]=n[l])}return t}function Un(n,e){return Zn(n)||Qn(n,e)||Wn(n,e)||Gn()}function Zn(n){if(Array.isArray(n))return n}function Qn(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],l=!0,i=!1,o=void 0;try{for(var r=n[Symbol.iterator](),s;!(l=(s=r.next()).done)&&(t.push(s.value),!(e&&t.length===e));l=!0);}catch(a){i=!0,o=a}finally{try{!l&&r.return!=null&&r.return()}finally{if(i)throw o}}return t}}function Wn(n,e){if(n){if(typeof n=="string")return Ot(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ot(n,e)}}function Ot(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,l=new Array(e);t<e;t++)l[t]=n[t];return l}function Gn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xn(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Dt(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);e&&(l=l.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,l)}return t}function Pt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Dt(Object(t),!0).forEach(function(l){Xn(n,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Dt(Object(t)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(t,l))})}return n}function Kn(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(l){return e.reduceRight(function(i,o){return o(i)},l)}}function Fe(n){return function e(){for(var t=this,l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];return i.length>=n.length?n.apply(this,i):function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e.apply(t,[].concat(i,s))}}}function Ke(n){return{}.toString.call(n).includes("Object")}function Jn(n){return!Object.keys(n).length}function He(n){return typeof n=="function"}function xn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function $n(n,e){return Ke(e)||Le("changeType"),Object.keys(e).some(function(t){return!xn(n,t)})&&Le("changeField"),e}function ei(n){He(n)||Le("selectorType")}function ti(n){He(n)||Ke(n)||Le("handlerType"),Ke(n)&&Object.values(n).some(function(e){return!He(e)})&&Le("handlersType")}function li(n){n||Le("initialIsRequired"),Ke(n)||Le("initialType"),Jn(n)&&Le("initialContent")}function ni(n,e){throw new Error(n[e]||n.default)}var ii={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Le=Fe(ni)(ii),Ze={changes:$n,selector:ei,handler:ti,initial:li};function ri(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ze.initial(n),Ze.handler(e);var t={current:n},l=Fe(si)(t,e),i=Fe(oi)(t),o=Fe(Ze.changes)(n),r=Fe(ai)(t);function s(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return Ze.selector(u),u(t.current)}function a(u){Kn(l,i,o,r)(u)}return[s,a]}function ai(n,e){return He(e)?e(n.current):e}function oi(n,e){return n.current=Pt(Pt({},n.current),e),e}function si(n,e,t){return He(e)?e(n.current):Object.keys(t).forEach(function(l){var i;return(i=e[l])===null||i===void 0?void 0:i.call(e,n.current[l])}),t}var ui={create:ri},fi={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function ci(n){return function e(){for(var t=this,l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];return i.length>=n.length?n.apply(this,i):function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e.apply(t,[].concat(i,s))}}}function di(n){return{}.toString.call(n).includes("Object")}function mi(n){return n||Vt("configIsRequired"),di(n)||Vt("configType"),n.urls?(hi(),{paths:{vs:n.urls.monacoBase}}):n}function hi(){console.warn(bl.deprecation)}function _i(n,e){throw new Error(n[e]||n.default)}var bl={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Vt=ci(_i)(bl),bi={config:mi},gi=function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return function(i){return t.reduceRight(function(o,r){return r(o)},i)}};function gl(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],gl(n[t],e[t]))}),Tt(Tt({},n),e)}var vi={type:"cancelation",msg:"operation is manually canceled"};function lt(n){var e=!1,t=new Promise(function(l,i){n.then(function(o){return e?i(vi):l(o)}),n.catch(i)});return t.cancel=function(){return e=!0},t}var pi=ui.create({config:fi,isInitialized:!1,resolve:null,reject:null,monaco:null}),vl=Un(pi,2),qe=vl[0],tt=vl[1];function wi(n){var e=bi.config(n),t=e.monaco,l=Yn(e,["monaco"]);tt(function(i){return{config:gl(i.config,l),monaco:t}})}function ki(){var n=qe(function(e){var t=e.monaco,l=e.isInitialized,i=e.resolve;return{monaco:t,isInitialized:l,resolve:i}});if(!n.isInitialized){if(tt({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),lt(nt);if(window.monaco&&window.monaco.editor)return pl(window.monaco),n.resolve(window.monaco),lt(nt);gi(yi,Ii)(Si)}return lt(nt)}function yi(n){return document.body.appendChild(n)}function Ei(n){var e=document.createElement("script");return n&&(e.src=n),e}function Ii(n){var e=qe(function(l){var i=l.config,o=l.reject;return{config:i,reject:o}}),t=Ei("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return n()},t.onerror=e.reject,t}function Si(){var n=qe(function(t){var l=t.config,i=t.resolve,o=t.reject;return{config:l,resolve:i,reject:o}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(t){pl(t),n.resolve(t)},function(t){n.reject(t)})}function pl(n){qe().monaco||tt({monaco:n})}function Mi(){return qe(function(n){var e=n.monaco;return e})}var nt=new Promise(function(n,e){return tt({resolve:n,reject:e})}),At={config:wi,init:ki,__getMonacoInstance:Mi};let Qe;async function Ti(){return Qe!=null||(Qe=Kl(()=>import("./editor.main.52e1b82b.js").then(n=>n.e),["./editor.main.52e1b82b.js","./preload-helper.41c905a7.js","../assets/editor.5caca8db.css"],import.meta.url).then(n=>(At.config({monaco:n.default}),At.init()))),Qe}function Oi(n){let e,t,l,i=De(n[2])+"",o,r,s,a=De(n[1])+"",u,f,h,k,y,j,z,A,C,_;return y=new hl({}),{c(){e=O("div"),t=O("div"),l=O("div"),o=x(i),r=X(),s=O("div"),u=x(a),f=X(),h=O("div"),k=O("button"),te(y.$$.fragment),j=X(),z=O("div"),this.h()},l(T){e=D(T,"DIV",{class:!0});var V=g(e);t=D(V,"DIV",{class:!0});var d=g(t);l=D(d,"DIV",{class:!0});var S=g(l);o=$(S,i),S.forEach(c),r=K(d),s=D(d,"DIV",{class:!0});var b=g(s);u=$(b,a),b.forEach(c),f=K(d),h=D(d,"DIV",{});var L=g(h);k=D(L,"BUTTON",{class:!0});var q=g(k);oe(y.$$.fragment,q),q.forEach(c),L.forEach(c),d.forEach(c),j=K(V),z=D(V,"DIV",{class:!0}),g(z).forEach(c),V.forEach(c),this.h()},h(){P(l,"class","w-1/2"),P(s,"class","ml-4 w-1/2"),P(k,"class","mb-1 mr-3 flex flex-row"),P(t,"class","flex flex-row items-center font-mono text-xs font-medium text-neutral-500"),P(z,"class","editor-container -ml-4 w-full"),P(e,"class","relative flex h-fit w-full flex-col gap-x-4")},m(T,V){R(T,e,V),m(e,t),m(t,l),m(l,o),m(t,r),m(t,s),m(s,u),m(t,f),m(t,h),m(h,k),le(y,k,null),m(e,j),m(e,z),n[12](z),A=!0,C||(_=[Ae(k,"click",n[11]),Pe(Ve.call(null,k,{text:"Swap comparison order"}))],C=!0)},p(T,[V]){(!A||V&4)&&i!==(i=De(T[2])+"")&&ge(o,i),(!A||V&2)&&a!==(a=De(T[1])+"")&&ge(u,a)},i(T){A||(w(y.$$.fragment,T),A=!0)},o(T){M(y.$$.fragment,T),A=!1},d(T){T&&c(e),ne(y),n[12](null),C=!1,Be(_)}}}const Di=800,Pi=19;function Vi(n,e,t){let l,i,o,r;const s=Al(),a=$e();let{row:u}=e,{colCompareState:f}=e,h,k,y;const j=Jl(a,_=>_.showMetadataPanel);function z(){y!=null&&y.layout()}Sl(async()=>(t(7,k=await Ti()),t(8,y=k.editor.createDiffEditor(h,{readOnly:!0,lineNumbers:"off",renderFinalNewline:"dimmed",glyphMargin:!0,lineDecorationsWidth:0,roundedSelection:!0,domReadOnly:!0,scrollBeyondLastLine:!1,wordWrap:"on",wrappingStrategy:"advanced",readOnlyMessage:{value:""}})),y.onDidChangeModel(()=>{t(3,h.style.height=Math.min(Di,Math.max(y.getOriginalEditor().getTopForLineNumber(y.getModel().original.getLineCount()),y.getModifiedEditor().getTopForLineNumber(y.getModel().modified.getLineCount())))+Pi+"px",h),y.layout();const _=50;s.subscribe(()=>setTimeout(z,We+_)),j.subscribe(()=>setTimeout(z,We+_))}),window.addEventListener("resize",z),()=>{window.removeEventListener("resize",z)})),Ml(()=>{k==null||k.editor.getModels().forEach(_=>_.dispose()),y==null||y.dispose()});const A=()=>a.swapCompareColumn((f==null?void 0:f.column)||[]);function C(_){Je[_?"unshift":"push"](()=>{h=_,t(3,h)})}return n.$$set=_=>{"row"in _&&t(5,u=_.row),"colCompareState"in _&&t(0,f=_.colCompareState)},n.$$.update=()=>{n.$$.dirty&1&&t(2,l=f.swapDirection?f.compareToColumn:f.column),n.$$.dirty&1&&t(1,i=f.swapDirection?f.column:f.compareToColumn),n.$$.dirty&36&&t(10,o=Ge.value(rt(u,l)[0])),n.$$.dirty&34&&t(9,r=Ge.value(rt(u,i)[0])),n.$$.dirty&1920&&y!=null&&o!=null&&r!=null&&y.setModel({original:k.editor.createModel(o,"text/plain"),modified:k.editor.createModel(r,"text/plain")})},[f,i,l,h,a,u,j,k,y,r,o,A,C]}class Ai extends ye{constructor(e){super(),Ee(this,e,Vi,Oi,Ie,{row:5,colCompareState:0,showMetadataPanel:6})}get showMetadataPanel(){return this.$$.ctx[6]}}function Lt(n,e,t){const l=n.slice();l[29]=e[t];const i=Ge.value(l[29]);l[30]=i;const o=l[7].length===0;return l[31]=o,l}function it(n){var i,o,r;const e=n.slice(),t=Ge.path(e[29])||[];e[3]=t;const l=((r=(o=(i=e[14].data)==null?void 0:i.ui)==null?void 0:o.markdown_paths)==null?void 0:r.find(function(...a){return n[25](e[3],...a)}))!=null;return e[34]=l,e}function Ct(n){let e,t,l,i,o,r,s,a,u,f,h,k,y,j,z,A,C,_,T,V,d,S,b,L,q,Y;const v=[Ci,Li],I=[];function B(ee,p){return ee[4]==null?0:ee[5]!=null&&ee[6]!=null?1:-1}~(o=B(n))&&(r=I[o]=v[o](n)),k=new Xl({props:{size:16}});function Q(){return n[26](n[30])}const re=[Ni,zi],U=[];function ue(ee,p){return ee[4]?1:0}C=ue(n),_=U[C]=re[C](n);const ae=[Ri,Bi],he=[];function ie(ee,p){return ee[4]==null?0:1}return d=ie(n),S=he[d]=ae[d](n),{c(){e=O("div"),t=O("div"),l=O("div"),i=O("div"),r&&r.c(),a=X(),u=O("div"),f=O("div"),h=O("button"),te(k.$$.fragment),z=X(),A=O("div"),_.c(),T=X(),V=O("div"),S.c(),b=X(),this.h()},l(ee){e=D(ee,"DIV",{class:!0});var p=g(e);t=D(p,"DIV",{class:!0});var E=g(t);l=D(E,"DIV",{class:!0});var N=g(l);i=D(N,"DIV",{title:!0,class:!0});var H=g(i);r&&r.l(H),H.forEach(c),a=K(N),u=D(N,"DIV",{class:!0});var G=g(u);f=D(G,"DIV",{});var fe=g(f);h=D(fe,"BUTTON",{});var se=g(h);oe(k.$$.fragment,se),se.forEach(c),fe.forEach(c),G.forEach(c),z=K(N),A=D(N,"DIV",{class:!0});var ce=g(A);_.l(ce),ce.forEach(c),N.forEach(c),E.forEach(c),T=K(p),V=D(p,"DIV",{class:!0});var F=g(V);S.l(F),F.forEach(c),b=K(p),p.forEach(c),this.h()},h(){P(i,"title",s=De(n[3])),P(i,"class","w-full flex-initial truncate"),h.disabled=y=n[31],J(f,"opacity-50",n[31]),P(u,"class","w-12"),P(A,"class","z-50 w-8"),P(l,"class","relative top-0 flex w-full items-center self-start"),P(t,"class","relative flex w-28 flex-none font-mono font-medium text-neutral-500 md:w-44"),P(V,"class","relative z-10 w-full grow-0 overflow-x-auto pt-1 font-normal"),P(e,"class","flex w-full gap-x-4")},m(ee,p){R(ee,e,p),m(e,t),m(t,l),m(l,i),~o&&I[o].m(i,null),m(l,a),m(l,u),m(u,f),m(f,h),le(k,h,null),m(l,z),m(l,A),U[C].m(A,null),m(e,T),m(e,V),he[d].m(V,null),m(e,b),L=!0,q||(Y=[Ae(h,"click",Q),Pe(Ve.call(null,h,{text:"More like this"})),Pe(j=Ve.call(null,f,{text:n[31]?'"More like this" requires an embedding index':void 0}))],q=!0)},p(ee,p){n=ee;let E=o;o=B(n),o===E?~o&&I[o].p(n,p):(r&&(de(),M(I[E],1,1,()=>{I[E]=null}),me()),~o?(r=I[o],r?r.p(n,p):(r=I[o]=v[o](n),r.c()),w(r,1),r.m(i,null)):r=null),(!L||p[0]&256&&s!==(s=De(n[3])))&&P(i,"title",s),(!L||p[0]&128&&y!==(y=n[31]))&&(h.disabled=y),j&&ze(j.update)&&p[0]&128&&j.update.call(null,{text:n[31]?'"More like this" requires an embedding index':void 0}),(!L||p[0]&128)&&J(f,"opacity-50",n[31]);let N=C;C=ue(n),C===N?U[C].p(n,p):(de(),M(U[N],1,1,()=>{U[N]=null}),me(),_=U[C],_?_.p(n,p):(_=U[C]=re[C](n),_.c()),w(_,1),_.m(A,null));let H=d;d=ie(n),d===H?he[d].p(n,p):(de(),M(he[H],1,1,()=>{he[H]=null}),me(),S=he[d],S?S.p(n,p):(S=he[d]=ae[d](n),S.c()),w(S,1),S.m(V,null))},i(ee){L||(w(r),w(k.$$.fragment,ee),w(_),w(S),L=!0)},o(ee){M(r),M(k.$$.fragment,ee),M(_),M(S),L=!1},d(ee){ee&&c(e),~o&&I[o].d(),ne(k),U[C].d(),he[d].d(),q=!1,Be(Y)}}}function Li(n){let e,t,l=De(n[5])+"",i,o,r,s,a,u,f=De(n[6])+"",h,k;return s=new hl({}),{c(){e=O("div"),t=O("div"),i=x(l),o=X(),r=O("div"),te(s.$$.fragment),a=X(),u=O("div"),h=x(f),this.h()},l(y){e=D(y,"DIV",{class:!0});var j=g(e);t=D(j,"DIV",{});var z=g(t);i=$(z,l),z.forEach(c),o=K(j),r=D(j,"DIV",{});var A=g(r);oe(s.$$.fragment,A),A.forEach(c),a=K(j),u=D(j,"DIV",{});var C=g(u);h=$(C,f),C.forEach(c),j.forEach(c),this.h()},h(){P(e,"class","mt-1 flex flex-col gap-y-2")},m(y,j){R(y,e,j),m(e,t),m(t,i),m(e,o),m(e,r),le(s,r,null),m(e,a),m(e,u),m(u,h),k=!0},p(y,j){(!k||j[0]&32)&&l!==(l=De(y[5])+"")&&ge(i,l),(!k||j[0]&64)&&f!==(f=De(y[6])+"")&&ge(h,f)},i(y){k||(w(s.$$.fragment,y),k=!0)},o(y){M(s.$$.fragment,y),k=!1},d(y){y&&c(e),ne(s)}}}function Ci(n){let e=De(n[3])+"",t;return{c(){t=x(e)},l(l){t=$(l,e)},m(l,i){R(l,t,i)},p(l,i){i[0]&256&&e!==(e=De(l[3])+"")&&ge(t,e)},i:W,o:W,d(l){l&&c(t)}}}function zi(n){let e,t,l,i,o;return t=new En({props:{size:16}}),{c(){e=O("button"),te(t.$$.fragment)},l(r){e=D(r,"BUTTON",{});var s=g(e);oe(t.$$.fragment,s),s.forEach(c)},m(r,s){R(r,e,s),le(t,e,null),l=!0,i||(o=[Ae(e,"click",n[27]),Pe(Ve.call(null,e,{text:"Remove comparison"}))],i=!0)},p:W,i(r){l||(w(t.$$.fragment,r),l=!0)},o(r){M(t.$$.fragment,r),l=!1},d(r){r&&c(e),ne(t),i=!1,Be(o)}}}function Ni(n){let e,t;return e=new ot({props:{helperText:"Compare to",items:n[12],buttonIcon:fn}}),e.$on("select",n[17]),{c(){te(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,i){le(e,l,i),t=!0},p(l,i){const o={};i[0]&4096&&(o.items=l[12]),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){M(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Bi(n){let e,t;return e=new Ai({props:{row:n[0],colCompareState:n[4]}}),{c(){te(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,i){le(e,l,i),t=!0},p(l,i){const o={};i[0]&1&&(o.row=l[0]),i[0]&16&&(o.colCompareState=l[4]),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){M(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Ri(n){let e,t;return e=new $l({props:{text:dt(n[30]),row:n[0],path:n[3],field:n[1],markdown:n[34],alwaysExpand:n[2],spanPaths:n[10].spanPaths,valuePaths:n[10].valuePaths,datasetViewStore:n[15],embeddings:n[7]}}),{c(){te(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,i){le(e,l,i),t=!0},p(l,i){const o={};i[0]&256&&(o.text=dt(l[30])),i[0]&1&&(o.row=l[0]),i[0]&256&&(o.path=l[3]),i[0]&2&&(o.field=l[1]),i[0]&16640&&(o.markdown=l[34]),i[0]&4&&(o.alwaysExpand=l[2]),i[0]&1024&&(o.spanPaths=l[10].spanPaths),i[0]&1024&&(o.valuePaths=l[10].valuePaths),i[0]&128&&(o.embeddings=l[7]),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){M(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function zt(n){let e=ct(n[30]),t,l,i=e&&Ct(it(n));return{c(){i&&i.c(),t=we()},l(o){i&&i.l(o),t=we()},m(o,r){i&&i.m(o,r),R(o,t,r),l=!0},p(o,r){r[0]&256&&(e=ct(o[30])),e?i?(i.p(it(o),r),r[0]&256&&w(i,1)):(i=Ct(it(o)),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(de(),M(i,1,1,()=>{i=null}),me())},i(o){l||(w(i),l=!0)},o(o){M(i),l=!1},d(o){i&&i.d(o),o&&c(t)}}}function ji(n){let e,t,l=n[8],i=[];for(let r=0;r<l.length;r+=1)i[r]=zt(Lt(n,l,r));const o=r=>M(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=we()},l(r){for(let s=0;s<i.length;s+=1)i[s].l(r);e=we()},m(r,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,s);R(r,e,s),t=!0},p(r,s){if(s[0]&972279){l=r[8];let a;for(a=0;a<l.length;a+=1){const u=Lt(r,l,a);i[a]?(i[a].p(u,s),w(i[a],1)):(i[a]=zt(u),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(de(),a=l.length;a<i.length;a+=1)o(a);me()}},i(r){if(!t){for(let s=0;s<l.length;s+=1)w(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)M(i[s]);t=!1},d(r){xe(i,r),r&&c(e)}}}function Fi(n,e,t){let l,i,o,r,s,a,u,f,h,k,y,j=W,z=()=>(j(),j=Oe(u,p=>t(14,y=p)),u),A,C=W,_=()=>(C(),C=Oe(r,p=>t(23,A=p)),r),T,V=W,d=()=>(V(),V=Oe(l,p=>t(24,T=p)),l);n.$$.on_destroy.push(()=>j()),n.$$.on_destroy.push(()=>C()),n.$$.on_destroy.push(()=>V());let{path:S}=e,{row:b}=e,{field:L}=e,{highlightedFields:q}=e,{alwaysExpand:Y=!1}=e;const v=$e();Ce(n,v,p=>t(22,h=p));const I=ml();Ce(n,I,p=>t(28,k=p));function B(p){v.addCompareColumn([S,p.detail.id])}function Q(p){var N;let E=s[0];if(((N=y.data)==null?void 0:N.preferred_embedding)!=null){const H=y.data.preferred_embedding;s.some(G=>G===H)&&(E=H)}if(k.embedding!=null){const H=k.embedding;s.some(G=>G===H)&&(E=H)}v.addSearch({path:L.path,type:"semantic",query:p,query_type:"document",embedding:E})}let re=null,U=null,ue=null;function ae(){v.removeCompareColumn(S)}const he=(p,E)=>Re(E,p),ie=p=>Q(p),ee=()=>ae();return n.$$set=p=>{"path"in p&&t(3,S=p.path),"row"in p&&t(0,b=p.row),"field"in p&&t(1,L=p.field),"highlightedFields"in p&&t(20,q=p.highlightedFields),"alwaysExpand"in p&&t(2,Y=p.alwaysExpand)},n.$$.update=()=>{var p,E;if(n.$$.dirty[0]&4194304&&d(t(13,l=at(h.namespace,h.datasetName))),n.$$.dirty[0]&16777224&&t(21,i=(((E=(p=T.data)==null?void 0:p.ui)==null?void 0:E.media_paths)||[]).map(N=>Array.isArray(N)?N:[N]).filter(N=>!Re(N,S))),n.$$.dirty[0]&2097152&&t(12,o=i.map(N=>({id:N,text:De(N)}))),n.$$.dirty[0]&4194304&&_(t(11,r=et(h.namespace,h.datasetName))),n.$$.dirty[0]&8388616&&t(7,s=Ll(A.data,S)),n.$$.dirty[0]&1048578&&t(10,a=Cl(L,q)),n.$$.dirty[0]&4194304&&z(t(9,u=at(h.namespace,h.datasetName))),n.$$.dirty[0]&9&&t(8,f=rt(b,S)),n.$$.dirty[0]&4194328){t(4,re=null);for(const N of h.compareColumns)if(Re(N.column,S)){t(4,re=N),t(5,U=re.swapDirection?re.compareToColumn:re.column),t(6,ue=re.swapDirection?re.column:re.compareToColumn);break}}},[b,L,Y,S,re,U,ue,s,f,u,a,r,o,l,y,v,I,B,Q,ae,q,i,h,A,T,he,ie,ee]}class Hi extends ye{constructor(e){super(),Ee(this,e,Fi,ji,Ie,{path:3,row:0,field:1,highlightedFields:20,alwaysExpand:2},null,[-1,-1])}}function qi(n){let e,t,l,i;return{c(){e=O("button"),t=x(n[1]),this.h()},l(o){e=D(o,"BUTTON",{class:!0});var r=g(e);t=$(r,n[1]),r.forEach(c),this.h()},h(){e.disabled=n[2],P(e,"class","rounded-lg border border-gray-300 hover:border-gray-500"),J(e,"bg-slate-500",n[0]),J(e,"hover:bg-slate-500",n[0]),J(e,"hover:bg-transparent",!n[0]),J(e,"text-white",n[0])},m(o,r){R(o,e,r),m(e,t),l||(i=Ae(e,"click",n[3]),l=!0)},p(o,[r]){r&2&&ge(t,o[1]),r&4&&(e.disabled=o[2]),r&1&&J(e,"bg-slate-500",o[0]),r&1&&J(e,"hover:bg-slate-500",o[0]),r&1&&J(e,"hover:bg-transparent",!o[0]),r&1&&J(e,"text-white",o[0])},i:W,o:W,d(o){o&&c(e),l=!1,i()}}}function Yi(n,e,t){let{label:l}=e,{active:i}=e,{disabled:o=!1}=e;function r(s){tl.call(this,n,s)}return n.$$set=s=>{"label"in s&&t(1,l=s.label),"active"in s&&t(0,i=s.active),"disabled"in s&&t(2,o=s.disabled)},n.$$.update=()=>{n.$$.dirty&5&&t(0,i=i&&!o)},[i,l,o,r]}class Ui extends ye{constructor(e){super(),Ee(this,e,Yi,qi,Ie,{label:1,active:0,disabled:2})}}function Nt(n,e,t){const l=n.slice();return l[35]=e[t],l[37]=t,l}function Bt(n,e,t){const l=n.slice();return l[38]=e[t],l}function Zi(n){let e,t,l,i,o,r,s,a,u,f,h,k,y,j,z,A,C,_,T,V=n[10]||[],d=[];for(let I=0;I<V.length;I+=1)d[I]=Rt(Bt(n,V,I));const S=I=>M(d[I],1,1,()=>{d[I]=null});o=new Fn({props:{icon:_l,labelsQuery:{row_ids:[n[0]]},hideLabels:n[12]}});let b=n[1].length>0&&jt(n);const L=[Gi,Wi],q=[];function Y(I,B){return I[6].showMetadataPanel?0:1}f=Y(n),h=q[f]=L[f](n);let v=n[6].showMetadataPanel&&Ht(n);return{c(){e=O("div"),t=O("div");for(let I=0;I<d.length;I+=1)d[I].c();l=X(),i=O("div"),te(o.$$.fragment),r=X(),b&&b.c(),s=X(),a=O("div"),u=O("button"),h.c(),z=X(),v&&v.c(),A=we(),this.h()},l(I){e=D(I,"DIV",{class:!0});var B=g(e);t=D(B,"DIV",{class:!0});var Q=g(t);for(let ae=0;ae<d.length;ae+=1)d[ae].l(Q);l=K(Q),i=D(Q,"DIV",{class:!0});var re=g(i);oe(o.$$.fragment,re),re.forEach(c),Q.forEach(c),r=K(B),b&&b.l(B),s=K(B),a=D(B,"DIV",{class:!0});var U=g(a);u=D(U,"BUTTON",{class:!0});var ue=g(u);h.l(ue),ue.forEach(c),U.forEach(c),B.forEach(c),z=K(I),v&&v.l(I),A=we(),this.h()},h(){P(i,"class","relative h-8"),P(t,"class","flex flex-wrap items-center gap-x-2 gap-y-2"),J(t,"opacity-50",n[11]),P(u,"class","mr-1 mt-1 opacity-60 hover:bg-gray-200"),P(a,"class","absolute right-0 top-0"),P(e,"class",y=`flex flex-col gap-y-1 p-4 ${n[6].showMetadataPanel?"w-full":"grow"}`),ll(()=>n[31].call(e))},m(I,B){R(I,e,B),m(e,t);for(let Q=0;Q<d.length;Q+=1)d[Q]&&d[Q].m(t,null);m(t,l),m(t,i),le(o,i,null),m(e,r),b&&b.m(e,null),m(e,s),m(e,a),m(a,u),q[f].m(u,null),j=Ol(e,n[31].bind(e)),R(I,z,B),v&&v.m(I,B),R(I,A,B),C=!0,_||(T=[Pe(k=Ve.call(null,u,{text:n[6].showMetadataPanel?"Close metadata":"Open metadata"})),Ae(u,"click",n[30])],_=!0)},p(I,B){if(B[0]&1578112){V=I[10]||[];let U;for(U=0;U<V.length;U+=1){const ue=Bt(I,V,U);d[U]?(d[U].p(ue,B),w(d[U],1)):(d[U]=Rt(ue),d[U].c(),w(d[U],1),d[U].m(t,l))}for(de(),U=V.length;U<d.length;U+=1)S(U);me()}const Q={};B[0]&1&&(Q.labelsQuery={row_ids:[I[0]]}),B[0]&4096&&(Q.hideLabels=I[12]),o.$set(Q),(!C||B[0]&2048)&&J(t,"opacity-50",I[11]),I[1].length>0?b?(b.p(I,B),B[0]&2&&w(b,1)):(b=jt(I),b.c(),w(b,1),b.m(e,s)):b&&(de(),M(b,1,1,()=>{b=null}),me());let re=f;f=Y(I),f!==re&&(de(),M(q[re],1,1,()=>{q[re]=null}),me(),h=q[f],h||(h=q[f]=L[f](I),h.c()),w(h,1),h.m(u,null)),k&&ze(k.update)&&B[0]&64&&k.update.call(null,{text:I[6].showMetadataPanel?"Close metadata":"Open metadata"}),(!C||B[0]&64&&y!==(y=`flex flex-col gap-y-1 p-4 ${I[6].showMetadataPanel?"w-full":"grow"}`))&&P(e,"class",y),I[6].showMetadataPanel?v?(v.p(I,B),B[0]&64&&w(v,1)):(v=Ht(I),v.c(),w(v,1),v.m(A.parentNode,A)):v&&(de(),M(v,1,1,()=>{v=null}),me())},i(I){if(!C){for(let B=0;B<V.length;B+=1)w(d[B]);w(o.$$.fragment,I),w(b),w(h),w(v),C=!0}},o(I){d=d.filter(Boolean);for(let B=0;B<d.length;B+=1)M(d[B]);M(o.$$.fragment,I),M(b),M(h),M(v),C=!1},d(I){I&&c(e),xe(d,I),ne(o),b&&b.d(),q[f].d(),j(),I&&c(z),v&&v.d(I),I&&c(A),_=!1,Be(T)}}}function Qi(n){let e,t;return e=new ol({props:{lines:4,paragraph:!0,class:"w-full"}}),{c(){te(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,i){le(e,l,i),t=!0},p:W,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){M(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Rt(n){let e,t,l;function i(){return n[29](n[38])}return t=new Ui({props:{label:n[38],disabled:n[7].has(n[38]),active:n[12].includes(n[38])}}),t.$on("click",i),{c(){e=O("div"),te(t.$$.fragment),this.h()},l(o){e=D(o,"DIV",{});var r=g(e);oe(t.$$.fragment,r),r.forEach(c),this.h()},h(){J(e,"opacity-50",n[7].has(n[38]))},m(o,r){R(o,e,r),le(t,e,null),l=!0},p(o,r){n=o;const s={};r[0]&1024&&(s.label=n[38]),r[0]&1152&&(s.disabled=n[7].has(n[38])),r[0]&5120&&(s.active=n[12].includes(n[38])),t.$set(s),(!l||r[0]&1152)&&J(e,"opacity-50",n[7].has(n[38]))},i(o){l||(w(t.$$.fragment,o),l=!0)},o(o){M(t.$$.fragment,o),l=!1},d(o){o&&c(e),ne(t)}}}function jt(n){let e=[],t=new Map,l,i,o=n[1];const r=s=>Xe(s[35].path);for(let s=0;s<o.length;s+=1){let a=Nt(n,o,s),u=r(a);t.set(u,e[s]=Ft(u,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();l=we()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);l=we()},m(s,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(s,a);R(s,l,a),i=!0},p(s,a){a[0]&30&&(o=s[1],de(),e=Dl(e,a,r,1,s,o,t,l.parentNode,Pl,Ft,l,Nt),me())},i(s){if(!i){for(let a=0;a<o.length;a+=1)w(e[a]);i=!0}},o(s){for(let a=0;a<e.length;a+=1)M(e[a]);i=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&c(l)}}}function Ft(n,e){let t,l,i,o;return l=new Hi({props:{row:e[4],path:e[35].path,field:e[35],highlightedFields:e[2],alwaysExpand:e[3]}}),{key:n,first:null,c(){t=O("div"),te(l.$$.fragment),i=X(),this.h()},l(r){t=D(r,"DIV",{class:!0});var s=g(t);oe(l.$$.fragment,s),i=K(s),s.forEach(c),this.h()},h(){P(t,"class","flex h-full w-full flex-col border-neutral-200"),J(t,"border-b",e[37]<e[1].length-1),J(t,"pb-2",e[37]<e[1].length-1),this.first=t},m(r,s){R(r,t,s),le(l,t,null),m(t,i),o=!0},p(r,s){e=r;const a={};s[0]&16&&(a.row=e[4]),s[0]&2&&(a.path=e[35].path),s[0]&2&&(a.field=e[35]),s[0]&4&&(a.highlightedFields=e[2]),s[0]&8&&(a.alwaysExpand=e[3]),l.$set(a),(!o||s[0]&2)&&J(t,"border-b",e[37]<e[1].length-1),(!o||s[0]&2)&&J(t,"pb-2",e[37]<e[1].length-1)},i(r){o||(w(l.$$.fragment,r),o=!0)},o(r){M(l.$$.fragment,r),o=!1},d(r){r&&c(t),ne(l)}}}function Wi(n){let e,t;return e=new Ql({}),{c(){te(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,i){le(e,l,i),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){M(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Gi(n){let e,t;return e=new Wl({}),{c(){te(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,i){le(e,l,i),t=!0},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){M(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Ht(n){let e,t,l,i,o,r,s;return i=new ln({props:{row:n[4],selectRowsSchema:n[5].data,highlightedFields:n[2]}}),{c(){e=O("div"),t=O("div"),l=O("div"),te(i.$$.fragment),this.h()},l(a){e=D(a,"DIV",{class:!0});var u=g(e);t=D(u,"DIV",{class:!0});var f=g(t);l=D(f,"DIV",{style:!0,class:!0});var h=g(l);oe(i.$$.fragment,h),h.forEach(c),f.forEach(c),u.forEach(c),this.h()},h(){P(l,"style",o=`max-height: ${Math.max(qt,n[8])}px`),P(l,"class","overflow-y-auto"),P(t,"class","sticky top-0 w-full self-start"),P(e,"class","flex h-full bg-neutral-100 md:w-1/3")},m(a,u){R(a,e,u),m(e,t),m(t,l),le(i,l,null),s=!0},p(a,u){n=a;const f={};u[0]&16&&(f.row=n[4]),u[0]&32&&(f.selectRowsSchema=n[5].data),u[0]&4&&(f.highlightedFields=n[2]),i.$set(f),(!s||u[0]&256&&o!==(o=`max-height: ${Math.max(qt,n[8])}px`))&&P(l,"style",o)},i(a){s||(w(i.$$.fragment,a),ll(()=>{s&&(r||(r=ft(e,_t,{axis:"x",duration:We},!0)),r.run(1))}),s=!0)},o(a){M(i.$$.fragment,a),r||(r=ft(e,_t,{axis:"x",duration:We},!1)),r.run(0),s=!1},d(a){a&&c(e),ne(i),a&&r&&r.end()}}}function Xi(n){let e,t,l,i;const o=[Qi,Zi],r=[];function s(a,u){return a[4]==null?0:1}return t=s(n),l=r[t]=o[t](n),{c(){e=O("div"),l.c(),this.h()},l(a){e=D(a,"DIV",{class:!0});var u=g(e);l.l(u),u.forEach(c),this.h()},h(){P(e,"class","flex flex-col rounded border border-neutral-300 md:flex-row")},m(a,u){R(a,e,u),r[t].m(e,null),i=!0},p(a,u){let f=t;t=s(a),t===f?r[t].p(a,u):(de(),M(r[f],1,1,()=>{r[f]=null}),me(),l=r[t],l?l.p(a,u):(l=r[t]=o[t](a),l.c()),w(l,1),l.m(e,null))},i(a){i||(w(l),i=!0)},o(a){M(l),i=!1},d(a){a&&c(e),r[t].d()}}}const qt=165;function Ki(n,e,t){let l,i,o,r,s,a,u,f,h,k,y,j,z,A,C,_=W,T=()=>(_(),_=Oe(a,Z=>t(32,C=Z)),a),V,d=W,S=()=>(d(),d=Oe(z,Z=>t(33,V=Z)),z),b,L=W,q=()=>(L(),L=Oe(f,Z=>t(26,b=Z)),f),Y,v=W,I=()=>(v(),v=Oe(r,Z=>t(27,Y=Z)),r),B,Q=W,re=()=>(Q(),Q=Oe(s,Z=>t(5,B=Z)),s),U,ue;n.$$.on_destroy.push(()=>_()),n.$$.on_destroy.push(()=>d()),n.$$.on_destroy.push(()=>L()),n.$$.on_destroy.push(()=>v()),n.$$.on_destroy.push(()=>Q());let{rowId:ae}=e,{mediaFields:he}=e,{highlightedFields:ie}=e,{alwaysExpand:ee=!1}=e;const p=$e();Ce(n,p,Z=>t(6,U=Z));const E=dl(),N=nl();Ce(n,N,Z=>t(28,ue=Z));let H=new Set,G=0;function fe(Z){const ke={row_ids:[ae],label_name:Z};H.add(Z),t(7,H),t(23,A),t(26,b),V.mutate([l,i,ke],{onSuccess:Ye=>{const Ue=ke.row_ids!=null?`Document id: ${ke.row_ids}`:`${Ye.toLocaleString()} rows labeled`;E.addNotification({kind:"success",title:`Added label "${ke.label_name}"`,message:Ue})}})}function se(Z){const ke={label_name:Z,row_ids:[ae]};H.add(Z),t(7,H),t(23,A),t(26,b),C.mutate([l,i,ke],{onSuccess:()=>{E.addNotification({kind:"success",title:`Removed label "${ke.label_name}"`,message:`Document id: ${ae}`})}})}const ce=Z=>{k.includes(Z)?se(Z):fe(Z)},F=()=>Tl(p,U.showMetadataPanel=!U.showMetadataPanel,U);function pe(){G=this.clientHeight,t(8,G)}return n.$$set=Z=>{"rowId"in Z&&t(0,ae=Z.rowId),"mediaFields"in Z&&t(1,he=Z.mediaFields),"highlightedFields"in Z&&t(2,ie=Z.highlightedFields),"alwaysExpand"in Z&&t(3,ee=Z.alwaysExpand)},n.$$.update=()=>{var Z;n.$$.dirty[0]&64&&t(22,l=U.namespace),n.$$.dirty[0]&64&&t(21,i=U.datasetName),n.$$.dirty[0]&268435456&&t(24,o=(Z=ue.data)==null?void 0:Z.access.dataset.edit_labels),n.$$.dirty[0]&6291456&&I(t(16,r=et(l,i))),n.$$.dirty[0]&6291520&&re(t(15,s=zl(l,i,Nl(U)))),n.$$.dirty[0]&134217728&&T(t(14,a=Y.data!=null?rl(Y.data):null)),n.$$.dirty[0]&64&&t(25,u=Bl(U)),n.$$.dirty[0]&39845921&&q(t(13,f=B.data!=null?Rl(l,i,ae,u,B.data.schema):null)),n.$$.dirty[0]&67108864&&t(4,h=b==null?void 0:b.data),n.$$.dirty[0]&16&&t(12,k=h!=null?jl(h):[]),n.$$.dirty[0]&16777216&&t(11,y=!o),n.$$.dirty[0]&134217728&&t(10,j=Y.data&&al(Y.data)),n.$$.dirty[0]&134217728&&S(t(9,z=Y.data!=null?il(Y.data):null)),n.$$.dirty[0]&67108864&&t(23,A=b==null?void 0:b.isStale),n.$$.dirty[0]&8388608&&(A||t(7,H=new Set))},[ae,he,ie,ee,h,B,U,H,G,z,j,y,k,f,a,s,r,p,N,fe,se,i,l,A,o,u,b,Y,ue,ce,F,pe]}class Er extends ye{constructor(e){super(),Ee(this,e,Ki,Xi,Ie,{rowId:0,mediaFields:1,highlightedFields:2,alwaysExpand:3},null,[-1,-1])}}function Yt(n){let e,t,l;var i=n[2];function o(r){return{}}return i&&(t=je(i,o())),{c(){e=O("div"),t&&te(t.$$.fragment),this.h()},l(r){e=D(r,"DIV",{class:!0});var s=g(e);t&&oe(t.$$.fragment,s),s.forEach(c),this.h()},h(){P(e,"class","mr-2")},m(r,s){R(r,e,s),t&&le(t,e,null),l=!0},p(r,s){if(s&4&&i!==(i=r[2])){if(t){de();const a=t;M(a.$$.fragment,1,0,()=>{ne(a,1)}),me()}i?(t=je(i,o()),te(t.$$.fragment),w(t.$$.fragment,1),le(t,e,null)):t=null}},i(r){l||(t&&w(t.$$.fragment,r),l=!0)},o(r){t&&M(t.$$.fragment,r),l=!1},d(r){r&&c(e),t&&ne(t)}}}function Ji(n){let e,t,l,i,o,r,s,a,u=n[2]!=null&&Yt(n);return{c(){e=O("button"),u&&u.c(),t=X(),l=O("div"),i=x(n[1]),this.h()},l(f){e=D(f,"BUTTON",{class:!0});var h=g(e);u&&u.l(h),t=K(h),l=D(h,"DIV",{class:!0});var k=g(l);i=$(k,n[1]),k.forEach(c),h.forEach(c),this.h()},h(){P(l,"class","text-sm"),P(e,"class","inline-flex items-center rounded-xl px-2 py-1 outline outline-1 outline-gray-500 focus:outline-1 svelte-1tlnk00"),J(e,"active",n[0])},m(f,h){R(f,e,h),u&&u.m(e,null),m(e,t),m(e,l),m(l,i),r=!0,s||(a=[Ae(e,"click",n[4]),Pe(o=Ve.call(null,e,{text:n[3]}))],s=!0)},p(f,[h]){f[2]!=null?u?(u.p(f,h),h&4&&w(u,1)):(u=Yt(f),u.c(),w(u,1),u.m(e,t)):u&&(de(),M(u,1,1,()=>{u=null}),me()),(!r||h&2)&&ge(i,f[1]),o&&ze(o.update)&&h&8&&o.update.call(null,{text:f[3]}),(!r||h&1)&&J(e,"active",f[0])},i(f){r||(w(u),r=!0)},o(f){M(u),r=!1},d(f){f&&c(e),u&&u.d(),s=!1,Be(a)}}}function xi(n,e,t){let{active:l=!1}=e,{label:i}=e,{icon:o=void 0}=e,{tooltip:r=void 0}=e;function s(a){tl.call(this,n,a)}return n.$$set=a=>{"active"in a&&t(0,l=a.active),"label"in a&&t(1,i=a.label),"icon"in a&&t(2,o=a.icon),"tooltip"in a&&t(3,r=a.tooltip)},[l,i,o,r,s]}class Ut extends ye{constructor(e){super(),Ee(this,e,xi,Ji,Ie,{active:0,label:1,icon:2,tooltip:3})}}function Zt(n,e,t){const l=n.slice();return l[32]=e[t],l}function Qt(n,e,t){const l=n.slice();l[35]=e[t],l[41]=t;const i=sl(l[35]);l[36]=i;const o=ul(l[35]);l[37]=o;const r=l[41]===0;l[38]=r;const s=l[41]===l[1].length-1;return l[39]=s,l}function $i(n){let e,t,l,i,o,r,s,a,u,f,h,k,y,j,z,A,C,_,T,V,d,S,b,L,q,Y,v,I,B,Q,re;const U=[lr,tr],ue=[];function ae(p,E){return p[1]!=null&&p[2]!=null?0:1}u=ae(n),f=ue[u]=U[u](n),C=new Ut({props:{icon:vn,label:"Scroll",active:n[5]=="scroll",tooltip:"Infinite scroll with snippets"}}),C.$on("click",n[27]),T=new Ut({props:{icon:mn,label:"Single Item",active:n[5]=="single_item",tooltip:"Individual item"}}),T.$on("click",n[28]);const he=[ar,rr],ie=[];function ee(p,E){return p[8].isFetching?0:1}return B=ee(n),Q=ie[B]=he[B](n),{c(){e=O("div"),t=O("section"),l=O("div"),i=x("Media fields"),o=X(),r=O("div"),s=x(`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),a=X(),f.c(),h=X(),k=O("section"),y=O("div"),j=x("View type"),z=X(),A=O("div"),te(C.$$.fragment),_=X(),te(T.$$.fragment),V=X(),d=O("section"),S=O("div"),b=x("Preferred embedding"),L=X(),q=O("div"),Y=x("This embedding will be used by default when indexing and querying the data."),v=X(),I=O("div"),Q.c(),this.h()},l(p){e=D(p,"DIV",{class:!0});var E=g(e);t=D(E,"SECTION",{class:!0});var N=g(t);l=D(N,"DIV",{class:!0});var H=g(l);i=$(H,"Media fields"),H.forEach(c),o=K(N),r=D(N,"DIV",{class:!0});var G=g(r);s=$(G,`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),G.forEach(c),a=K(N),f.l(N),N.forEach(c),h=K(E),k=D(E,"SECTION",{class:!0});var fe=g(k);y=D(fe,"DIV",{class:!0});var se=g(y);j=$(se,"View type"),se.forEach(c),z=K(fe),A=D(fe,"DIV",{class:!0});var ce=g(A);oe(C.$$.fragment,ce),_=K(ce),oe(T.$$.fragment,ce),ce.forEach(c),fe.forEach(c),V=K(E),d=D(E,"SECTION",{class:!0});var F=g(d);S=D(F,"DIV",{class:!0});var pe=g(S);b=$(pe,"Preferred embedding"),pe.forEach(c),L=K(F),q=D(F,"DIV",{class:!0});var Z=g(q);Y=$(Z,"This embedding will be used by default when indexing and querying the data."),Z.forEach(c),v=K(F),I=D(F,"DIV",{class:!0});var ke=g(I);Q.l(ke),ke.forEach(c),F.forEach(c),E.forEach(c),this.h()},h(){P(l,"class","text-lg text-gray-700"),P(r,"class","text-sm text-gray-500"),P(t,"class","flex flex-col gap-y-4"),P(y,"class","text-lg text-gray-700"),P(A,"class","flex gap-x-2"),P(k,"class","flex flex-col gap-y-1"),P(S,"class","text-lg text-gray-700"),P(q,"class","text-sm text-gray-500"),P(I,"class","w-60"),P(d,"class","flex flex-col gap-y-1"),P(e,"class","flex flex-col gap-y-6")},m(p,E){R(p,e,E),m(e,t),m(t,l),m(l,i),m(t,o),m(t,r),m(r,s),m(t,a),ue[u].m(t,null),m(e,h),m(e,k),m(k,y),m(y,j),m(k,z),m(k,A),le(C,A,null),m(A,_),le(T,A,null),m(e,V),m(e,d),m(d,S),m(S,b),m(d,L),m(d,q),m(q,Y),m(d,v),m(d,I),ie[B].m(I,null),re=!0},p(p,E){let N=u;u=ae(p),u===N?ue[u].p(p,E):(de(),M(ue[N],1,1,()=>{ue[N]=null}),me(),f=ue[u],f?f.p(p,E):(f=ue[u]=U[u](p),f.c()),w(f,1),f.m(t,null));const H={};E[0]&32&&(H.active=p[5]=="scroll"),C.$set(H);const G={};E[0]&32&&(G.active=p[5]=="single_item"),T.$set(G);let fe=B;B=ee(p),B===fe?ie[B].p(p,E):(de(),M(ie[fe],1,1,()=>{ie[fe]=null}),me(),Q=ie[B],Q?Q.p(p,E):(Q=ie[B]=he[B](p),Q.c()),w(Q,1),Q.m(I,null))},i(p){re||(w(f),w(C.$$.fragment,p),w(T.$$.fragment,p),w(Q),re=!0)},o(p){M(f),M(C.$$.fragment,p),M(T.$$.fragment,p),M(Q),re=!1},d(p){p&&c(e),ue[u].d(),ne(C),ne(T),ie[B].d()}}}function er(n){let e,t;return e=new ol({}),{c(){te(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,i){le(e,l,i),t=!0},p:W,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){M(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function tr(n){let e,t;return e=new fl({}),{c(){te(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,i){le(e,l,i),t=!0},p:W,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){M(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function lr(n){let e,t,l,i,o,r,s,a,u,f,h,k,y,j,z,A,C,_,T=n[2]&&Wt(n),V=n[4]&&Kt(n);return{c(){e=O("div"),t=O("div"),l=O("div"),i=O("div"),o=X(),r=O("div"),s=x("Field"),a=X(),u=O("div"),f=x("Markdown"),h=X(),k=O("div"),y=X(),T&&T.c(),j=X(),z=O("div"),V&&V.c(),this.h()},l(d){e=D(d,"DIV",{class:!0});var S=g(e);t=D(S,"DIV",{class:!0});var b=g(t);l=D(b,"DIV",{class:!0});var L=g(l);i=D(L,"DIV",{class:!0}),g(i).forEach(c),o=K(L),r=D(L,"DIV",{class:!0});var q=g(r);s=$(q,"Field"),q.forEach(c),a=K(L),u=D(L,"DIV",{class:!0});var Y=g(u);f=$(Y,"Markdown"),Y.forEach(c),h=K(L),k=D(L,"DIV",{class:!0}),g(k).forEach(c),L.forEach(c),b.forEach(c),y=K(S),T&&T.l(S),S.forEach(c),j=K(d),z=D(d,"DIV",{class:!0});var v=g(z);V&&V.l(v),v.forEach(c),this.h()},h(){P(i,"class","table-cell"),P(r,"class","table-cell"),P(u,"class","table-cell"),P(k,"class","table-cell"),P(l,"class","table-row text-xs text-neutral-600"),P(t,"class","table-header-group items-center"),P(e,"class","table border-spacing-1 gap-y-2"),P(z,"class","h-12")},m(d,S){R(d,e,S),m(e,t),m(t,l),m(l,i),m(l,o),m(l,r),m(r,s),m(l,a),m(l,u),m(u,f),m(l,h),m(l,k),m(e,y),T&&T.m(e,null),R(d,j,S),R(d,z,S),V&&V.m(z,null),A=!0,C||(_=Pe(Ve.call(null,u,{text:"Render media field with a markdown renderer."})),C=!0)},p(d,S){d[2]?T?(T.p(d,S),S[0]&4&&w(T,1)):(T=Wt(d),T.c(),w(T,1),T.m(e,null)):T&&(de(),M(T,1,1,()=>{T=null}),me()),d[4]?V?(V.p(d,S),S[0]&16&&w(V,1)):(V=Kt(d),V.c(),w(V,1),V.m(z,null)):V&&(de(),M(V,1,1,()=>{V=null}),me())},i(d){A||(w(T),w(V),A=!0)},o(d){M(T),M(V),A=!1},d(d){d&&c(e),T&&T.d(),d&&c(j),d&&c(z),V&&V.d(),C=!1,_()}}}function Wt(n){let e,t,l=n[1],i=[];for(let r=0;r<l.length;r+=1)i[r]=Xt(Qt(n,l,r));const o=r=>M(i[r],1,1,()=>{i[r]=null});return{c(){e=O("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=D(r,"DIV",{class:!0});var s=g(e);for(let a=0;a<i.length;a+=1)i[a].l(s);s.forEach(c),this.h()},h(){P(e,"class","table-row-group")},m(r,s){R(r,e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(r,s){if(s[0]&126978){l=r[1];let a;for(a=0;a<l.length;a+=1){const u=Qt(r,l,a);i[a]?(i[a].p(u,s),w(i[a],1)):(i[a]=Xt(u),i[a].c(),w(i[a],1),i[a].m(e,null))}for(de(),a=l.length;a<i.length;a+=1)o(a);me()}},i(r){if(!t){for(let s=0;s<l.length;s+=1)w(i[s]);t=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)M(i[s]);t=!1},d(r){r&&c(e),xe(i,r)}}}function nr(n){let e,t="{}",l;return{c(){e=O("span"),l=x(t),this.h()},l(i){e=D(i,"SPAN",{class:!0});var o=g(e);l=$(o,t),o.forEach(c),this.h()},h(){P(e,"class","font-mono")},m(i,o){R(i,e,o),m(e,l)},p:W,i:W,o:W,d(i){i&&c(e)}}}function ir(n){let e,t,l;var i=ht[n[35].dtype];function o(r){return{props:{title:r[35].dtype}}}return i&&(e=je(i,o(n))),{c(){e&&te(e.$$.fragment),t=we()},l(r){e&&oe(e.$$.fragment,r),t=we()},m(r,s){e&&le(e,r,s),R(r,t,s),l=!0},p(r,s){const a={};if(s[0]&2&&(a.title=r[35].dtype),s[0]&2&&i!==(i=ht[r[35].dtype])){if(e){de();const u=e;M(u.$$.fragment,1,0,()=>{ne(u,1)}),me()}i?(e=je(i,o(r)),te(e.$$.fragment),w(e.$$.fragment,1),le(e,t.parentNode,t)):e=null}else i&&e.$set(a)},i(r){l||(e&&w(e.$$.fragment,r),l=!0)},o(r){e&&M(e.$$.fragment,r),l=!1},d(r){r&&c(t),e&&ne(e,r)}}}function Gt(n){let e;return{c(){e=x("[]")},l(t){e=$(t,"[]")},m(t,l){R(t,e,l)},d(t){t&&c(e)}}}function Xt(n){let e,t,l,i,o,r=n[35].path.indexOf(mt)>=0,s,a,u=Xe(n[35].path)+"",f,h,k,y,j,z,A,C,_,T,V,d,S,b,L,q,Y,v,I,B,Q,re,U;const ue=[ir,nr],ae=[];function he(H,G){return H[35].dtype?0:1}l=he(n),i=ae[l]=ue[l](n);let ie=r&&Gt();function ee(...H){return n[23](n[35],...H)}y=new Yl({props:{class:"mx-auto w-8",size:"sm",hideLabel:!0,labelA:"",labelB:"",toggled:n[15](n[35])}}),y.$on("toggle",ee),T=new en({props:{size:16}});function p(){return n[24](n[35])}b=new tn({props:{size:16}});function E(){return n[25](n[35])}I=new Ul({props:{size:16}});function N(){return n[26](n[35])}return{c(){e=O("div"),t=O("div"),i.c(),o=X(),ie&&ie.c(),s=X(),a=O("div"),f=x(u),h=X(),k=O("div"),te(y.$$.fragment),j=X(),z=O("div"),A=O("div"),C=O("div"),_=O("button"),te(T.$$.fragment),V=X(),d=O("div"),S=O("button"),te(b.$$.fragment),q=X(),Y=O("div"),v=O("button"),te(I.$$.fragment),B=X(),this.h()},l(H){e=D(H,"DIV",{class:!0});var G=g(e);t=D(G,"DIV",{class:!0});var fe=g(t);i.l(fe),o=K(fe),ie&&ie.l(fe),fe.forEach(c),s=K(G),a=D(G,"DIV",{class:!0});var se=g(a);f=$(se,u),se.forEach(c),h=K(G),k=D(G,"DIV",{class:!0});var ce=g(k);oe(y.$$.fragment,ce),ce.forEach(c),j=K(G),z=D(G,"DIV",{class:!0});var F=g(z);A=D(F,"DIV",{class:!0});var pe=g(A);C=D(pe,"DIV",{class:!0});var Z=g(C);_=D(Z,"BUTTON",{});var ke=g(_);oe(T.$$.fragment,ke),ke.forEach(c),Z.forEach(c),V=K(pe),d=D(pe,"DIV",{class:!0});var Ye=g(d);S=D(Ye,"BUTTON",{});var Ue=g(S);oe(b.$$.fragment,Ue),Ue.forEach(c),Ye.forEach(c),q=K(pe),Y=D(pe,"DIV",{class:!0});var st=g(Y);v=D(st,"BUTTON",{});var ut=g(v);oe(I.$$.fragment,ut),ut.forEach(c),st.forEach(c),pe.forEach(c),F.forEach(c),B=K(G),G.forEach(c),this.h()},h(){P(t,"class","table-cell w-12 rounded-md p-0.5 align-middle"),J(t,"bg-blue-200",n[36]),J(t,"bg-teal-100",n[37]),P(a,"class","table-cell w-40 align-middle"),P(k,"class","table-cell w-8 align-middle"),_.disabled=n[38],J(_,"opacity-50",n[38]),P(C,"class","ml-auto align-middle"),S.disabled=L=n[39],J(S,"opacity-50",n[39]),P(d,"class","align-middle"),P(Y,"class","align-middle"),P(A,"class","flex flex-row gap-x-1"),P(z,"class","table-cell"),P(e,"class","table-row h-10")},m(H,G){R(H,e,G),m(e,t),ae[l].m(t,null),m(t,o),ie&&ie.m(t,null),m(e,s),m(e,a),m(a,f),m(e,h),m(e,k),le(y,k,null),m(e,j),m(e,z),m(z,A),m(A,C),m(C,_),le(T,_,null),m(A,V),m(A,d),m(d,S),le(b,S,null),m(A,q),m(A,Y),m(Y,v),le(I,v,null),m(e,B),Q=!0,re||(U=[Ae(_,"click",p),Pe(Ve.call(null,C,{text:"Move media field up"})),Ae(S,"click",E),Pe(Ve.call(null,d,{text:"Move media field down"})),Ae(v,"click",N),Pe(Ve.call(null,Y,{text:"Remove media field"}))],re=!0)},p(H,G){n=H;let fe=l;l=he(n),l===fe?ae[l].p(n,G):(de(),M(ae[fe],1,1,()=>{ae[fe]=null}),me(),i=ae[l],i?i.p(n,G):(i=ae[l]=ue[l](n),i.c()),w(i,1),i.m(t,o)),G[0]&2&&(r=n[35].path.indexOf(mt)>=0),r?ie||(ie=Gt(),ie.c(),ie.m(t,null)):ie&&(ie.d(1),ie=null),(!Q||G[0]&2)&&J(t,"bg-blue-200",n[36]),(!Q||G[0]&2)&&J(t,"bg-teal-100",n[37]),(!Q||G[0]&2)&&u!==(u=Xe(n[35].path)+"")&&ge(f,u);const se={};G[0]&2&&(se.toggled=n[15](n[35])),y.$set(se),(!Q||G[0]&2&&L!==(L=n[39]))&&(S.disabled=L),(!Q||G[0]&2)&&J(S,"opacity-50",n[39])},i(H){Q||(w(i),w(y.$$.fragment,H),w(T.$$.fragment,H),w(b.$$.fragment,H),w(I.$$.fragment,H),Q=!0)},o(H){M(i),M(y.$$.fragment,H),M(T.$$.fragment,H),M(b.$$.fragment,H),M(I.$$.fragment,H),Q=!1},d(H){H&&c(e),ae[l].d(),ie&&ie.d(),ne(y),ne(T),ne(b),ne(I),re=!1,Be(U)}}}function Kt(n){let e,t;return e=new ot({props:{buttonOutline:!0,disabled:n[4].length===0,buttonIcon:on,items:n[4],buttonText:"Add media field",comboBoxPlaceholder:"Add media field"}}),e.$on("select",n[11]),{c(){te(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,i){le(e,l,i),t=!0},p(l,i){const o={};i[0]&16&&(o.disabled=l[4].length===0),i[0]&16&&(o.items=l[4]),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){M(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function rr(n){var l;let e,t;return e=new Zl({props:{selected:((l=n[0])==null?void 0:l.preferred_embedding)||void 0,$$slots:{default:[or]},$$scope:{ctx:n}}}),e.$on("change",n[17]),{c(){te(e.$$.fragment)},l(i){oe(e.$$.fragment,i)},m(i,o){le(e,i,o),t=!0},p(i,o){var s;const r={};o[0]&1&&(r.selected=((s=i[0])==null?void 0:s.preferred_embedding)||void 0),o[0]&256|o[1]&2048&&(r.$$scope={dirty:o,ctx:i}),e.$set(r)},i(i){t||(w(e.$$.fragment,i),t=!0)},o(i){M(e.$$.fragment,i),t=!1},d(i){ne(e,i)}}}function ar(n){let e,t;return e=new fl({}),{c(){te(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,i){le(e,l,i),t=!0},p:W,i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){M(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function Jt(n){let e,t;return e=new cl({props:{value:n[32].name}}),{c(){te(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,i){le(e,l,i),t=!0},p(l,i){const o={};i[0]&256&&(o.value=l[32].name),e.$set(o)},i(l){t||(w(e.$$.fragment,l),t=!0)},o(l){M(e.$$.fragment,l),t=!1},d(l){ne(e,l)}}}function or(n){let e,t,l,i;e=new cl({props:{value:void 0,text:"None"}});let o=n[8].data||[],r=[];for(let a=0;a<o.length;a+=1)r[a]=Jt(Zt(n,o,a));const s=a=>M(r[a],1,1,()=>{r[a]=null});return{c(){te(e.$$.fragment),t=X();for(let a=0;a<r.length;a+=1)r[a].c();l=we()},l(a){oe(e.$$.fragment,a),t=K(a);for(let u=0;u<r.length;u+=1)r[u].l(a);l=we()},m(a,u){le(e,a,u),R(a,t,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(a,u);R(a,l,u),i=!0},p(a,u){if(u[0]&256){o=a[8].data||[];let f;for(f=0;f<o.length;f+=1){const h=Zt(a,o,f);r[f]?(r[f].p(h,u),w(r[f],1)):(r[f]=Jt(h),r[f].c(),w(r[f],1),r[f].m(l.parentNode,l))}for(de(),f=o.length;f<r.length;f+=1)s(f);me()}},i(a){if(!i){w(e.$$.fragment,a);for(let u=0;u<o.length;u+=1)w(r[u]);i=!0}},o(a){M(e.$$.fragment,a),r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)M(r[u]);i=!1},d(a){ne(e,a),a&&c(t),xe(r,a),a&&c(l)}}}function sr(n){let e,t,l,i;const o=[er,$i],r=[];function s(a,u){return a[3].isFetching?0:1}return e=s(n),t=r[e]=o[e](n),{c(){t.c(),l=we()},l(a){t.l(a),l=we()},m(a,u){r[e].m(a,u),R(a,l,u),i=!0},p(a,u){let f=e;e=s(a),e===f?r[e].p(a,u):(de(),M(r[f],1,1,()=>{r[f]=null}),me(),t=r[e],t?t.p(a,u):(t=r[e]=o[e](a),t.c()),w(t,1),t.m(l.parentNode,l))},i(a){i||(w(t),i=!0)},o(a){M(t),i=!1},d(a){r[e].d(a),a&&c(l)}}}function ur(n,e,t){let l,i,o,r,s,a,u=W,f=()=>(u(),u=Oe(i,E=>t(3,a=E)),i),h,k=W,y=()=>(k(),k=Oe(l,E=>t(22,h=E)),l),j,z;n.$$.on_destroy.push(()=>u()),n.$$.on_destroy.push(()=>k());let{namespace:A}=e,{datasetName:C}=e,{settings:_=void 0}=e;const T=Fl();Ce(n,T,E=>t(8,z=E));const V=ml();Ce(n,V,E=>t(29,j=E));let d=null,S=null,b=j.embedding;function L(E){const N=E.detail.id;d==null||d.includes(N)||t(1,d=[...d,N])}function q(E){d!=null&&t(1,d=d==null?void 0:d.filter(N=>N!==E))}function Y(E){if(d==null||(_==null?void 0:_.ui)==null)return;const N=d.indexOf(E);N<=0||t(1,d=[...d.slice(0,N-1),E,d[N-1],...d.slice(N+1)])}function v(E){if(d==null||(_==null?void 0:_.ui)==null)return;const N=d.indexOf(E);N<0||N>=d.length-1||t(1,d=[...d.slice(0,N),d[N+1],E,...d.slice(N+2)])}function I(E){return S==null?void 0:S.includes(E)}function B(E,N){E.detail.toggled?Q(N):re(N)}function Q(E){S==null||S.includes(E)||t(20,S=[...S,E])}function re(E){S!=null&&t(20,S=S.filter(N=>N!==E))}function U(E){const N=E.target.value;t(21,b=N),b===""&&t(21,b=void 0)}const ue=(E,N)=>B(N,E),ae=E=>Y(E),he=E=>v(E),ie=E=>q(E),ee=()=>{(_==null?void 0:_.ui)!=null&&t(0,_.ui.view_type="scroll",_)},p=()=>{(_==null?void 0:_.ui)!=null&&t(0,_.ui.view_type="single_item",_)};return n.$$set=E=>{"namespace"in E&&t(18,A=E.namespace),"datasetName"in E&&t(19,C=E.datasetName),"settings"in E&&t(0,_=E.settings)},n.$$.update=()=>{var E,N,H,G,fe;if(n.$$.dirty[0]&786432&&y(t(7,l=et(A,C))),n.$$.dirty[0]&786432&&f(t(6,i=at(A,C))),n.$$.dirty[0]&9&&_==null&&!a.isFetching&&t(0,_=a.data),n.$$.dirty[0]&8&&a.isFetching&&(t(1,d=null),t(20,S=null)),n.$$.dirty[0]&4194304&&t(2,r=h.data!=null?Hl(h.data).filter(se=>se.dtype==="string"&&!Re(se.path,[ql])&&!sl(se)&&!ul(se)):null),n.$$.dirty[0]&14&&d==null&&r!=null&&((N=(E=a.data)==null?void 0:E.ui)==null?void 0:N.media_paths)!=null){const se=a.data.ui.media_paths.map(ce=>Array.isArray(ce)?ce:[ce]);t(1,d=r.filter(ce=>se.some(F=>Re(ce.path,F))))}if(n.$$.dirty[0]&1048588&&S==null&&r!=null&&((G=(H=a.data)==null?void 0:H.ui)==null?void 0:G.markdown_paths)!=null){const se=a.data.ui.markdown_paths.map(ce=>Array.isArray(ce)?ce:[ce]);t(20,S=r.filter(ce=>se.some(F=>Re(ce.path,F))))}n.$$.dirty[0]&1048579&&(_==null?void 0:_.ui)!=null&&(t(0,_.ui.media_paths=d==null?void 0:d.map(se=>se.path),_),t(0,_.ui.markdown_paths=S==null?void 0:S.map(se=>se.path),_)),n.$$.dirty[0]&2097153&&_!=null&&_.preferred_embedding==null&&t(0,_.preferred_embedding=b,_),n.$$.dirty[0]&1&&t(5,o=((fe=_==null?void 0:_.ui)==null?void 0:fe.view_type)||"scroll"),n.$$.dirty[0]&6&&t(4,s=r!=null?r.filter(se=>!(d!=null&&d.includes(se))).map(se=>{const ce=Xe(se.path);return{id:se,text:ce}}):null)},[_,d,r,a,s,o,i,l,z,T,V,L,q,Y,v,I,B,U,A,C,S,b,h,ue,ae,he,ie,ee,p]}class Ir extends ye{constructor(e){super(),Ee(this,e,ur,sr,Ie,{namespace:18,datasetName:19,settings:0},null,[-1,-1])}}export{on as A,Ir as D,Fn as E,Er as R,_l as T};
