Metadata-Version: 2.1
Name: i18nconverter
Version: 0.0.2
Summary: A CLI application for managing i18n Json files.
Author-email: Andrea Carmisciano <andrea.carmisciano@gmail.com>
Project-URL: Homepage, https://github.com/acarmisc/i18n-json-spreadsheet
Project-URL: Source, https://github.com/acarmisc/i18n-json-spreadsheet
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: cachetools ==5.3.2
Requires-Dist: certifi ==2023.7.22
Requires-Dist: charset-normalizer ==3.3.2
Requires-Dist: click ==8.1.7
Requires-Dist: google-auth ==2.23.4
Requires-Dist: google-auth-oauthlib ==1.1.0
Requires-Dist: gspread ==5.12.0
Requires-Dist: idna ==3.4
Requires-Dist: oauthlib ==3.2.2
Requires-Dist: pyasn1 ==0.5.0
Requires-Dist: pyasn1-modules ==0.3.0
Requires-Dist: requests ==2.31.0
Requires-Dist: requests-oauthlib ==1.3.1
Requires-Dist: rsa ==4.9
Requires-Dist: urllib3 ==1.26.15

# i18n-json-spreadsheet

Lazy i18n json to spreadsheet and back tool. 

The aim of this utility is to help the management of JSON translations 
file used for example in JS frontends to handle locales.

Usually we can have key/value items nested in some way like the following:

```json
{
  "hello": "ciao",
  "how_are_you": "come stai",
  "component_a": {
    "my_name_is": "il mio nome √©"
  }
}
```

To avoid editors to edit JSON files directly, ofted in git repos, the idea is 
to create/update online spreadsheet on Google Docs and maybe Microsoft Office 365.

## Installation

### PIP 

The package is available on [Pypi](https://pypi.org/project/i18nconverter/). To install locally on a virtual env or globally execute a standard package installation: 

```bash
‚ùØ pip install i18nconverter
```

## How to

This tool is intended to be used as CLI tool. 


### Get Help

```bash
‚ùØ i18nconverter --help
Usage: i18nconverter [OPTIONS] COMMAND [ARGS]...

Options:
  --auth TEXT  Service Account JSON file path
  --silent     Silent mode: questions to user will be skipped (ignored for
               setup)
  --help       Show this message and exit.

Commands:
  init
  togdoc
  tojson
  tokv
```

### Create local permantent config file

To simplify the frequent usage we support a local configuration file that will be searched *only in the current directory*.

```bash
 ‚ùØ i18nconverter init
üìù Creating local configuration...
‚Ü≥ GCP Service Account JSON file location? : /tmp/my-sa-file.json
‚Ü≥ Google Spreadsheet link? : https://docs.google.com/spreadsheets/d/ffa9a9f99f
‚Ü≥ How do you manage locale codes?
   ‚Ü≥ [1] in different files
   ‚Ü≥ [2] on the first level of JSON
 [1]: 1


üéâ  Configuration file created .i18nconverter.json
```

As you can see a file in the same directory called `.i18nconverter.json` will be created and you can skip setting SA file path and source/target spreadsheet link on each command.

### Json To Google Spreadsheet

```bash
‚ùØ i18nconverter togdoc --help
Usage: i18nconverter togdoc [OPTIONS]

Options:
  -i, --infile TEXT               JSON input file
  -ol, --outlink TEXT             Destination link for Google Spreadsheet
  -s, --sheet TEXT                Destination sheet in Google Spreadsheet
  -o, --overwrite                 Clear worksheet before writing values
  --create-sheet / --no-create-sheet
                                  Create new sheet with given name if it not
                                  exists
  --help                          Show this message and exit.
```

### Google Spreadsheet to Json file

```bash
‚ùØ i18nconverter tojson --help
Usage: i18nconverter tojson [OPTIONS]

Options:
  -o, --outfile TEXT  JSON output file
  -il, --inlink TEXT  Source link for Google Spreadsheet
  --start-cell TEXT   Start reading from this cell coordinates
  -s, --sheet TEXT    Source sheet in Google Spreadsheet
  --help              Show this message and exit.
```

### Compare Json file and Google Spreadsheet

```bash
‚ùØ i18nconverter compare --help
Usage: i18nconverter compare [OPTIONS]

Options:
  -f, --file TEXT       JSON file for comparison  [required]
  -l, --link TEXT       Link to Google Spreadsheet
  -s, --sheet TEXT      Source sheet in Google Spreadsheet
  -c, --column INTEGER  Colum to read in Google Spreadsheet
  --help                Show this message and exit.
```

The response will show two csv with differences:

```bash
‚ùØ i18nconverter compare -f /tmp/somefile.json
Keys present in Google Spreadsheet and not present in JSON: 
actions.addedaaa
Keys present in JSON and not present in Google Spreadsheet: 
actions.added
```
