$def with (project, repo)
$var breadcrumbs = ("projects", "Projects", project, (None, ["u-ragt.ag-change-of"], f"<b>{project}</b>"))
$var title: Commit Log
$var title_classes = ["p-name"]
$var article_classes = ["h-feed"]

$for commit_id, commit in repo.log().items():
    $ title, _, description = commit["message"].partition("\n\n")
    $ ts = commit["timestamp"]
    <div class=h-entry>
    <code><a href=/projects/$project/commits/$commit_id>$commit_id[:7]</a></code>
    <span class=p-name>$title</span>
    <small><time class=dt-published
      datetime=$ts.isoformat()>$ts.diff_for_humans()</time></small>
    </div>
