"use strict";(self.webpackChunkpromptmanager=self.webpackChunkpromptmanager||[]).push([[1244],{10752:function(e,n,t){t.d(n,{Z:function(){return U}});var r=t(45987),a=t(1413),i=t(29439),o=t(25525),u=t(61979),c=t(44507),l=t(19530),s=t(68096),d=t(47071),p=t(49900),f=t(90493),v=t(15021),m=t(20653),h=t(81918),g=t(42763),Z=t(27888),y=t(72791),x=t(73633),b=t(84648),w=t(48550),k=t(80184);function j(e){var n,t,r,o,u,c=(0,y.useState)(e.value||(null===e||void 0===e||null===(n=e.schema)||void 0===n?void 0:n.default)||""),l=(0,i.Z)(c,2),s=l[0],d=l[1],p=(0,y.useState)(((null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.enumOptions)||(null===e||void 0===e||null===(r=e.uiSchema)||void 0===r||null===(o=r["ui:options"])||void 0===o?void 0:o.enumOptions)||[]).map((function(e){return e.value}))),f=(0,i.Z)(p,2),v=f[0],m=f[1];return(0,y.useEffect)((function(){d(e.value)}),[e.value]),(0,k.jsx)(b.Z,{options:v,noOptionsText:"Enter to create a new option",getOptionLabel:function(e){return e},defaultValue:e.value||(null===e||void 0===e||null===(u=e.schema)||void 0===u?void 0:u.default)||v[0]||"",onInputChange:function(e,n){d(n)},renderInput:function(e){return(0,k.jsx)(w.Z,(0,a.Z)((0,a.Z)({},e),{},{label:"Select",variant:"standard",onKeyDown:function(e){"Enter"===e.key&&-1===v.findIndex((function(e){return e===s}))&&m((function(e){return e.concat(s)}))}}))},onChange:function(n,t){e.onChange(t)}})}var S=t(75330),C=t(12705);var _=function(e){var n=(0,S.sJ)(C.rN);return(0,k.jsx)(s.Z,{fullWidth:!0,children:(0,k.jsx)(b.Z,{id:"connection-selector",options:n,getOptionLabel:function(e){var t=n.find((function(n){return n.id===e}));return t?t.name:e.name?e.name:e},isOptionEqualToValue:function(e,n){return e&&n&&(e.id===n.id||e.id===n)},value:e.value,renderInput:function(e){return(0,k.jsx)(w.Z,(0,a.Z)((0,a.Z)({},e),{},{variant:"outlined",label:"Connections",placeholder:"Connections"}))},onChange:function(n,t){e.onChange(null===t||void 0===t?void 0:t.id)}})})},T=t(39585),D=t(78535),O=["schema","uiSchema","formData","onChange","submitBtn","theme","validator","templates","widgets"],F=(0,u.Z)({spacing:2,typography:{fontSize:12},palette:{slider:{main:"#97afcf"}},components:{MuiTextField:{defaultProps:{variant:"outlined"},styleOverrides:{root:{"& .MuiOutlinedInput-root":{"& > fieldset":{border:"1px solid rgb(204, 204, 204)"}}}}},MuiInputBase:{defaultProps:{autoComplete:"off"},styleOverrides:{"& textarea":{border:"1px solid #ced4da"}}},MuiPaper:{styleOverrides:{root:{textAlign:"left","& .MuiTypography-root.MuiTypography-h5":{fontSize:"0.9rem",fontFamily:"Lato"},"& .MuiTypography-root.MuiTypography-subtitle2":{fontFamily:"Lato",color:"#666666",fontSize:"0.75rem"}}}},MuiSlider:{defaultProps:{size:"small",color:"slider"}},MuiSelect:{styleOverrides:{select:{textAlign:"left"}}},MuiFormControl:{styleOverrides:{root:{padding:"2px","& .MuiFormHelperText-root":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"block",textAlign:"left",margin:"2px"},"& .MuiFormHelperText-root.Mui-focused":{display:"block",overflow:"visible",textOverflow:"visible",whiteSpace:"normal"},"& .MuiFormControl-root:has(.MuiSlider-root) label":{fontSize:"0.75rem",textAlign:"start"}}}}}});function M(e){var n=e.id,t=e.children,r=e.classNames,a=e.style,o=e.disabled,u=e.displayLabel,c=e.hidden,p=e.label,f=e.onDropPropertyClick,v=e.onKeyChange,m=e.readonly,h=e.required,g=e.rawErrors,Z=void 0===g?[]:g,x=e.errors,b=e.help,w=e.rawDescription,j=e.schema,S=e.uiSchema,C=e.registry,_=(0,y.useState)(!1),T=(0,i.Z)(_,2),D=T[0],O=T[1],F=(0,l.LI)(S),M=(0,l.t4)("WrapIfAdditionalTemplate",C,F);return c?(0,k.jsx)("div",{style:{display:"none"},children:t}):(0,k.jsx)(M,{classNames:r,style:a,disabled:o,id:n,label:p,onDropPropertyClick:f,onKeyChange:v,readonly:m,required:h,schema:j,uiSchema:S,registry:C,children:(0,k.jsxs)(s.Z,{fullWidth:!0,error:!!Z.length,required:h,onFocus:function(e){O(!0)},onBlur:function(e){O(!1)},children:[t,u&&w?(0,k.jsx)(d.Z,{id:n,focused:D,children:w}):null,x,b]})})}function I(e){var n=e.options,t=e.registry,r=(0,l.t4)("BaseInputTemplate",t,n),i=5;return"string"!==typeof n.rows&&"number"!==typeof n.rows||(i=n.rows),(0,k.jsx)(r,(0,a.Z)((0,a.Z)({sx:{"& .MuiOutlinedInput-root":{"& > fieldset":{border:"1px solid rgb(204, 204, 204)"}}}},e),{},{multiline:!0,rows:i,variant:"outlined"}))}function A(e){return(0,k.jsx)(j,(0,a.Z)({},e))}function P(e){return(0,k.jsx)(T.Z,(0,a.Z)({},e))}function L(e){var n=e.chat_message;if(n.content)return(0,k.jsx)(p.Z,{primary:n.content});if(n.function_call){var t=n.function_call.name,r=JSON.parse(n.function_call.arguments),a=Object.keys(r).map((function(e){return"".concat(e,'="').concat(r[e],'"')})).join(",");return(0,k.jsx)("div",{children:(0,k.jsx)(p.Z,{primary:"Function",secondary:"".concat(t,"(").concat(a,")")})})}return null}var N=function(e){var n=e.value||[],t=0;return"string"===typeof n&&(n=[{content:n}]),(0,k.jsx)(f.Z,{className:"output-chat",style:{paddingTop:0},children:n.map((function(e){return(0,k.jsxs)(v.ZP,{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"10px",background:"rgb(255, 250, 236)",border:"1px solid rgb(235, 230, 236)",borderRadius:10},children:[(0,k.jsx)(m.Z,{children:(0,k.jsx)(h.Z,{color:"primary",label:e.role||"System"})}),(0,k.jsx)(L,{chat_message:e})]},t++)}))})},R=function(e){var n=e.value||[],t=0;return(0,k.jsx)(f.Z,{className:"output-text",style:{paddingTop:0},children:n.map((function(e){return(0,k.jsx)(v.ZP,{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"10px",background:"rgb(255, 250, 236)",border:"1px solid rgb(235, 230, 236)",borderRadius:10},children:(0,k.jsx)(p.Z,{primary:e})},t++)}))})},E=function(e){var n=0;return(0,k.jsx)(g.Z,{className:"output-image",cols:2,gap:8,children:e.value.map((function(e){return(0,k.jsx)(Z.Z,{children:(0,k.jsx)("img",{src:"".concat(e),loading:"lazy",alt:""})},n++)}))})},z=function(e){return(0,k.jsx)("audio",{src:e.value,controls:!0})},U=function(e){var n=e.schema,t=e.uiSchema,i=e.formData,u=e.onChange,l=e.submitBtn,s=void 0===l?(0,k.jsx)("div",{}):l,d=e.theme,p=void 0===d?F:d,f=e.validator,v=e.templates,m=void 0===v?{}:v,h=e.widgets,g=void 0===h?{datasource:function(e){return(0,k.jsx)(x.a,(0,a.Z)({multiple:!0},e))},output_chat:N,output_text:R,output_image:E,output_audio:z}:h,Z=(0,r.Z)(e,O);return(0,k.jsx)(c.Z,{theme:p,children:(0,k.jsx)(o.ZP,(0,a.Z)((0,a.Z)({},Z),{},{schema:n,uiSchema:t,validator:f,formData:i,onChange:u,templates:(0,a.Z)((0,a.Z)({},m),{},{FieldTemplate:M}),widgets:(0,a.Z)((0,a.Z)({},{customselect:A,TextareaWidget:I,FileWidget:P,datasource:function(e){return(0,k.jsx)(x.a,(0,a.Z)({multiple:!0},e))},password:function(e){return(0,k.jsx)(D.Z,(0,a.Z)({},e))},connection:function(e){return(0,k.jsx)(_,(0,a.Z)({},e))}}),g),children:s}))})}},40406:function(e,n,t){t.d(n,{P:function(){return H}});var r=t(93433),a=t(29439),i=t(1413),o=t(72791),u=t(5574),c=t(65661),l=t(39157),s=t(36314),d=t(48550),p=t(2199),f=t(24518),v=t(97123),m=t(75330),h=t(12705),g=t(7077),Z=t(81156),y=t(10752),x=t(52803),b=t(81918),w=t(19530),k=t(39709),j=t(80184),S=["https://www.googleapis.com/auth/drive.readonly","https://www.googleapis.com/auth/drive.readonly.metadata"],C="",_="",T="",D={marginTop:4};function O(e){return e.filter((function(e){return e})).map((function(e){var n=(0,w.OP)(e),t=n.blob;return{dataURL:e,name:n.name,size:t.size,type:t.type}}))}function F(e){return new Promise((function(n,t){if(window.gapi&&window.gapi.client.drive){var r={"application/vnd.google-apps.document":"application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.google-apps.spreadsheet":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.google-apps.presentation":"application/vnd.openxmlformats-officedocument.presentationml.presentation"},a=r.hasOwnProperty(e.mimeType),i=a?r[e.mimeType]:null;(a?window.gapi.client.drive.files.export({fileId:e.id,mimeType:i}):window.gapi.client.drive.files.get({fileId:e.id,alt:"media"})).then((function(t){var r=a?i:e.mimeType;n({dataURL:"data:".concat(r,";name=").concat(encodeURIComponent(e.name),";base64,")+window.btoa(t.body),name:e.name,size:t.body.length,type:e.mimeType})})).catch((function(e){console.error("Error loading the file:",e),t(e)}))}else t(new Error("Google Drive API is not ready"))}))}function M(e){var n=e.multiple,t=e.onChange,i=e.value,u=(0,o.useState)(null),c=(0,a.Z)(u,2),l=c[0],d=c[1],p=(0,o.useState)(null),v=(0,a.Z)(p,2),m=v[0],h=v[1],g=(0,o.useState)(!1),Z=(0,a.Z)(g,2),y=Z[0],x=Z[1],w=(0,o.useMemo)((function(){return Array.isArray(i)?O(i):O([i])}),[i]),M=(0,o.useState)(w),I=(0,a.Z)(M,2),A=I[0],P=I[1];(0,o.useEffect)((function(){if(window.gapi&&(window.gapi.load("picker"),window.gapi.load("client",(function(){window.gapi.client.setApiKey(_),window.gapi.client.load("drive","v3")}))),window.google&&!m){var e=window.google.accounts.oauth2.initTokenClient({client_id:C,scope:S.join(" "),callback:function(e){d(e.access_token)}});h(e)}}),[m]);var L=function(n){var r;n.action===window.google.picker.Action.PICKED&&(x(!0),(r=n[window.google.picker.Response.DOCUMENTS],Promise.all(Array.from(r).map(F))).then((function(n){var r,a;P(n),x(!1);var i=n.map((function(e){return e.dataURL}));null!==e&&void 0!==e&&null!==(r=e.schema)&&void 0!==r&&r.multiple||(null===e||void 0===e||null===(a=e.schema)||void 0===a?void 0:a.maxFiles)>1?t(i):t(i[0])})))},N=A.map((function(e,a){return(0,j.jsx)(b.Z,{label:e.name,onDelete:function(){return function(e){var a=(0,r.Z)(A);a.splice(e,1),P(a);var i=a.map((function(e){return e.dataURL}));t(n?i:i[0])}(a)}},a)}));return(0,j.jsxs)("div",{className:"container",children:[(0,j.jsx)("label",{style:{display:"flex"},children:e.label}),(0,j.jsx)("p",{}),(0,j.jsxs)(s.Z,{spacing:2,sx:{alignItems:"center",justifyContent:"center"},children:[l&&(0,j.jsx)(k.Z,{variant:"outlined",onClick:function(){return function(){if(l){var n,t=new window.google.picker.View(window.google.picker.ViewId.DOCS);null!==(n=e.schema)&&void 0!==n&&n.accepts&&t.setMimeTypes(Object.keys(e.schema.accepts).join(",")),(new window.google.picker.PickerBuilder).enableFeature(window.google.picker.Feature.NAV_HIDDEN).setDeveloperKey(_).setAppId(T).setOAuthToken(l).addView(t).setCallback(L).build().setVisible(!0)}}()},disabled:y,loading:y,children:"Choose File"}),l&&(0,j.jsx)(k.Z,{variant:"outlined",onClick:function(){l&&window.google.accounts.oauth2.revoke(l,(function(){d(null)}))},size:"small",disabled:y,loading:y,children:"SignOut"}),!l&&(0,j.jsx)(f.Z,{variant:"outlined",onClick:function(){return function(){if(!m){var e=window.google.accounts.oauth2.initTokenClient({client_id:C,scope:S,callback:function(e){d(e.access_token)}});h(e)}m&&m.requestAccessToken({prompt:""})}()},children:"Login to Google"}),N&&(0,j.jsx)("aside",{style:D,children:N})]})]})}var I=t(63466),A=t(57482),P=t(90493),L=t(15021),N=t(13400),R=t(49900),E=t(50686),z=t(27247);function U(e){var n=e.onChange,t=e.value,i=e.schema,u=(0,o.useState)(null),c=(0,a.Z)(u,2),l=c[0],p=c[1],f=(0,o.useState)(t?t.split(","):null),v=(0,a.Z)(f,2),m=v[0],h=v[1],Z=(0,o.useState)(!1),y=(0,a.Z)(Z,2),x=y[0],b=y[1],w=(0,o.useState)(null),S=(0,a.Z)(w,2),C=S[0],_=S[1];(0,o.useEffect)((function(){if(null!==m||null!==l){var e=m?m.join(","):l;n(e),e.length>i.maxLength&&_("Too many URLs"),e.length<i.maxLength&&_(null)}}),[m,n,i.maxLength,l]);return(0,j.jsxs)("div",{className:"container",children:[(0,j.jsx)("label",{style:{display:"flex"},children:e.label}),(0,j.jsx)("p",{}),(0,j.jsxs)(s.Z,{spacing:2,sx:{},children:[(0,j.jsx)(d.Z,{disabled:x,onChange:function(e){return p(e.target.value)},InputProps:{endAdornment:(0,j.jsx)(I.Z,{position:"end",children:(0,j.jsx)(k.Z,{onClick:function(){var e=l;h(null),b(!0),(0,g.o)().post("/api/datasources/url/extract_urls",{url:e}).then((function(n){h(n.data.urls||[e]),b(!1)})).catch((function(n){h([e]),b(!1)}))},isLoading:x,disabled:x,children:(0,j.jsx)(E.Z,{})})})}}),x&&(0,j.jsx)(A.Z,{}),m&&m.length>0&&(0,j.jsxs)("div",{children:[(0,j.jsx)(P.Z,{dense:!0,sx:{maxHeight:"200px",overflowY:"scroll",border:C?"1px solid red":null},children:m.map((function(e,n){return(0,j.jsx)(L.ZP,{secondaryAction:(0,j.jsx)(N.Z,{onClick:function(){var e=(0,r.Z)(m);e.splice(n,1),h(e)},children:(0,j.jsx)(z.Z,{})}),children:(0,j.jsx)(R.Z,{primary:(0,j.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",children:e})})},n)}))}),C&&(0,j.jsx)("p",{style:{color:"red"},children:C})]})]})]})}var V=t(35552);function B(e){return(0,j.jsx)(M,(0,i.Z)({},e))}function W(e){return(0,j.jsx)(U,(0,i.Z)({},e))}function H(e){var n=e.open,t=e.handleCancelCb,b=e.dataSourceAddedCb,w=e.modalTitle,k=void 0===w?"Add New Data Source":w,S=e.datasource,C=void 0===S?null:S,_=(0,m.sJ)(h.TF),T=(0,o.useState)(null!==C&&void 0!==C&&C.name?C.name:""),D=(0,a.Z)(T,2),O=D[0],F=D[1],M=(0,o.useState)(!1),I=(0,a.Z)(M,2),A=I[0],P=I[1],L=(0,m.FV)(h.NM),N=(0,a.Z)(L,2),R=N[0],E=N[1],z=(0,o.useState)(null!==C&&void 0!==C&&C.type?C.type:null===_||void 0===_?void 0:_[0]),U=(0,a.Z)(z,2),H=U[0],K=U[1],q=(0,o.useState)({}),G=(0,a.Z)(q,2),J=G[0],Y=G[1],Q=(0,x.lD)();return(0,j.jsxs)(u.Z,{open:n,onClose:t,children:[(0,j.jsx)(c.Z,{children:k}),(0,j.jsx)(l.Z,{children:(0,j.jsxs)(s.Z,{spacing:2,children:[(0,j.jsx)(d.Z,{label:"Data Source Name",value:O,onChange:function(e){return F(e.target.value)},disabled:!!C,required:!0,defaultValue:(null===C||void 0===C?void 0:C.name)||"Untitled",size:"small",style:{width:"100%",marginTop:"6px"},error:A}),(0,j.jsx)("span",{children:"Data Source Type"}),(0,j.jsx)(p.Z,{variant:"outlined",size:"small",style:{display:"inline-block"},disabled:!!C,children:_.map((function(e){return(0,j.jsx)(f.Z,{variant:(null===H||void 0===H?void 0:H.id)===e.id?"contained":"outlined",onClick:function(n){K(e)},children:e.name},e.id)}))}),(0,j.jsx)(y.Z,{schema:(null===H||void 0===H?void 0:H.entry_config_schema)||{},validator:Z.ZP,uiSchema:(0,i.Z)((0,i.Z)({},(null===H||void 0===H?void 0:H.entry_config_ui_schema)||{}),{"ui:submitButtonOptions":{norender:!0},"ui:DescriptionFieldTemplate":function(){return null},"ui:TitleFieldTemplate":function(){return null}}),widgets:{gdrive:B,webpageurls:W},formData:J,onChange:function(e){var n=e.formData;Y(n)}})]})}),(0,j.jsxs)(v.Z,{children:[(0,j.jsx)(f.Z,{onClick:t,children:"Cancel"}),",",(0,j.jsx)(f.Z,{variant:"contained",onClick:function(){if(C)(0,g.o)().post("/api/datasources/".concat(C.uuid,"/add_entry"),{entry_data:J}).then((function(){Q()})),t(),(0,V.yv)("Processing Data, please refresh the page in a few minutes",{variant:"success"});else{if(""===O)return void P(!0);(0,g.o)().post("/api/datasources",{name:O,type:H.id,config:H.is_external_datasource?J:{}}).then((function(e){if(!H.is_external_datasource){var n=e.data;E([].concat((0,r.Z)(R),[n])),(0,g.o)().post("/api/datasources/".concat(n.uuid,"/add_entry"),{entry_data:J}).then((function(e){b(n)}))}})),t(),(0,V.yv)("Processing Data, please refresh the page in a few minutes",{variant:"success"})}},children:"Submit"})]})]})}},73633:function(e,n,t){t.d(n,{a:function(){return m}});var r=t(1413),a=t(93433),i=t(29439),o=t(72791),u=t(75330),c=t(12705),l=t(88141),s=t(40406),d=t(84648),p=t(48550),f=t(68096),v=t(80184);function m(e){var n=(0,u.sJ)(c.NM),t=(0,u.sJ)(c.c5),m=(0,o.useState)(!1),h=(0,i.Z)(m,2),g=h[0],Z=h[1],y=n.concat(t.filter((function(e){return!n.some((function(n){return n.uuid===e.uuid}))})));return(0,v.jsxs)(f.Z,{fullWidth:!0,children:[(0,v.jsx)(d.Z,{multiple:void 0===e.multiple||e.multiple,id:"datasource-selector",options:(0,a.Z)(y),getOptionLabel:function(e){var n=y.find((function(n){return n.uuid===e}));return n?n.name:e.name?e.name:e},isOptionEqualToValue:function(e,n){return e.uuid===n.uuid||e.uuid===n},value:e.value?"string"===typeof e.value&&e.multiple?[e.value]:e.value:[],renderInput:function(e){return(0,v.jsx)(p.Z,(0,r.Z)((0,r.Z)({},e),{},{variant:"standard",label:"Data Sources",placeholder:"Data Sources"}))},onChange:function(n,t){Array.isArray(t)?e.onChange(t.map((function(e){return(null===e||void 0===e?void 0:e.uuid)||e}))):e.multiple?e.onChange([(null===t||void 0===t?void 0:t.uuid)||t]):e.onChange((null===t||void 0===t?void 0:t.uuid)||t)}}),(0,v.jsx)("button",{onClick:function(){return Z(!0)},style:{backgroundColor:"#6287ac",color:"#fed766"},children:(0,v.jsx)(l.Z,{})}),(0,v.jsx)(s.P,{open:g,handleCancelCb:function(){return Z(!1)},dataSourceAddedCb:function(n){return e.onChange(n.uuid)}})]})}},39585:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(1413),a=t(93433),i=t(29439),o=t(72791),u=t(18267),c=t(19530),l=t(81918),s=t(82773),d=t(80184),p={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},f={borderColor:"#2196f3"},v={borderColor:"#00e676"},m={borderColor:"#ff1744"},h={marginTop:4};function g(e,n){return null===e?null:e.replace(";base64",";name=".concat(encodeURIComponent(n),";base64"))}function Z(e){var n=e.name,t=e.size,r=e.type;return new Promise((function(a,i){var o=new window.FileReader;o.onerror=i,o.onload=function(e){var i;"string"===typeof(null===(i=e.target)||void 0===i?void 0:i.result)?a({dataURL:g(e.target.result,n),name:n,size:t,type:r}):a({dataURL:null,name:n,size:t,type:r})},o.readAsDataURL(e)}))}function y(e){return e.filter((function(e){return e})).map((function(e){var n=(0,c.OP)(e),t=n.blob;return{dataURL:e,name:n.name,size:t.size,type:t.type}}))}function x(e){var n,t,c=e.multiple,g=e.onChange,x=e.value,b=(0,o.useMemo)((function(){return Array.isArray(x)?y(x):y([x])}),[x]),w=(0,o.useState)(b),k=(0,i.Z)(w,2),j=k[0],S=k[1],C=j.map((function(e,n){return(0,d.jsx)(l.Z,{label:e.name,onDelete:function(){return _(n)}},n)})),_=function(e){var n=(0,a.Z)(j);n.splice(e,1),S(n);var t=n.map((function(e){return e.dataURL}));g(c?t:t[0])},T=(0,u.uI)({accept:(null===(n=e.schema)||void 0===n?void 0:n.accepts)||{},onDrop:function(n){var t;(t=n,Promise.all(Array.from(t).map(Z))).then((function(n){var t,r;S(n);var a=n.map((function(e){return e.dataURL}));null!==e&&void 0!==e&&null!==(t=e.schema)&&void 0!==t&&t.multiple||(null===e||void 0===e||null===(r=e.schema)||void 0===r?void 0:r.maxFiles)>1?g(a):g(a[0])}))},multiple:e.schema.multiple||e.schema.maxFiles>1||!1,maxSize:e.schema.maxSize||2e7,maxFiles:e.schema.maxFiles||1}),D=T.getRootProps,O=T.getInputProps,F=T.isFocused,M=T.isDragAccept,I=T.isDragReject,A=(0,o.useMemo)((function(){return(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},p),F?f:{}),M?v:{}),I?m:{})}),[F,M,I]);return(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("label",{style:{display:"flex"},children:e.label}),(0,d.jsx)("p",{}),(0,d.jsxs)("div",(0,r.Z)((0,r.Z)({},D({style:A})),{},{children:[(0,d.jsx)("input",(0,r.Z)((0,r.Z)({},O()),{},{multiple:!1})),(0,d.jsxs)("p",{children:["Drag 'n' drop some files here, or click to select files. Maximum size of each file is ",(0,s.Z)((null===e||void 0===e||null===(t=e.schema)||void 0===t?void 0:t.maxSize)||2e7)]})]})),C&&(0,d.jsx)("aside",{style:h,children:C})]})}},78535:function(e,n,t){var r=t(1413),a=t(29439),i=t(72791),o=t(48550),u=t(63466),c=t(13400),l=t(3710),s=t(29569),d=t(80184);n.Z=function(e){var n=(0,i.useState)(!1),t=(0,a.Z)(n,2),p=t[0],f=t[1];return(0,d.jsx)(o.Z,(0,r.Z)((0,r.Z)({},e),{},{type:p?"text":"password",onChange:function(n){return e.onChange(n.target.value)},InputProps:{endAdornment:(0,d.jsx)(u.Z,{position:"end",children:(0,d.jsx)(c.Z,{onClick:function(){return f(!p)},"aria-label":"toggle secret visibility",children:p?(0,d.jsx)(l.Z,{fontSize:"small"}):(0,d.jsx)(s.Z,{fontSize:"small"})})})}}))}},12705:function(e,n,t){t.d(n,{$5:function(){return j},C_:function(){return N},DK:function(){return I},Dg:function(){return E},Hn:function(){return Z},K4:function(){return w},MC:function(){return M},NM:function(){return D},TC:function(){return K},TF:function(){return F},YL:function(){return g},c5:function(){return O},e7:function(){return U},eH:function(){return b},gZ:function(){return y},jl:function(){return h},lo:function(){return P},nC:function(){return _},pQ:function(){return k},r1:function(){return v},rN:function(){return H},rc:function(){return C},v:function(){return m},w1:function(){return B},ye:function(){return A}});var r=t(4942),a=t(1413),i=t(74165),o=t(15861),u=t(75330),c=t(7077),l=(0,u.nZ)({key:"apiProvidersFetchSelector",get:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.o)().get("/api/apiproviders");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),s=(0,u.nZ)({key:"apiBackendsFetchSelector",get:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.o)().get("/api/apibackends");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),d=(0,u.nZ)({key:"endpointsFetchSelector",get:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.o)().get("/api/endpoints");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),p=(0,u.nZ)({key:"dataSourcesFetchSelector",get:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.o)().get("/api/datasources");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),f=(0,u.nZ)({key:"dataSourceTypesFetchSelector",get:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.o)().get("/api/datasource_types");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),v=(0,u.cn)({key:"apiProviders",default:l}),m=(0,u.nZ)({key:"apiProviderDropdownList",get:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.get,e.next=3,t(v);case 3:return r=e.sent,e.abrupt("return",r.map((function(e){return{label:e.name,value:e.name}})));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}),h=(0,u.cn)({key:"apiProviderSelected",default:null}),g=(0,u.cn)({key:"apiBackends",default:s}),Z=(0,u.nZ)({key:"apiBackendDropdownList",get:function(e){var n=e.get,t=n(g),r=n(U);return t.filter((function(e){return-1===((null===r||void 0===r?void 0:r.disabled_api_backends)||[]).indexOf(e.id)})).map((function(e){return{label:e.name,value:e.id,provider:e.api_provider.name}}))}}),y=(0,u.cn)({key:"apiBackendSelected",default:null}),x=(0,u.cn)({key:"endpoints",default:d}),b=((0,u.nZ)({key:"endpointDropdownList",get:function(e){var n=(0,e.get)(x);return n.filter((function(e){return 0===e.version&&!e.draft})).sort((function(e,n){return e.created_on<n.created_on?1:-1})).map((function(e){return{label:"".concat(e.api_backend.api_provider.name," \xbb ").concat(e.api_backend.name," \xbb ").concat(e.name),uuid:e.uuid,options:n.filter((function(n){return n.parent_uuid===e.uuid})).map((function(n){return{label:"".concat(n.version,": ").concat(n.description),value:"".concat(n.parent_uuid,":").concat(n.version),version:n.version,backend:e.api_backend.name,provider:e.api_backend.api_provider.name,is_live:n.is_live,uuid:n.uuid}}))}}))}}),(0,u.cn)({key:"endpointSelected",default:null})),w=((0,u.nZ)({key:"endpointTableData",get:function(e){for(var n=(0,e.get)(x).filter((function(e){return!e.draft})).sort((function(e,n){return e.created_on<n.created_on?1:-1})),t=n.filter((function(e){return 0===e.version})).reduce((function(e,n){var t=(0,r.Z)({},n.uuid,(0,a.Z)((0,a.Z)({},n),{},{versions:[],key:n.uuid}));return(0,a.Z)((0,a.Z)({},e),t)}),{}),i=n.filter((function(e){return 0!==e.version})),o=0;o<i.length;o++)i[o].parent_uuid in t&&t[i[o].parent_uuid].versions.push((0,a.Z)((0,a.Z)({},i[o]),{},{key:i[o].uuid}));return Object.values(t)}}),(0,u.cn)({key:"endpointVersions",default:[]}),(0,u.cn)({key:"endpointConfigValue",default:{}})),k=(0,u.cn)({key:"promptValues",default:{}}),j=(0,u.cn)({key:"inputValue",default:{}}),S=((0,u.cn)({key:"saveEndpointModalVisible",default:!1}),(0,u.cn)({key:"saveEndpointVersionModalVisible",default:!1}),(0,u.cn)({key:"shareEndpointModalVisible",default:!1}),(0,u.cn)({key:"endpointShareCodeValue",default:null}),(0,u.nZ)({key:"profileFetchSelector",get:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.o)().get("/api/profiles/me");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})),C=(0,u.cn)({key:"profileValue",default:S}),_=(0,u.nZ)({key:"isLoggedIn",get:function(e){return null!==(0,e.get)(C)}}),T=(0,u.cn)({key:"promptHubState",default:[]}),D=((0,u.nZ)({key:"promptHubList",get:function(e){return(0,e.get)(T)}}),(0,u.cn)({key:"dataSourcesState",default:p})),O=(0,u.nZ)({key:"orgDataSourcesState",get:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n){var t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.get,e.prev=1,t(E).IS_ORGANIZATION_MEMBER){e.next=5;break}return e.abrupt("return",[]);case 5:return e.next=7,(0,c.o)().get("/api/org/datasources");case 7:return r=e.sent,e.abrupt("return",r.data);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}()}),F=(0,u.cn)({key:"dataSourceTypesState",default:f}),M=(0,u.cn)({key:"dataSourceEntriesState",default:[]}),I=(0,u.cn)({key:"orgDataSourceEntriesState",default:[]}),A=(0,u.nZ)({key:"dataSourceEntriesTableData",get:function(e){var n=e.get,t=n(M),r=n(E);t=t.map((function(e){return(0,a.Z)({isUserOwned:!0},e)}));var i=r.IS_ORGANIZATION_MEMBER?n(I):[];i=i.map((function(e){return(0,a.Z)({isUserOwned:!1},e)}));var o=n(D),u=(o=o.map((function(e){return(0,a.Z)({isUserOwned:!0},e)}))).map((function(e){return e.uuid})),c=r.IS_ORGANIZATION_MEMBER?n(O):[];c=(c=c.map((function(e){return(0,a.Z)({isUserOwned:!1},e)}))).filter((function(e){return!u.includes(e.uuid)}));for(var l=[],s={},d={},p=0;p<t.length;p++)t[p].datasource.uuid in s?s[t[p].datasource.uuid].push(t[p]):s[t[p].datasource.uuid]=[t[p]];for(var f=0;f<i.length;f++)i[f].datasource.uuid in d?d[i[f].datasource.uuid].push(i[f]):d[i[f].datasource.uuid]=[i[f]];for(var v=0;v<o.length;v++)l.push((0,a.Z)((0,a.Z)({},o[v]),{data_source_entries:s[o[v].uuid]||[]}));for(var m=0;m<c.length;m++)l.push((0,a.Z)((0,a.Z)({},c[m]),{data_source_entries:d[c[m].uuid]||[]}));return l}}),P=(0,u.cn)({key:"isMobileState",default:window.innerWidth<768}),L=((0,u.cn)({key:"appTemplateState",default:null}),(0,u.cn)({key:"appDebugState",default:{}}),(0,u.nZ)({key:"appsFetchSelector",get:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.o)().get("/api/apps");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()})),N=(0,u.cn)({key:"appsState",default:L}),R=(0,u.nZ)({key:"profileFlagsFetchSelector",get:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.o)().get("/api/profiles/me/flags");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),E=(0,u.cn)({key:"profileFlagsState",default:R}),z=(0,u.nZ)({key:"organizationFetchSelector",get:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.o)().get("/api/org");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),U=(0,u.cn)({key:"organizationState",default:z}),V=(0,u.nZ)({key:"connectionTypesFetchSelector",get:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.o)().get("/api/connection_types");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),B=(0,u.cn)({key:"connectionTypesState",default:V}),W=(0,u.nZ)({key:"connectionsFetchSelector",get:function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.o)().get("/api/connections");case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()}),H=(0,u.cn)({key:"connectionsState",default:W}),K=(0,u.cn)({key:"streamChunksState",default:{}})},7077:function(e,n,t){t.d(n,{o:function(){return i}});var r=t(31243),a=t(35552),i=function(){var e=r.Z.create({xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken"});return e.interceptors.response.use((function(e){return e}),(function(e){window.location.pathname.startsWith("/s/")||window.location.pathname.startsWith("/hub")||window.location.pathname.startsWith("/app/")||401!==e.response.status&&403!==e.response.status||(window.location.href="/login?redirectUrl="+window.location.pathname);try{(0,a.yv)("Error Occurred",{variant:"error"})}catch(n){}return Promise.reject(e)})),e}},52803:function(e,n,t){t.d(n,{B6:function(){return o},lD:function(){return u}});var r=t(75330),a=t(12705),i=t(7077);function o(){var e=(0,r.Zl)(a.NM);return function(){(0,i.o)().get("/api/datasources").then((function(n){e(n.data)})).catch((function(e){})).then({})}}function u(){var e=(0,r.Zl)(a.MC);return function(){(0,i.o)().get("/api/datasource_entries").then((function(n){e(n.data)})).catch((function(e){})).then({})}}}}]);
//# sourceMappingURL=1244.6601ada1.chunk.js.map