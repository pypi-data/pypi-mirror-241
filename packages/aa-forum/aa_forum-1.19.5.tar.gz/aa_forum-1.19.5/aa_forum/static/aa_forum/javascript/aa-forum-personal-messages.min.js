$(document).ready(()=>{"use strict";const e=$("button.btn-read-personal-message");$(e).on("click",e=>{const s=$(e.currentTarget),a=s.data("sender"),n=s.data("recipient"),o=s.data("message"),r=s.data("message-folder"),t=personalMessagesSettings.urlReadMessage,m=personalMessagesSettings.csrfToken,d=$.post(t,{csrfmiddlewaretoken:m,sender:a,recipient:n,message:o});d.done(e=>{if(void 0!==e&&""!==e){const s=$(".aa-forum-personal-messages-message");if(s.html(e),$("html, body").animate({scrollTop:s.offset().top-50},500),"inbox"===r){const a=personalMessagesSettings.urlUnreadMessagesCount,n=($("#aa-forum-personal-message-id-"+o).removeClass("panel-aa-forum-personal-messages-item-unread"),$("#aa-forum-personal-message-id-"+o+" .btn-mark-personal-message-as-read").remove(),$.get(a));n.done(e=>{0<e.unread_messages_count&&$(".aa-forum-badge-personal-messages-unread-count").html(e.unread_messages_count),0===e.unread_messages_count&&$(".aa-forum-badge-personal-messages-unread-count").remove()})}}})})});
//# sourceMappingURL=aa-forum-personal-messages.min.js.map